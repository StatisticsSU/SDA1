[
  {
    "objectID": "datorlab/lab3/DatorLab3.html",
    "href": "datorlab/lab3/DatorLab3.html",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "",
    "text": "Varning\n\n\n\nDen här labben förutsätter att följande paket finns installerade:\n\nopenxlsx\nmosaic\nvcd\ndplyr\n\nPaket kan installeras via kommandot install.packages('packagename'), där 'packagename' är namnet på paketet, t.ex 'mosaic'."
  },
  {
    "objectID": "datorlab/lab3/DatorLab3.html#introduktion",
    "href": "datorlab/lab3/DatorLab3.html#introduktion",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "Introduktion",
    "text": "Introduktion\n\nI den här datorlabben kommer vi att beskriva samband mellan två kategoriska variabler, samt samband mellan en numerisk och kategorisk variabel. Ni kommer också lära er om betingade fördelningar i R och hur man jämför fördelningar grafiskt. Vi kommer också att arbeta med tidsserier.\n\n\n💪 Uppgift 0.1\nSe till att paketen ovan är installerade innan du fortsätter med resten.\n\n\n💪 Uppgift 0.2\nSkapa en mapp Lab3 i din kursmapp SDA1 (såsom ni gjorde i Lab 1). Ladda ner Quarto-filen för denna lab genom att högerklicka här och välj ‘Spara länk’ eller något likande från menyn som dyker upp. Spara filen i din nya Lab3 mapp. Öppna Quarto-filen i RStudio. Du kan nu fortsätta med denna laboration direkt i Quarto-dokumentet, där du också fyller i svaren på dina laborationsövningar. Du kan alltså lämna den här webbsidan nu och fortsätta arbetet i RStudio.\nVäl inne i RStudio med öppnat Quarto-dokument i ‘Editor’ kan ni gå över till ‘Source mode’ genom att klicka på ‘Source’ i det vänstra hörnet av din ‘Editor’. Source mode är detaljerat och bra att skriva kod i eftersom man har full kontroll på dokumentet, men det är svårt att få en översikt av dokumentet. Prova nu att gå över till ‘Visual mode’ genom att klicka på ‘Visual’ i det vänstra hörnet av din ‘Editor’. Vi rekommenderar att ni mestadels arbetar i Visual mode, men att gå över till Source mode när man verkligen vill få till någon detalj som är svår att ändra i Visual mode. ´\n\n\n💪 Uppgift 0.3\nKlicka på knappen Render i Editor-fönstret för att kompilera filen till en webbsida (html). Webbsidan kommer antingen att visas i Viewer-fönstret i RStudio eller i webbläsaren på din dator. Om din webbsida visas i webbläsaren rekommenderar vi att du ändrar inställningarna i RStudio så webbsidan visas i Viewer-fönstret. Du ställer in detta på menyn Tools/Global Options… och sen väljer du Viewer Pane vid Show output preview in:\n\n\n\n\n\n\n\n💪 Uppgift 0.4\nFör att säkerställa att man befinner sig i korrekt arbetsmapp varje gång Quarto-dokumentet kompileras kan man skapa en s k code-chunk efter den s k YAML-texten (som återfinns längst upp i dokumentet, mellan de tre bindestrecken - - -). Du skapar en code-chunk genom att klicka på knappen med C och ett + i övre högra hörnet av Editorn.\n\n\n\n\n\n\n\n\n\n\n\nRStudios Editor ändras beroende på vilken sorts fil du har öppen\n\n\n\nNotera att ikonerna i Editor är annorlunda när du har ett Quarto-dokument öppet jämfört med tidigare när vi hade en fil med ren R-kod öppen.\n\n\nLägg till en ny code chunk och ställ in ‘working directory’ till den nya mappen genom att följa anvisningarna från Lab 1.\n\n\n\n\n\n\nTips\n\n\n\nFunktionen setwd() i R talar om för R vilken mapp som är ‘working directory’.\n\n\n\n\n💪 Uppgift 0.5\nLadda ner SmartPhones.RData (här), FevChildren.RData (här) och CAPM_data.RData (här). Filerna kommer automatiskt att sparas ner, oftast i download mappen på datorn ni sitter vid. Kopiera över filerna till Lab3 mappen ni skapade ovan.\nDet finns olika sätt att läsa in .RData filer genom load() funktionen. Ett sätt är att skriva t.ex load(\"SmartPhones.RData\"). Notera att det här förutsätter att SmartPhones.RData ligger i den arbetsmappen man angivit genom setwd() funktionen. Ett annat sätt att ladda in en .RData fil är att läsa in den direkt från webben med en kombination av load() funktionen och url() funktionen.\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab3/SmartPhones.RData?raw=true\"))\nSmartphones_from_URL <- SmartPhones\n\nArgumentet till url() funktionen är en sträng som innehåller länken till kurshemsidans git repository där SmartPhones.RData finns lagrad. I raden efter har vi sparat dataframen i en variabel som heter SmartPhones_from_URL så att du i nästa uppgift kan jämföra mot den du läser in från din lokala fil som du sparade ovan i i Lab3 mappen.\n\n\n💪 Uppgift 0.6\nAnvänd load() funktionen (utan url() funktionen) för att läsa in SmartPhones.RData lokalt från din dator. Jämför den lokalt inlästa filen med den du läste in från webben (finns sparad i SmartPhones_from_URL).\n\n# Write your code here\n\n\n\n\n\n\n\nTips\n\n\n\nFör att jämföra dataseten här räcker det att använda str() och head().\n\n\nDet är viktigt att ni vet hur man läser in .RData filer lokalt. Det kan vara så att github är tillfälligt nere, eller att ni temporärt jobbar utan tillgång till internet. I resten av labben så läses filerna in från webben, men nu vet ni hur ni kan göra om webben av någon anledning skulle vara nere."
  },
  {
    "objectID": "datorlab/lab3/DatorLab3.html#simultan-och-marginella-fördelningar-utifrån-en-korstabell",
    "href": "datorlab/lab3/DatorLab3.html#simultan-och-marginella-fördelningar-utifrån-en-korstabell",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "1. Simultan och marginella fördelningar utifrån en korstabell",
    "text": "1. Simultan och marginella fördelningar utifrån en korstabell\nKategoriska variabler är variabler vars utfall är kategorier. I Lab 1 lärde vi oss att uttrycka fördelningen för en kategorisk variabel via en frekvenstabell uttryckt i andelar. En fördelning av en endaste variabel, till exempel \\(y\\), kallas för marginalfördelningen för \\(y\\). När vi betraktar två kategoriska variabler, till exempel \\(x\\) och \\(y\\) , så finns det olika fördelningar vi kan tänka oss:\n\nMarginella fördelningar, en fördelning för vardera variabel \\(x\\) och \\(y\\).\nSimultan fördelning för variablerna \\(x\\) och \\(y\\) (endast en fördelning).\nBetingade fördelningar, en fördelning för vardera variabel \\(x\\) och \\(y\\), betingat på den andra.\n\nNotera att dessa tre typer av fördelningar finns oavsett om variablerna är numeriska eller kategoriska. När bägge variablerna är kategoriska räknas dessa fördelningar utifrån en så kallad korstabell (se nedan). Att känna till de olika fördelningstyperna är mycket viktigt och den kunskapen tillämpas på alla statistikkurser framöver. Att förstå dessa, samt kunna urskilja dom från varandra, kommer att underlätta förståelsen av statistik såväl som sannolikhetsteori som ni kommer stöta på under Del 2 av kursen.\nFör att illustrera dessa koncept i ett praktiskt problem ska vi undersöka om det föreligger ett samband mellan vilken smartphone man föredrar och vilken ålderskategori man tillhör. Data finns i SmartPhones.RData.\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab3/SmartPhones.RData?raw=true\")) \nstr(SmartPhones)\n\n'data.frame':   2498 obs. of  2 variables:\n $ age.group: chr  \"50+\" \"50+\" \"50+\" \"35-49\" ...\n $ brand    : chr  \"Samsung\" \"Samsung\" \"Others\" \"Samsung\" ...\n\nhead(SmartPhones) # Prints first few observations\n\n  age.group    brand\n1       50+  Samsung\n2       50+  Samsung\n3       50+   Others\n4     35-49  Samsung\n5       50+ Motorola\n6     35-49   iPhone\n\n\nLåt oss börja med att skapa en korstabell. En korstabell är en tabell som innehåller frekvensen för varje utfall av variablerna. Notera att om vi har två kategoriska variabler, säg \\(x\\) och \\(y\\), så är utfallen alla parvisa kombinationer av utfallen av de respektive variablerna.\n\nsuppressMessages(library(mosaic))\ntally(~ brand + age.group, data = SmartPhones)\n\n          age.group\nbrand      18-34 35-49 50+\n  Asus        25    17   8\n  Casio       25    11   6\n  HTC         26    11  10\n  iPhone     354   219 284\n  LG          87    83 166\n  Motorola    33    30  71\n  Others       6     6  44\n  Samsung    264   252 351\n  Sony        48    33  28\n\n\nEftersom age.group har 3 utfall och brand har 9 utfall, finns det totalt \\(3\\cdot9=27\\) olika utfall i korstabellen.\nFormula-syntaxen (nämndes i Lab 1) ~ brand + age.group talar om att vi vill göra en frekvenstabell av brand och age.group. Vi kan också använda tecknet & istället för +.\n\n💪 Uppgift 1.1\nGör en korstabell genom att använda & istället för +. Släng även om ordningen på variablerna, dvs age.group före brand. Förändras frekvensantalen?\n\n# Write your code here\n\nVi kan lägga till radsummor och kolumnsummor till korstabellen genom argumentet margins = TRUE.\n\ntally(~ brand + age.group, data = SmartPhones, margins = TRUE) # Show row and column totals\n\n          age.group\nbrand      18-34 35-49  50+ Total\n  Asus        25    17    8    50\n  Casio       25    11    6    42\n  HTC         26    11   10    47\n  iPhone     354   219  284   857\n  LG          87    83  166   336\n  Motorola    33    30   71   134\n  Others       6     6   44    56\n  Samsung    264   252  351   867\n  Sony        48    33   28   109\n  Total      868   662  968  2498\n\n\n\n\n💪 Uppgift 1.2\nSvara på följande frågor:\n\nHur många deltog i undersökningen?\nHur många föredrog en Casio smartphone?\nHur många i åldersgruppen 18-34 föredrog en Samsung telefon?\n\nTabeller är ofta enklare att utläsa när de anges i relativa frekvenser (alternativt i procentform). Detta kan åstadkommas med argumentet format.\n\ntally(~ brand + age.group, data = SmartPhones, margins = TRUE, format = \"proportion\")\n\n          age.group\nbrand            18-34       35-49         50+       Total\n  Asus     0.010008006 0.006805444 0.003202562 0.020016013\n  Casio    0.010008006 0.004403523 0.002401922 0.016813451\n  HTC      0.010408327 0.004403523 0.004003203 0.018815052\n  iPhone   0.141713371 0.087670136 0.113690953 0.343074460\n  LG       0.034827862 0.033226581 0.066453163 0.134507606\n  Motorola 0.013210568 0.012009608 0.028422738 0.053642914\n  Others   0.002401922 0.002401922 0.017614091 0.022417934\n  Samsung  0.105684548 0.100880705 0.140512410 0.347077662\n  Sony     0.019215372 0.013210568 0.011208967 0.043634908\n  Total    0.347477982 0.265012010 0.387510008 1.000000000\n\ntally(~ brand + age.group, data = SmartPhones, margins = TRUE, format = \"percent\")\n\n          age.group\nbrand            18-34       35-49         50+       Total\n  Asus       1.0008006   0.6805444   0.3202562   2.0016013\n  Casio      1.0008006   0.4403523   0.2401922   1.6813451\n  HTC        1.0408327   0.4403523   0.4003203   1.8815052\n  iPhone    14.1713371   8.7670136  11.3690953  34.3074460\n  LG         3.4827862   3.3226581   6.6453163  13.4507606\n  Motorola   1.3210568   1.2009608   2.8422738   5.3642914\n  Others     0.2401922   0.2401922   1.7614091   2.2417934\n  Samsung   10.5684548  10.0880705  14.0512410  34.7077662\n  Sony       1.9215372   1.3210568   1.1208967   4.3634908\n  Total     34.7477982  26.5012010  38.7510008 100.0000000\n\n\nFördelningen ovan i de celler som inte inkluderar Total är den simultana fördelningen för variablerna, dvs:\n\ntally(~ brand + age.group, data = SmartPhones, margins = FALSE, format = \"proportion\")\n\n          age.group\nbrand            18-34       35-49         50+\n  Asus     0.010008006 0.006805444 0.003202562\n  Casio    0.010008006 0.004403523 0.002401922\n  HTC      0.010408327 0.004403523 0.004003203\n  iPhone   0.141713371 0.087670136 0.113690953\n  LG       0.034827862 0.033226581 0.066453163\n  Motorola 0.013210568 0.012009608 0.028422738\n  Others   0.002401922 0.002401922 0.017614091\n  Samsung  0.105684548 0.100880705 0.140512410\n  Sony     0.019215372 0.013210568 0.011208967\n\n\nEn cell i den simultana fördelningen anger andelen av det totala antalet som hamnar i det utfallet. Exempelvis är \\(\\approx 0.088\\) (\\(\\approx 8.8\\%\\) ) av alla 2498 deltagare i åldersgruppen 35-49 och föredrar en iPhone. En fördelning summerar alltid till 1, vilket bekräftades ovan när vi inkluderade Total via margins = TRUE (cellen längst ner till höger).\n\n\n💪 Uppgift 1.3\nSvara på följande frågor:\n\nHur stor andel av alla föredrog en Casio smartphone?\nHur stor andel av alla tillhörde åldersgruppen 18-34 samt föredrog en Samsung telefon?\nVad är problemet med påståendet “Ca 14% av de tillfrågade i åldersgruppen 18-34 föredrog en iPhone”?\n\n\n\n\n💪 Uppgift 1.4\nAnvänd tally() funktionen såsom ni gjorde i Lab 1 för att beräkna marginalfördelningen för vardera variabel. Använd argumentet format = \"proportion\". Känner ni igen dessa fördelningar från tidigare i labben?\n\n# Write your code here.\n\nMarginalfördelningarna kan alltså fås via kolumntotalen och radtotalen i simultanfördelningen via argumentet margins = TRUE.\n\n\n💪 Uppgift 1.5\nVad summerar varje marginalfördelning till? Du bör kunna svara på den här frågan utan att koda."
  },
  {
    "objectID": "datorlab/lab3/DatorLab3.html#betingade-fördelningar-utifrån-en-korstabell",
    "href": "datorlab/lab3/DatorLab3.html#betingade-fördelningar-utifrån-en-korstabell",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "2. Betingade fördelningar utifrån en korstabell",
    "text": "2. Betingade fördelningar utifrån en korstabell\nI sista delfrågan på Uppgift 1.3 frågades vad problemet med påståendet “Ca 14% av de tillfrågade i åldersgruppen 18-34 föredrog en iPhone” var. Påståendet hade varit korrekt om formuleringen var “Ca 14% av alla tillfrågade tillhörde åldersgruppen 18-34 och föredrog en iPhone”. För att räkna ut den korrekta andelen i det felaktiga påståendet måste vi enbart betrakta de tillfrågade som tillhör åldersgruppen 18-34, dvs 868 personer (enligt tabellen i Uppgift 1.1). Av dessa föredrog 354 personer iPhone (enligt tabellen i Uppgift 1.1). Den korrekta andelen beräknas således till \\(354/868\\approx 0.41\\), eller ca 41%.\nTerminologin är viktig att lära sig. Vi säger att vi har en betingad fördelning för smartphonepreferens betingat på åldersgrupp (i det här fallet åldersgruppen 18-34). Ofta säger vi enbart “fördelning för smartphonepreferens betingat på åldersgrupp (i det här fallet åldersgruppen 18-34)”, och det är underförstått att det är en betingad fördelning. Vi skulle också kunna säga “fördelningen för smartphonepreferens givet åldersgrupp”.\nVi skulle kunna kunna räkna ut den betingade fördelningen för de övriga utfallen för hand, Asus (\\(25/868\\)), Casio (\\(25/868\\)), HTC (\\(26/868\\)), osv. Räkna ut för hand är viktigt på tentan, så se till att ni förstår hur man gör! I praktiken låter vi datorn göra räkningarna åt oss. I R kan vi göra detta genom användning av formula-syntax tecknet |, som betyder betingat på variabeln som följer efter tecknet.\n\ntally(~ brand | age.group, data = SmartPhones, format = \"proportion\")\n\n          age.group\nbrand            18-34       35-49         50+\n  Asus     0.028801843 0.025679758 0.008264463\n  Casio    0.028801843 0.016616314 0.006198347\n  HTC      0.029953917 0.016616314 0.010330579\n  iPhone   0.407834101 0.330815710 0.293388430\n  LG       0.100230415 0.125377644 0.171487603\n  Motorola 0.038018433 0.045317221 0.073347107\n  Others   0.006912442 0.009063444 0.045454545\n  Samsung  0.304147465 0.380664653 0.362603306\n  Sony     0.055299539 0.049848943 0.028925620\n\n\nOvan ser vi tre olika betingade fördelningar, en för varje åldersgrupp. En betingad fördelning är också en fördelning: En fördelning summerar alltid till 1. Vi kan bekräfta detta för varje åldersgrupp genom att använda margins = TRUE som argument.\n\ntally(~ brand | age.group, data = SmartPhones, format = \"proportion\", margins = TRUE)\n\n          age.group\nbrand            18-34       35-49         50+\n  Asus     0.028801843 0.025679758 0.008264463\n  Casio    0.028801843 0.016616314 0.006198347\n  HTC      0.029953917 0.016616314 0.010330579\n  iPhone   0.407834101 0.330815710 0.293388430\n  LG       0.100230415 0.125377644 0.171487603\n  Motorola 0.038018433 0.045317221 0.073347107\n  Others   0.006912442 0.009063444 0.045454545\n  Samsung  0.304147465 0.380664653 0.362603306\n  Sony     0.055299539 0.049848943 0.028925620\n  Total    1.000000000 1.000000000 1.000000000\n\n\nNotera att en Total för radsummorna inte finns i tabellen. Detta beror på att R vet att vi betingar på a~ age.group, och då saknar radsummorna en betydelse och därför skrivs de inte ut.\nEtt alternativ sätt att skriva betingningen ~ brand | age.group är brand ~ age.group , utan att använda |-tecknet. R tolkar då variabeln vänster om ~ som variabeln fördelningen ska beräknas för, och variabeln till höger om ~ som variabeln det ska betingas på. Det här alternativa sättet att skriva formula-syntax är det som används i många R funktioner vi kommer att stöta på senare i kursen, till exempel lm() funktionen som används i regression. Även plot() och boxplot() som vi använder senare i den här labben använder den alternativa formula-syntaxen.\n\n💪 Uppgift 2.1\nAnvänd den allternativa formula-syntaxen för att beräkna den betingade fördelningen ovan. Stäm av att resultaten blir desamma.\n\n# Write your code here\n\n\n\n💪 Uppgift 2.2\nSvara på följande frågor:\n\nVilken är den populäraste smartphonen i åldersgruppen 35-49?\nHur stor andel av de i åldersgruppen 18-34 föredrar en Sony?\nHur stor andel av de i åldersgruppen 18-34 föredrar en Sony eller en Samsung?\nVad är problemet med påståendet “Bland de som föredrar iPhone är det en större andel, ca 40%, som tillhör åldersgruppen 18-34 gentemot ca 29% som tillhör åldersgruppen 50+”?\n\n\n\n💪 Uppgift 2.3\nUttryck de betingade fördelningarna ovan i procentform istället för andelar.\n\n# Write your code here\n\n\n\n\n\n\n\nTips\n\n\n\nKom ihåg att argumentet format bestämmer tabellens format.\n\n\nI sista delfrågan på Uppgift 2.2 frågades vad problemet med påståendet “Bland de som föredrar iPhone är det en större andel, ca 40%, som tillhör åldersgruppen 18-34 gentemot ca 29% som tillhör åldersgruppen 50+” . Det finns två varningstecken här. Det första är formuleringen “Bland de som föredrar en iPhone…”, vilket betyder att vi bara betraktar de som har en iPhone — dvs vi måste betinga på iPhone! Andra varningstecknet är att vi uttalar oss om andelar för åldersgrupper — den betingade fördelningen vi skapade ovan är andelar över smartphonepreferens, inte över åldersgrupper! De andelar vi har angett i påståendet är således felaktiga.\n\n\n💪 Uppgift 2.4\nBeräkna (med hjälp av R) den betingade fördelningen som hjälper oss att rätta till det felaktiga påståendet.\n\n# Write your code here\n\n\n\n\n\n\n\nTips\n\n\n\nOm du har förstått innebörden av formula-syntaxen ~ brand | age.group (eller alternativt brand ~ age.group) borde denna uppgift vara enkel.\n\n\n\n\n💪 Uppgift 2.5\nRätta det felaktiga påståendet i sista delfrågan på Uppgift 2.2."
  },
  {
    "objectID": "datorlab/lab3/DatorLab3.html#jämföra-fördelningar-för-kategoriska-variabler",
    "href": "datorlab/lab3/DatorLab3.html#jämföra-fördelningar-för-kategoriska-variabler",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "3. Jämföra fördelningar för kategoriska variabler",
    "text": "3. Jämföra fördelningar för kategoriska variabler\nNär vi jämför variablers fördelningar är det ofta via grafiska metoder. Vilken typ av plot som är lämpligast beror på om variablerna vi jämför är numeriska eller kategoriska. Vi börjar med fallet då båda variablerna är kategoriska, dvs samma scenario som i Avsnitt 2 ovan.\nVisst skulle vi till exempel kunna kolla på andelarna för smartphonepreferens betingat på åldersgrupp vi räknade i Avsnitt 2, dvs:\n\ntally(~ brand | age.group, data = SmartPhones, format = \"proportion\")\n\n          age.group\nbrand            18-34       35-49         50+\n  Asus     0.028801843 0.025679758 0.008264463\n  Casio    0.028801843 0.016616314 0.006198347\n  HTC      0.029953917 0.016616314 0.010330579\n  iPhone   0.407834101 0.330815710 0.293388430\n  LG       0.100230415 0.125377644 0.171487603\n  Motorola 0.038018433 0.045317221 0.073347107\n  Others   0.006912442 0.009063444 0.045454545\n  Samsung  0.304147465 0.380664653 0.362603306\n  Sony     0.055299539 0.049848943 0.028925620\n\n\nFrån dessa betingade fördelningar ser vi till exempel att iPhone är den populäraste smartphonen i åldersgruppen 18-34 och näst populäraste i de andra två åldersgrupperna. Vi ser också att andelen som föredrog iPhone var ca 41% i åldersgruppen 18-34, gentemot ca 33% bland åldersgruppen 35-49 och ca 29% i åldersgruppen 50+.\nInformationen i tabellen ovan blir ännu tydligare i när den presenteras med ett stapeldiagram för varje åldersgrupp.\n\nbargraph(~ brand | age.group, data = SmartPhones, type = \"proportion\")\n\n\n\n\n\n💪 Uppgift 3.1\nSvara på följande frågor:\n\nVad kan man säga om preferensen för Others-kategorin mellan åldersgrupperna?\nVilken är den populäraste smartphonen för respektive åldersgrupp?\nÄr påståendet ‘’Summan av alla staplarna för åldersgruppen 50+ är 1’’ korrekt? Varför/varför inte?\nÄr påståendet ‘’Summan av iPhone staplarna över de tre åldersgrupperna är 1’’ korrekt? Varför/varför inte?\n\n\n\n💪 Uppgift 3.2\nAnvänd bargraph() för att plotta de betingade fördelningarna för åldersgrupperna betingat på smartphonepreferens.\n\n# Write your code here\n\n\n\n💪 Uppgift 3.3\nSvara på följande frågor:\n\nHur ser åldersfördelningen ut för smartphonepreferensen Others gentemot Casio?\nHur ser åldersfördelningen ut för smartphonepreferensen HTC?\nÄr påståendet ‘’Summan av 50+ staplarna över de nio smartphonespreferensgrupperna är 1’’ korrekt? Varför/varför inte?\n\nVi kan också göra ett staplat stapeldiagram (stacked barchart) för att kompakt visa resultaten i Uppgift 3.2 För detta använder vi barplot() funktionen i base R, då mosaic-paketet inte har en sådan funktion (se nedan för en liknande plot, mosaicplotten). Vi behöver först skapa och spara den betingade fördelningen med hjälp av tally().\n\nt <- tally(~ age.group | brand, data = SmartPhones, format = \"prop\")\nbarplot(t, col = c(\"aquamarine\", \"cornflowerblue\", \"darkblue\"), xlab = \"Brands\", ylim = c(0,1.7), legend=c(\"18-34\", \"35-49\", \"50+\"), las=2)\n\n\n\n\nDet enda argumentet till funktionen ni inte har stött på tidigare är las = 2, som ser till att namnen på kategorierna hamnar vertikalt istället för horisontellt (så de får plats i figuren).\n\n\n💪 Uppgift 3.4\nVilken av de två figurerna ovan tycker ni är enklast att jämföra proportionerna mellan grupperna i?\n\n\n💪 Uppgift 3.5\nOm vi, för varje grupp vi betingar på, istället vill ha staplarna bredvid varandra (och inte ovanpå varandra) kan vi använda argumentet beside beside = TRUE. Gör en sådan plot.\n\n# Write your code here\n\nVi har gått igenom mosaicplot på Föreläsning 4. Notera att namnet på plotten inte har med mosaic-paketet att göra. En mosaicplot är en stacked barchart, men innehåller också information om marginalfördelningen på variabeln man betingar på. Vi kan använda funktionen mosaic() från vcd-paketet. Viktigt att notera att variabeln vi betingar på hamnar på y-axeln, till skillnad från x-axeln som mosaicplottarna i boken.\n\nsuppressMessages(library(vcd))\nt <- tally(~ age.group | brand, data = SmartPhones, format = \"prop\")\nvcd::mosaic(~ age.group | brand, data = SmartPhones)\n\n\n\n\nNotera att vi anropar funktionen via vcd::mosaic() istället för mosaic(), då den senare refererar till mosaic-paketet och inte till funktionen mosaic() från vcd-paketet som är den vi vill använda.\nVariabeln smartphonepreferens har för många utfall (kategorier), vilket gör mosaicplotten oläslig. Tyvärr har inte funktionen argumentet las vi använde oss av för att rotera texten i bargraph(). För enkelhetens skull, låt oss definiera en ny dataframe där vi endast behåller repondenter som har svarat iPhone, Samsung, LG eller Sony och illustrera mosaicplotten med dessa nya data. Här är ett exempel där tidyverse löser uppgiften på ett mer elegant sätt än base R med funktionen filter().\n\nsuppressMessages(library(dplyr))\nSmartPhones_new <- filter(SmartPhones, brand == \"iPhone\" |brand == \"Samsung\"|brand == \"LG\" | brand == \"Sony\")\n\nNotera att i koden ovan så har inte |-tecknet samma betydelse som i formula-syntax, där den betyder betingat på. I koden ovan betyder |-tecknet “eller”. filter anropet ovan behåller alltså de observationer som har värdet brand lika med “iPhone” eller “Samsung” eller “LG” eller “Sony”. Tecknet == är en jämförelse, dvs filter() funktionen kollar om brand är lika med de värdena vi har angett och om så är fallet så behålls den. Om brand till exempel skulle ha värdet “Casio” så kommer den inte att behållas.\n\n\n💪 Uppgift 3.6\nAnvänd tally() för att beräkna den betingade fördelningen age.group givet brand samt marginalfördelningen för brand för den nya dataframen SmartPhones_new.\n\n# Write your code here\n\n\n\n💪 Uppgift 3.7\nAnvänd vcd::mosaic() för att göra en mosaicplot för age.group givet brand för den nya dataframen SmartPhones_new. Stämmer de betingade fördelningarna samt marginalfördelningen i plotten överens med de ni räknade fram i Uppgift 3.6?\n\n# Write your code here.\n\n\n\n\n\n\n\nExtra: Ett första steg mot att arbeta mer självständigt.\n\n\n\nDenna uppgift bör göras först efter att man gjort klart resten av labben. Uppgiften kan hoppas över vid brist på tid, då ni redan lärt er beskriva samband mellan kategoriska variabler. Syftet med uppgiften är att ni ska använda de verktygen ni har lärt er på ett självständigt sätt.\nNi kan tillämpa det ni har lärt er i Avsnitt 3 på ett nytt datamaterial. Vi föreslår att ni analyserar sambandet mellan Survived och Class i Titanic datasetet. I Lab 2 analyserade ni variablerna var för sig. Er uppgift nu är att studera om det föreligger ett samband mellan Survived och Class och hur detta samband ser ut.\n\nsuppressMessages(library(openxlsx)) # \ntitanic <- read.xlsx(\"https://github.com/StatisticsSU/SDA1/raw/main/datorlab/lab2/Chapter_3.xlsx\", sheet = \"Titanic\")\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab3/DatorLab3.html#samband-mellan-en-numerisk-och-en-kategorisk-variabel",
    "href": "datorlab/lab3/DatorLab3.html#samband-mellan-en-numerisk-och-en-kategorisk-variabel",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "4. Samband mellan en numerisk och en kategorisk variabel",
    "text": "4. Samband mellan en numerisk och en kategorisk variabel\nI Lab 2 presenterades histogrammet som ett verktyg att beskriva fördelningen för en numerisk variabel. Om vi vill studera hur sambandet mellan en numerisk och en kategorisk variabel ter sig är det naturligt att göra ett histogram av den numeriska variabeln för varje utfall av den kategoriska variabeln. Ett sådant histogram är en betingad fördelning, eftersom endast observationerna som tillhör utfallet vi betingar på för den kategoriska variabeln används vid konstruktionen av histogrammet.\nLåt oss illustrera koncepten med ett dataset över forcerad utandningsvolym, forced expiratory volume (FEV) på engelska, hos 606 barn och ungdomar. De numeriska variblerna i datasetet är forcerad utandningsvolym (fev), längd (height) och ålder (age). De kategoriska variablerna är rökare (smoking, ja kodat som 1 och nej kodat som 0), åldersgrupp (age.group) och kön (gender). Data finns i FevChildren.RData.\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab3/FevChildren.RData?raw=true\"))\nstr(FevChildren)\n\n'data.frame':   606 obs. of  6 variables:\n $ fev      : num  1.71 1.72 1.72 1.56 1.9 ...\n $ height   : num  145 171 138 135 145 ...\n $ smoking  : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ gender   : Factor w/ 2 levels \"f\",\"m\": 1 1 1 2 2 1 1 1 1 1 ...\n $ age      : num  9 8 7 9 9 8 6 6 8 9 ...\n $ age.group: Factor w/ 3 levels \"6-9\",\"10-14\",..: 1 1 1 1 1 1 1 1 1 1 ...\n\nhead(FevChildren)\n\n    fev height smoking gender age age.group\n1 1.708 144.78       0      f   9       6-9\n2 1.724 171.45       0      f   8       6-9\n3 1.720 138.43       0      f   7       6-9\n4 1.558 134.62       0      m   9       6-9\n5 1.895 144.78       0      m   9       6-9\n6 2.336 154.94       0      f   8       6-9\n\n\n\n💪 Uppgift 4.1\nAnvänd histogram() funktionen från mosaic-paketet för att plotta den marginella fördelningen för fev. Beräkna de olika fördelningsmåtten med hjälp av favstats() och beskriv fördelningen.\n\n# Write your code here\n\nFinns det något samband mellan den forcerade utandningsvolymen (fev) och åldersgrupp (age.group)? Låt oss göra ett histogram för den forcerade utandningsvolymen betingat på de olika åldersgrupp samt räkna ut fördelningsmåtten för att besvara frågan.\n\nhistogram(~ fev | age.group, data = FevChildren)\n\n\n\nfavstats(~ fev | age.group, data = FevChildren)\n\n  age.group   min      Q1 median      Q3   max     mean        sd   n missing\n1       6-9 1.165 1.72100 2.0735 2.45175 3.842 2.113778 0.4813427 270       0\n2     10-14 1.458 2.57575 3.0430 3.45950 5.224 3.089574 0.6965719 296       0\n3     15-17 2.198 2.99825 3.6810 4.28775 5.793 3.707000 0.9137702  40       0\n\n\nVi ser att de med de största forcerade utandningsvolymen återfinns i den äldsta åldersgruppen. Vi kan också se att både medelvärdet och medianen ökar med åldersgrupp. Resultaten är förväntade då äldre barn och ungdomar har också större lungor.\n\n\n💪 Uppgift 4.2\nHur ser sambandet mellan den forcerade utandningsvolymen (fev) och rökning (smoking) ut? Är resultaten förväntade?\n\n# Write your code here.\n\nVi kan också betinga på mer än en variabel. Exempelvis kan vi plotta fördelningen för fev betingat på smoking och åldersgrupp (age.group).\n\nhistogram(~ fev | smoking + age.group, data = FevChildren)\n\n\n\nfavstats(~ fev | smoking + age.group, data = FevChildren)\n\n  smoking.age.group   min     Q1 median    Q3   max     mean        sd   n\n1             0.6-9 1.165 1.7200  2.076 2.455 3.842 2.114375 0.4821395 269\n2             1.6-9 1.953 1.9530  1.953 1.953 1.953 1.953000        NA   1\n3           0.10-14 1.458 2.5625  2.993 3.446 5.224 3.064416 0.6890278 255\n4           1.10-14 1.694 2.9530  3.152 3.498 4.789 3.246049 0.7311560  41\n5           0.15-17 2.635 3.5000  3.985 4.500 5.793 4.079952 0.8827685  21\n6           1.15-17 2.198 2.7370  3.122 3.763 4.872 3.294789 0.7756381  19\n  missing\n1       0\n2       0\n3       0\n4       0\n5       0\n6       0\n\n\nVi såg tidigare att de största forcerade utandningsvolymen återfanns i den äldsta åldersgruppen. Histogrammen i första raden ovan visar att de också fanns bland icke-rökarna. Notera att ett av utfallen, åldersgrupp 6-9 har endast 1 observation (en alltför ung rökare). Det är då inte så meningsfullt att vare sig plotta ett histogram eller räkna fördelningsmått.\nBland åldersgrupp 15-17 ser vi att både medianen och medelvärdet är högre bland de som inte röker jämfört med rökarna. För åldersgrupp 10-14 är medianen och medelvärdet högre bland de som röker jämfört med de som inte röker. Betyder det att det är bättre för lugnkapaciteten att röka om man är i åldersgruppen 10-14? Notera först att skillnaden mellan medelvärdena (och medianerna) för åldersgrupp 15-17 mellan rökare och icke-rökare är betydligt större jämfört med de motsvarande skillnaderna för åldersgrupp 10-14. Skillnaderna för åldersgrupp 10-14 är ganska små — kan det vara så att det är slumpfaktorn som har resulterat i högre medelvärde (och median) för rökarna (jämfört med icke-rökarna) i åldersgrupp 10-14? Hade vi tagit ett nytt stickprov på 606 nya barn och ungdomar hade vi kanske fått det omvända resultatet, dvs att medelvärdet (och medianen) för rökarna i åldersgrupp 10-14 hade varit lägre än icke-rökarna i samma åldersgrupp. Ett resultat som är orsakat av slumpen sägs vara icke signifikant (statistiskt insignifikant). För att statistiskt säkerställa att skillnaderna inte beror på slumpen behöver vi vänta till kursens andra del, men det är viktigt att ni redan nu förstår att små avvikelser kan bero på slumpen och inte dra för mycket slutsatser.\nVi kan också notera att formula-syntax med mosaicpaketet som vi har använt ovan är kompakt och lätt att implementera. Vi kan göra samma sorts figurer i base R, men det kräver betydligt mer kod som är dessutom krångligare att förstå (klicka i marginalen om du är intresserad).\n\n\n\n\n\n\n\n\n\n💪 Uppgift 4.3\nAnvänd histogram() för att plotta fördelningen för fev betingat på kön (gender) och age.group. Beräkna även fördelningsmåtten med favstats() och kommentera resultaten.\n\n# Write your code here\n\nEtt annat sätt att illustrera samband mellan en numerisk variabel och kategoriska variabler är att använda en boxplot där man betingar på de kategoriska variablerna. Fördelen med denna ansats är att vi kan summera allt i en figur, istället för att använda många figurer som vi gjorde med histogram ansatsen. Det går att plotta flera histogram i samma plot med tidyverse-syntax och också med base R, men figuren kan bli ganska stökig (klicka i marginalen om du är intresserad).\n\n\n \nFöljande kod plottar samma fördelning som i Uppgift 4.3, men med boxplot() istället för histogram(). Som vi noterade i Avsnitt 2 så använder boxplot() den alternativa formula-syntaxen, dvs istället för ~ fev | gender + age.group skriver vi fev ~  gender + age.group.\n\nboxplot(fev ~ gender + age.group, data = FevChildren)\n\n\n\n\nEn fördel med boxplotten kontra histogrammet är att alla medianer visas, dessutom i samma figur, vilket förenklar jämförelser mellan grupperna utan att behöva använda favstats().\n\n\n💪 Uppgift 4.4\nAnvänd boxplot() för att jämföra fördelningarna för fev betingat på olika utfall av smoking och age.group. Ovan hade vi en diskussion om statistisk signifikans för samma exempel. Ser ni i figuren att skillnaderna för medianerna i åldersgrupp 10-14 mellan rökare och icke rökare är liten jämfört med samma skillnad i åldersgrupp 15-17? Vilken av dessa skillnader är mest trolig att vara statistiskt signifikant?\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab3/DatorLab3.html#tidsserier",
    "href": "datorlab/lab3/DatorLab3.html#tidsserier",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "5. Tidsserier",
    "text": "5. Tidsserier\nTidsserieanalys är ett stort område inom statistik. I den här kursen går vi inte in så mycket på tidsserier, mer än att lär oss att plotta dom.\nFilen CAPM_data.RData innehåller tidsserier över månadsavkastningar för olika finansiella tillgångar samt makroekonomiska variabler såsom obligationsränta (RKFREE) och konsumentprisindex (CPI). Observationerna är ordnade i tid, där första observationen är från januari 1978 och sista observationen är från december 1987. Observationerna är på månadsfrekvens, så vi har totalt 120 observationer (12 per år under 10 år). Månadsavkastningen \\(r_t\\) för en finansiell tillgång som är värderar till \\(S_t\\) i period \\(t\\) definieras som \\[r_t=\\frac{S_t-S_{t-1}}{S_{t-1}}.\\]\nExempelvis, antag att tillgången var värderad till 105 vid tidpunkten \\(t-1\\), dvs \\(S_{t-1}=100\\), och 110 vid tidpunkten \\(t\\), dvs \\(S_{t}=110\\). Då är månadsavkastningen i perioden \\(t\\)\n\\[r_t = \\frac{110 - 105}{105} \\approx 0.048,\\]\ndvs en uppgång på nästan 5% jämfört med föregående månad.\nVi läser in data samt inspekterar variabeltyperna.\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab3/CAPM_data.RData?raw=true\"))\nstr(CAPM)\n\n'data.frame':   120 obs. of  22 variables:\n $ DATE  : Date, format: \"1978-01-31\" \"1978-02-28\" ...\n $ MARKET: num  -0.045 0.01 0.05 0.063 0.067 ...\n $ RKFREE: num  0.00487 0.00494 0.00526 0.00491 0.00513 ...\n $ BOISE : num  -0.079 0.013 0.07 0.12 0.071 ...\n $ CONED : num  -0.079 -0.003 0.022 -0.005 -0.014 ...\n $ CONTIL: num  -0.129 0.037 0.003 0.18 0.061 ...\n $ CITCRP: num  -0.115 -0.019 0.059 0.127 0.005 ...\n $ DATGEN: num  -0.084 -0.097 0.063 0.179 0.052 ...\n $ DEC   : num  -0.1 -0.063 0.01 0.165 0.038 ...\n $ DELTA : num  -0.028 -0.033 0.07 0.15 -0.031 ...\n $ GENMIL: num  -0.099 0.018 -0.023 0.046 0.063 ...\n $ GERBER: num  -0.048 0.16 -0.036 0.004 0.046 ...\n $ IBM   : num  -0.029 -0.043 -0.063 0.13 -0.018 ...\n $ MOBIL : num  -0.046 -0.017 0.049 0.077 -0.011 ...\n $ PANAM : num  0.025 -0.073 0.184 0.089 0.082 ...\n $ PSNH  : num  -0.008 -0.025 0.026 -0.008 0.019 ...\n $ TANDY : num  -0.075 -0.004 0.124 0.055 0.176 ...\n $ TEXACO: num  -0.054 -0.01 0.015 0 -0.029 ...\n $ WEYER : num  -0.116 -0.135 0.084 0.144 -0.031 ...\n $ POIL  : num  7.9 7.87 7.79 7.86 7.89 ...\n $ FRBIND: num  126 128 128 129 130 ...\n $ CPI   : num  167 167 168 168 169 ...\n\n\nNotera att dataframen som laddas in heter CAPM och inte CAPM_data. Det finns ingen koppling mellan filnamnet och namnet på dataframen i R. Namnet på dataframen bestäms av vad den döptes till när den sparades, i det här fallet CAPM.\nVi noterar att alla variabler förutom DATE är numeriska. DATE är i såkallad Date-format, vilket gör att R förstår att det är ett datum, trots att den verkar lagras som strängar enligt utskriften ovan. R behandlar alltså inte DATE som en kategorisk variabel.\nDatasetet innehåller variabeln MARKET, vilket är marknadsportföljensavkastning (dvs alla tillgångar i marknaden). Vi kan göra en tidsserieplot för marknadsportföljens avkastning.\n\nplot(MARKET ~ DATE, data = CAPM, col = \"darkblue\")\n\n\n\n\nEftersom det vi plottar är en tidsserie så är observationerna ordnade och då är det vanligt att man binder ihop observationerna med linjer, dvs en linjeplot. Detta kan vi göra genom att använda argumentet type = \"l\" i funktionen plot(), där “l” står för line.\n\nplot(MARKET ~ DATE, data = CAPM, col = \"darkblue\", type = \"l\")\n\n\n\n\n\n💪 Uppgift 5.1\nOm vi tycker att linjen är för tunn kan vi kontrollera dess tjocklek med plot() funktionens argument lwd som står för linewidth. Defaultvärdet (dvs värdet som används om inget annat anges) är lwd = 1. Om vi vill ha en linje som är 50% tjockare anger vi lwd = 1.5. Gör om plotten ovan med en dubbelt så tjock linje.\n\n# Write your code here\n\nFrån tidsserieplotten ser vi ser att, över en lång period, så kan marknaden ha ganska kraftiga svängningar.\n\n\n💪 Uppgift 5.2\nBlack Monday är namnet på en av de värsta börskrascherna någonsin. Black Monday inträffade oktober 1987. Kan ni se Black Monday händelsen i tidsserien? Hur mycket föll marknadsportföljen den månaden?\n\n# Write your code here\n\n\n\n\n\n\n\nTips\n\n\n\nIbland kan det vara bra att kunna hämta ut en variabel från en dataframe. Antag att vi har en dataframe my_data med en variabel vid namn x. Vi kan använda $-tecken för att hämta ut den variabeln från dataframen. Vi skriver då my_data$x.\n\n\n\n\n💪 Uppgift 5.3\nPlotta tidsserien för tillgången CITCRP. Hur drabbades CITCRP av Black Monday jämfört med marknadsportföljen?\n\n# Write your code here\n\nNotera att varje gång vi anropar plot() funktionen så skapas en ny figur. Ibland vill man plotta flera tidsserierna i samma graf. Detta kan åstadkommas genom att skapa första figuren med plot(), precis som vi gjort innan, och efterföljande figurer med lines(). lines() stödjer inte formula-syntax, så det här är ytterligare ett exempel på varför det är viktigt att kunna hämta ut variabler från en dataframe med hjälp av $-tecknet. Följande kod plottar tidsserierna för marknadsportföljen och CITCRP i samma graf. Koden lägger också till etiketter via legend() funktionen och justerar y-axelns definitionsområde via argumentet ylim, som ni också använde i Lab 2.\n\nplot(MARKET ~ DATE, data = CAPM, col = \"darkblue\", type = \"l\", lwd = 2, ylim = c(-0.4, 0.4))\nlines(x = CAPM$DATE, y = CAPM$CITCRP, col = \"lightblue\", type = \"l\", lwd = 2)\nlegend(x = \"topright\", lty = 1 , lwd = 2, col = c(\"darkblue\", \"lightblue\"), legend=c(\"Market\", \"CITCRP\"))\n\n\n\n\n\n\n💪 Uppgift 5.4\nPlotta de tre tidsserierna MARKET, CITCRP och DATGEN i samma figur. Använd lämpliga färger samt etiketter. Verkar tidsserierna följas åt? Vad tror ni att det beror på?\n\n# Write your code here\n\n\n\n💪 Uppgift 5.5\nAntag att ni skapar en portfölj som består av 30% IBM, 50% CITCRPoch 20% DATGEN. Plotta månadsavkastningen för er portfölj.\n\n\n\n\n\n\nTips\n\n\n\nAvkastningen för en portfölj är en viktad linjär kombination av avkastningarna i tillgångarna som portföljen innehåller. I en portfölj med tre aktier vars vikter \\(0<w_1<1, 0<w_2<1, 0<w_3<1\\), med \\(\\sum_{k=1}^3w_k=1\\), är portföljens avkastning \\[r_t = w_1r^{(1)}_t + w_2r^{(2)}_t+w_3r^{(3)}_t,\\]\ndär \\(r^{(k)}_t\\) är avkastningen för tillgång \\(k\\) i portföljen.\nNu när ni vet hur man kan använda $-tecken för att hämta ut variabler från en dataframe, kan ni lista ut hur man skapar en ny variabel som viktar variablerna enligt ovan (30% IBM, 50% CITCRPoch 20% DATGEN)."
  },
  {
    "objectID": "datorlab/lab3/DatorLab3.html#sammanfattning",
    "href": "datorlab/lab3/DatorLab3.html#sammanfattning",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "6. Sammanfattning",
    "text": "6. Sammanfattning\n\n\n\n\n\n\nI den här laborationen har du lärt dig:\n\n\n\n\nMetoder för att räkna ut simultan fördelning, marginella fördelningar, samt betingade fördelningar.\nHur man jämför fördelningar grafiskt. Olika metoder används beroende på om en variablerna är numeriska eller kategoriska.\nHur man informellt resonerar kring statistisk signifikans.\nHur man kan presentera tidsseriedata med linjeplottar."
  },
  {
    "objectID": "datorlab/lab3/DatorLab3.html#a.-appendix",
    "href": "datorlab/lab3/DatorLab3.html#a.-appendix",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "A. Appendix",
    "text": "A. Appendix\nLista över några vanliga argument i grafer\n\ncol = färg, kan markeras med siffror eller med namnet på färgen, oftast med små bokstäver. Glöm ej att texten måste ligga inom citattecken.\nmain = rubrik på plotten, detta sätts till en textsträng, alltså en text inom citattecken.\nxlab = rubrik på x-axeln, detta sätts till en textsträng, alltså en text inom citattecken.\nylab = rubrik på y-axeln, detta sätts till en textsträng, alltså en text inom citattecken.\nxlim = definitionsområde för x-axeln. Exempelvis betyder xlim = c(0, 14.3) att det lägsta värdet som ritas kommer att vara 0 och det högsta värdet kommer att vara 14.3 (på x-axeln).\nylim = definitionsområde för y-axeln. Exempelvis betyder ylim = c(-2, 20.7) att det lägsta värdet som ritas kommer att vara -2 och det högsta värdet kommer att vara 20.7 (på y-axeln).\nlwd = tjocklecken på linjer (eller prickar) i ett linjediagram (spridningsdiagram), anges med ett nummer.\nlty = typ av linje (rak, streckad, prickad etc) i ett linjediagram, anges med ett nummer.\npch = typ av prick (rund, fyrkantig + * etc), sätts till ett nummer.\nbreaks = antal staplar i ett histogram.\ncex = justering av etiketternas storlek i en figur (exempelvis cex = 0.5 i en legend() funktion minskar storleken som “legend-texten” tar upp i en figur med hälften). Finns även exempelvis cex.axis, cex.main för att justera storleken av texter på axlar respektive rubrik.\nbg = bakgrundsfärg i en figur.\ncol.main = rubrikens färg.\ncol.lab = färger för rubrikerna på axlarna.\nfont = specificerar vilken typ av text man vill ha, exempelvis ger font = 3 kursiv text."
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#introduktion",
    "href": "datorlab/lab1/DatorLab1.html#introduktion",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "Introduktion",
    "text": "Introduktion\n\nI den här första datorlabben kommer ni bekanta er med programmeringsspråket R och dess arbetsmiljö RStudio.\n\n\n\n\n\n\n\nTa det lugnt\n\n\n\n\nDet är många nya saker som presenteras i den här datorlaborationen, så var beredd på att inte allt kommer att sjunka in direkt. Försök att ta dig igenom hela texten, och övningarna. Du kan sen återkomma till denna labb på andra datorlaborationer för att repetera de delar du behöver. Ok, ta ett djupt andetag så börjar vi.\n\n\n\n\n\n\n\n\n\nInstruktioner\n\n\n\n💪 Avsnitt med den här symbolen är uppgifter där ni ska göra något.\n\n\n\n\n\n\n\n\nJobba med R på egen dator\n\n\n\nOm du inte sitter i en datorsal på Campus måste du först installera R och sen RStudio. Se videon installera R och Rstudio för instruktioner.\n\n\nFör att starta RStudio letar du bara upp programmet på din dator och klickar på startikonen. När RStudio startas upp kommer det att se ut så här (kan se olika ut på olika datorer):\n\nDe olika delarna av RStudio kallas ofta för Panes. Vi kommer gå igenom dessa delar vartefter, men vi börjar med att utforska Console, även kallad terminalen."
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#använda-r-som-en-miniräknare",
    "href": "datorlab/lab1/DatorLab1.html#använda-r-som-en-miniräknare",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "1. Använda R som en miniräknare",
    "text": "1. Använda R som en miniräknare\nEtt bra sätt för att vänja sig vid R är att använda R som en slags miniräknare. I fönstret Console i RStudio (vanligtvis nere till vänster) kan man skriva olika typer av kommandon som skickas till R för beräkning:\n\n\n\n\n\nTecknet > kallas för kommandoprompt (eller bara prompt) och är R’s sätt att tala om att det väntar på att ett nytt kommando ska skrivas in (vid det blinkande strecket). Vi säger att vi ‘skriver in något på prompten’.\n\n\n\n\n\n\nMultiplikation och division\n\n\n\nR använder * för multiplikation och / för division. Potenser (upphöjt till) skrivs med tecknet ^, så 3^2 är 9. Du skriver tecknet ^ genom att trycka Shift + tangent till vänster om Enter. Sen måste du trycka Mellanslag/Space innan du skriver exponenten, annars blir det 3² och det fungerar inte i R.\n\n\n\n💪 Uppgift 1.1\nProva att skriva 2+2 efter det nedersta > tecknet i Console och sedan trycka på Enter-tangenten. R bör svara (returnera) med talet 4.\n\n\n💪 Uppgift 1.2\nBeräkna 3² (3 upphöjt i 2) i Console. [läs informationsrutan ovanför!]\n\n\n💪 Uppgift 1.3\nSkriv in talet (2+3)/(2+5) i Console och se att R svarar med 0.7142857.\n\n\n💪 Uppgift 1.4\nDu köper aktier för 100 kr. Avkastningen första året är 10%. Använd R för att beräkna värdet på ditt aktiekapital efter ditt första år som aktiesparare, dvs skriv in 100*1.1 och se R returnera 110."
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#använda-variabler-i-r",
    "href": "datorlab/lab1/DatorLab1.html#använda-variabler-i-r",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "2. Använda variabler i R",
    "text": "2. Använda variabler i R\nDu är nu inne på ditt andra år som aktiesparare. Avkastningen år 2 är 6%. Hur mycket aktiekapital har du efter år 2? Vi kan beräkna detta genom 100*1.1*1.06 i Console och få svaret 116.6 kr. Men finns det något sätt att återanvända vår tidigare beräkning 100*1.1 = 110 kr så vi bara behöver multiplicera detta tal med ökningen 1.06 för år 2?\nVi kan lösa detta genom att spara undan vår första beräkning i en variabel. Vi kan ge denna variabel (nästan) vilket namn vi vill. Jag kommer kalla den för kapital och börjar med att sätta värdet på variabeln kapital till 100, det ursprungliga kapitalet. Vi skriver kapital = 100 i Console. Vi kan sen testa att R nu faktiskt minns att kapitalet är 100 genom att bara skriva variabelns namn följt av Enter i kommandoprompten i Console:\n\n\n\n\n\nR skriver snällt ut det värde (100) som jag tilldelade variabeln kapital.\n\n\n\n\n\n\nSpråkbruk\n\n\n\nvi säger att vi tilldelar variabel kapital värdet 100. Lite mer slarvigt säger vi: ‘vi sätter kapital till 100’.\n\n\n\n\n\n\n\n\nSe upp!\n\n\n\nVi kan återkalla värdet 100 från variabeln kapital när som helst. Men om du stänger ner RStudio och sen startar om programmet (eller om RStudio låser sig) så minns inte R längre värdet på kapital. R minns faktiskt inte ens att det fanns något som hette kapital och kommer att klaga om du skriver kapital på prompten följt av Enter. R och RStudio minns bara variabeln inom en session, dvs tills du avslutar RStudio. Om man vill spara data mellan olika sessioner måste man spara ner variablerna på datorns disk (eller på någon lagring på internet). Mer om detta senare.\n\n\n\n\n\n\n\n\nLearn the rules so you know how to break them\n\n\n\nIstället för att skriva kapital = 100 så kan vi lika gärna skriva kapital <- 100 , där symbolen <- skrivs med de två tecknen < (mindre än) som finns långt ner till vänster på tangentbordet och - (bindestreck). Att skriva variabeltilldelningar med <- är egentligen den rekommenderade varianten i R, men jag tycker det är fult och föredrar =. 🤷\n\n\nVi kan nu beräkna kapitalet år 1 genom att multiplicera variabeln kapital med talet 1.1\n\n\n\n\n\nVi kan också skriva över värdet i variabeln kapital med ett nytt värde. Vi kanske vill att kapital alltid ska innehålla värdet på det aktiekapital som jag har just nu. Låt oss först ändra värdet på kapital till värdet efter år 1:\n\n\n\n\n\nNotera speciellt raden kapital = kapital*1.1. R läser detta som:\n\nJag (R) ska plocka fram värdet 100 ur variabeln kapital. Sen ska jag multiplicera det med 1.1 för att få talet 110. Det talet 110 stoppar jag sen tillbaka i variabeln kapital.\n\nVärdet på variabeln kapital är nu alltså 110.\nDet fina med det här att vi nu kan fortsätta att ändra variabeln kapital efter att ett ytterligare år har gått, dvs värdet på ditt aktiekapital efter år 2:\n\n\n\n\n\nVariabeln kapital är nu 116.6 och du är redo för din kommande avkastning under år 3.\n\n💪 Uppgift 2.1\nAvkastningen år 3 blev tyvärr minus 4%. Uppdatera variabeln kapital ovan så att den visar att värdet på kapitalet efter år 3 är 111.936 kr. Notera att en minskning med 4% innebär att vi måste multiplicera med 0.96 (1-0.04). Multiplikation med tal mindre än 1 leder till en minskning av kapitalet."
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#organisera-dig-med-filmappar",
    "href": "datorlab/lab1/DatorLab1.html#organisera-dig-med-filmappar",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "3. Organisera dig med filmappar",
    "text": "3. Organisera dig med filmappar\nDet är viktigt att ha ordning på sina filer på datorn och kunna tala om för R var dina filer finns så R kan läsa dem. Vi rekommenderar att du skapar en mapp/folder för varje kurs du läser. Spara inte alla filer på datorns skrivbord eller i mappen Downloads eller liknande. Gå till filhanteringsprogrammet på din dator och skapa mappen SDA1. Så här:\n\n Windows: Starta programmet File Explorer och navigera (klicka) till den mapp där du vill skapa din kursmapp. Skapa en ny mapp med namnet SDA1.\nMac: Starta programmet Finder och navigera (klicka) till den mapp där du vill skapa din kursmapp. Skapa en ny mapp med namnet SDA1.\n Linux: Starta programmet Nautilus (om du använder Ubuntu, annars kan du prova att söka på ordet files om din Linux-distribution använder en annan filhanterare). Navigera (klicka) till den mapp där du vill skapa din kursmapp. Skapa en ny mapp med namnet SDA1.\n\n\n\n\n\n\n\nSvenska är fint, men inte i filnamn\n\n\n\nInga åäö!\nAnvänd inte åäö i namn på filmappar eller filer.\nStor risk att du får problem då.\n\n\n\n\n\n\n\n\nDina filer kommer försvinna\n\n\n\nOm du skapar en mapp på en dator i datorsalen så kommer den tyvärr inte att finnas kvar nästa gång du loggar in på annan dator, eller kanske inte ens på samma dator. Vi har förslagit till IT-avdelningen på SU att ordna studentkonton på datorerna med individuella lagringsutrymmen som automatiskt dyker upp som en mapp när ni loggar in i datorsalarna. Men i dagsläget finns tyvärr inte detta så man får själv spara ner sina filer på nätet (t ex med en tjänst som Dropbox eller OneDrive). Som student vid SU har man tillgång till 1TB lagring i OneDrive, se denna sida för mer info om hur man aktiverar detta. Ett annat sätt är att alltid bära med sig ett USB-minne och skapa SDA1 mappen på den.\n\n\n\n💪 Uppgift 3.1\nSkapa mappen SDA1 på din dator."
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#använda-editorn-source-för-att-spara-kod",
    "href": "datorlab/lab1/DatorLab1.html#använda-editorn-source-för-att-spara-kod",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "4. Använda Editorn (Source) för att spara kod",
    "text": "4. Använda Editorn (Source) för att spara kod\nSkriva kommandon direkt i Console har en nackdel: R minns inte kommandona vi har skrivit i en tidigare Session (innan vi stängde ner RStudio). Varje gång vi startar upp RStudio måste vi skriva om våra kommandon om vi vill fortsätta våra beräkningar där vi slutade senast. 😤 (Det är inte riktigt sant, fliken History i övre högra delen av RStudio minns faktiskt gamla kommandon, men det är opraktiskt att förlita sig på History).\nVi skulle vilja skriva alla våra kommandon i en textfil som vi kan spara på datorns hårddisk (i din fina SDA1 mapp!) och sen bara köra om alla kommandon in en senare Session. Source Editorn in övre vänstra delen av RStudio används för just detta.\nOm vi klickar på menyn File och sen under menyn New File och slutligen på R Script så öppnas en tom textfil i Editorn som heter Untitled1 eller något liknande. Här kan vi skriva in kommandon som vi vill spara för framtida sessioner. Vi kan t ex skriva in våra beräkningar av aktiesparandet:\n\nVi kan spara filen genom att klicka på menyn File och sen på Save och sen navigera dig till mappen SDA1 genom att klicka i rutan som kommer upp. Döp filen till stock eller något annat namn som talar om vad filen innehåller (aktie heter stock på engelska). Klicka på Save/Spara. Filen kommer automatiskt att få filändelsen .R, dvs filen kommer alltså heta stock.R så RStudio vet att det är en fil men R kommandon. Ett samling kommandon kallas också för kod och vi säger att vi arbetar med en kodfil i editorn. Vi kan också säga att vi har skrivit ett program.\nVi kan köra alla kommandon i filen stock.R genom att klicka på Source - knappen uppe i högra hörnet av editorn:\n\n\n\n\n\nNär säger att vi ‘kör kommandon’ menar vi att datorn utför (exekverar) våra kommandon, rad för rad. Man kan se det som Source-knappen skickar kommandona till Console så vi slipper skriva in dem där. Vi kan nu skriva kapital i Console för att se svaret 111.936.\nNär man arbetar med koden vill man ofta köra ett kommando i taget, och inte alla på en gång. Det kan man göra genom att placera markören (det blinkande strecket) på den rad som vill köra (exekvera) och sen klicka på Run-knappen i uppe i högre hörnet av editorn. Du behöver inte markera koden på raden, det räcker att bara placera markören någonstans på raden. Kortkommandot Ctrl + Enter gör samma sak.\nOfta ställer man markören på den första raden i koden och klickar på Run-knappen om och om igen för att köra varje rad, en efter en. Allt som körs, t ex olika variabler som kapital, finns tillgängligt i Console, om man t ex vill undersöka om variabeln verkligen har fått det värde som det var meningen att det skulle få.\nMan kan också köra flera rader kod på en gång genom att markera raderna och trycka på Run-knappen.\n\n💪 Uppgift 4.1\nKör hela filen stock.R genom att använda Source-knappen. Undersök vilket värde variabeln kapital i Console har efter att filen körts genom att skriva kapital följt av Enter.\n\n\n💪 Uppgift 4.2\nDu kanske märkte att inte mycket hände i Console när du klickade på Source - knappen. Det mest hände liksom bakom scenen, där kommandona i Editorn skickades över till Console. Vi skulle kanske vilja att vår kod skrev upp kapital i Console efter att alla ränta-på-ränta beräkningar gjorts. Prova att lägga till en rad i slutet av din kod med kommandot print och variabelns namn som du är intresserad av, dvs print(kapital). Klicka på Source - knappen igen och verifiera att värdet 111.936 skrivs ut i Console.\n\n\n💪 Uppgift 4.3\nKör kommandot på rad 1 i stock.R genom att använda Run-knappen. Undersök vilket värde variabeln kapital i Console. Upprepa detta för de resterande raderna i stock.R."
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#ställa-in-arbetsmappen-working-directory-i-r",
    "href": "datorlab/lab1/DatorLab1.html#ställa-in-arbetsmappen-working-directory-i-r",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "5. Ställa in arbetsmappen (working directory) i R",
    "text": "5. Ställa in arbetsmappen (working directory) i R\nHittills har vi skrivit alla kommandon och tal (t ex kapital = 100), dvs vi har matat in data själva. Det är naturligtvis klumpigt om man har mycket data. Vi vill kunna läsa in hela datamaterialet från en fil. Här är en Excel-fil med data från 5 års investingar i aktier:\n\n\n\n\n\nNotera att avkastningen (returns) anges i procent och är satt till noll under 2018 eftersom vi köpte aktierna precis i början av år 2019 (säger vi) och alltså inte fick någon avkastning under år 2018.\nExcel-filen har jag döpt till stock.xlsx, men den kan döpas till precis vad som helst.\n\n\n\n\n\n\nVariabelnamn som man ska undvika\n\n\n\nVi använder engelska namn på kolumnerna. Även om svenska tecken åäö går att använda i kod, är det ändå bäst att undvika dem genom att skriva på engelska. Du kan inte använda mellanslag (space) i variabelnamn, och variabelnamn får inte heller börja med siffror. Det finns också vissa ord som är reserverade och som inte får/ska användas som variabelnamn. Slutligen: R skiljer på små och stora bokstäver. Variabeln kapital är alltså inte samma som Kapital.\n\n\n\n\n\n\n\n\nWhat’s in a name? Mer än du tror!\n\n\n\nOfta vill man ha ett variabelnamn som är lätt att förstå vad variabeln innehåller. Det är superviktigt för att andra ska kunna förstå ens kod, men framförallt för att du själv ska kunna förstå din egen kod om en vecka! 🥴 Använd _ (underscore) eller . (punkt) för att dela upp ord om det behövs. T ex my_pretty_little_variable = 100.\n\n\n\n\n\n\n\n\n\nOm R ska kunna läsa in data från filen stock.xlsx så måste vi tala om var filen finns på vår dator. Enklast är då att ställa in Rs working directory, dvs det standardställe där R letar efter filer i den pågående sessionen. Det finns två sätt att göra detta, varav vi endast rekommenderar det första om man är absolut nybörjare. Rätt snart bör du lära dig att använda det andra sättet, som är smidigare i längden.\n\nWorking directory är den mapp som R kommer leta efter filer i. Ändra din arbetsmapp (working directory) i R till samma mapp SDA1 i Documents genom att välja menyn Session och sen Set Working Directory och slutligen Choose Directory… och sedan klicka dig fram till mappen SDA1.\n\n\n\n\n\n\n\nFör att slippa att klicka sig fram via menyer hela tiden så är det praktiskt att ändra working directory i början av den kodfil som man jobbar med. Då kan man bara köra den kodfilen och working directory ställs in automatiskt. Kommandot setwd gör samma sak som punkten 1 gjorde via menyerna. Här måste vi dock veta sökvägen (path) till mappen, dvs datorns sätt att hitta till mappen SDA1. Sättet att skriva sökvägar på skiljer sig åt på Windows/Mac/Linux. I dessa exempel antar jag att din SDA1 mapp är placerad i mappen Documents.\n\n På en Mac skriver vi kommandot: setwd('/Users/username/Documents/SDA1') där username ska ersättas med ditt användnamn på din Mac (namnet som kommer upp när du loggar in på datorn). Notera de små ‘blipparna’ kring filvägen i setwd kommandot.\n På en Windows-dator skriver vi kommandot setwd('C:/Documents/SDA1'). Notera de små ‘blipparna’ kring filvägen i setwd kommandot. [Windows-sökvägar skrivs vanligtvis med backslash \\. I RStudio skriver man ändå / för att matcha med Mac och Linux].\n På en Linux-dator skriver vi kommandot setwd('/home/username/Documents/SDA1') där username ska ersättas med ditt användnamn som använder när du loggar in.\n\n\n\n💪 Uppgift 5.1\nStäll in din SDA1 mapp som working directory i RStudio. Kontrollera att du lyckades genom att skriva kommandot getwd() i Console, som bör skriva ut sökvägen till din SDA1 mapp. Nu har du talat om för R att den ska leta efter filer i din kursmapp SDA1!"
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#läsa-in-data-från-fil",
    "href": "datorlab/lab1/DatorLab1.html#läsa-in-data-från-fil",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "6. Läsa in data från fil",
    "text": "6. Läsa in data från fil\nVi vill nu läsa in data från Excelfilen stock.xlsx. Du kan ladda ner den filen här. Beroende på din dator så kommer en av två saker hända:\n\nfilen stock.xlsx hamnar automatiskt i mappen Downloads (eller liknande) på din dator. Du får då kopiera eller flytta filen till din working directory (din SDA1 mapp) genom att använda datorns filhanterare.\ndu får välja var du vill spara ner filen. Klicka dig fram till din working directory (din SDA1 mapp) och spara filen där.\n\nR kommer nu att hitta filen och vi är redo att skriva kommandot som läser in filen. Eftersom det är första gången du läser in en Excel-fil i R behöver du göra lite grundjobb. Vi ska göra tre steg:\n\nInstallera R-paketet openxlsx. R kommer med ett antal baskommandon förinstallerat. T ex har vi redan använt funktionen setwd() för att tala om för R vilken mapp som är vår working directory. Men många kommandon/funktioner i R måste laddas in via s k R-paket. Det finns R-paket för nästan allt man vill göra: läsa in data, gör olika typer av statistiska analyser etc etc. Paketet openxlsx är specialiserat på att läsa in Excel-filer i R. För att installera paketet kör vi kommandot install.packages('openxlsx') antingen genom att skriv in det i en kodfil och trycka på Run eller genom att skriva det direkt i terminalen. Efter det kommer R att skriva ut en massa mumbo-jumbo i Console som beskriver installationen. Paket kan ta någon minut eller mer för att installera. Om inga fel uppstår brukar installationsmeddelandet avslutas med något liknande:\nDONE (openxlsx)\nThe downloaded source packages are in\nföljt av någon kryptisk sökväg till stället på din dator där paketet har blivit installerat.\n\nInstallation av paket behövs bara göras en gång på din dator. Du behöver inte installera om nästa gång du startar upp RStudio på nytt.\n\n\n\n\n\n\nPaketet spotifyr kan t ex tala om för dig vilka dina fem mest spelade Spotify-låtar är. Se sidan StrangeR things för andra mer eller mindre konstiga paket. Och, ja, det är vanligt med ett stort R i namnet på R-relaterade saker. NördaR, du vet.\n\nLadda R-paketet openxlsx. Kommandot library(openxlsx) laddar funktionerna i paketet openxlsx till R’s arbetsminne. Först efter denna kommando kan vi använda funktionerna i paketet. Notera att vi behöver ‘blippar’ kring paketets namn när vi installerar, men inte när vi laddar paketet. Ett paket som laddats in med library finns inte tillgängligt när du start om RStudio. Du måste alltså skriva library(openxlsx) för varje ny session där du vill läsa in Excel-filer. Det är därför bra att skriva in library(openxlsx) i kodfilen du ska använda för att läsa in Excel-filer.\nLäs in data från Excel-filen genom kommandot/funktionen read.xlsx. Här hela kommandot (funktionsanropet):\nstockdata = read.xlsx('stock.xlsx', sheet = 1)\nDet är några saker att reda ut här. Först, read.xlsx() är en funktion vilket betyder att det är ett kommando som gör något baserat på funktionens input-argument:\n\nDet första argumentet 'stock.xlsx' är en textsträng (den har ‘blippar’) som talar om för read.xlsx() vilken Excelfil som ska läsas in. Vi behöver inte säga mer eftersom denna fil ligger i vår working directory, som ju R nu känner till.\ndet andra input-argumentet är sheet = 1, vilket säger åt read.xlsx() att data ligger i det första kalkylbladet i filen stock.xlsx. En Excelfil kan ju har flera kalkylblad, och vill man läsa det andra bladet ändrar man 1 till 2. (men stock.xlsx har bara ett blad, så prova inte detta för då kommer R att klaga).\n\nMen vad betyder stockdata = i början av kommandot ovan? Jo, om R ska läsa in data till arbetsminnet så måste den ge denna data ett namn, vilket jag har valt till stockdata , men du får döpa den till (nästan) vad du vill. stockdata är en variabel, precis som kapital var en variabel tidigare. Variabeln kapital var en enkel form av en variabel som bara innehöll ett enda värde, t ex 100 i början av vårt sparande. Variabeln stockdata är mer komplex. Den innehåller en hel tabell med värden. Så kommandot\nstockdata = read.xlsx('stock.xlsx', sheet = 1)\nläses alltså av R som\n\nLäs in första kalkylbladet av Excelfilen stock.xlsx till arbetsminnet och spara den inlästa tabellen som en tabell i variabeln stockdata.\n\n\nR har lite olika varianter av tabellvariabler. Den viktigaste för oss på den här kursen är en s k dataframe. Du kan se att vår tabellvariabel stockdata faktiskt är en dataframe genom att skriva kommandot class(stockdata) i Console.\nNär man har läst in ett datamaterial är det bra att ta en snabbtitt på den inlästa tabellen för att se att den blev korrekt inläst. Precis som vi gjorde med variabel kapital för att se dess värde (t ex 100) så kan skriva stockdata i Console för att se dess värde (som ju är en tabell). Om man har en tabell med många rader så blir det fort jobbigt att skriva ut alla rader. Kommandot head() är då praktiskt, som bara skriver ut det första 6 raderna av tabellen. Här har vi alla kommandon som krävs för att ladda in data och skriva ut fint på skärmen (förutom install.packages('openxlsx') som jag antar att du redan har kört för att installera paketet).\n\nlibrary(openxlsx)\nstockdata = read.xlsx('stock.xlsx', sheet = 1) # läser in Excel data\nhead(stockdata)\n\n  year  capital returns\n1 2018 100.0000    0.00\n2 2019 110.0000    0.10\n3 2020 116.6000    0.06\n4 2021 111.9360   -0.04\n5 2022 117.5328    0.05\n6 2023 125.7601    0.07\n\n\n\n\n\n\n\n\nKommentarer\n\n\n\nI min kod ovan skrev jag # läser in Excel data på en rad. All text som kommer efter tecknet # är en s k kommentar i R. Kommentarer ignoreras av R och är därför ett bra sätt att skriva små saker som gör koden mer lättläst. Du måste ha ett # -tecken framför varje rad som du vill “kommentera ut”.\n\n\n\n\n\n\n\n\nAnge sökväg till filer som inte är i din Working directory\n\n\n\nIstället för att placera alla filer i din working directory SDA1 kan man istället ange sökvägen till filen när man läser in den. Om jag t ex har sparat filen i mappen Downloads på en Windows-dator så skriver jag \nstockdata = read.xlsx('C:/Downloads/stock.xlsx', sheet = 1)\n\n\n\n💪 Uppgift 6.1\nProva att ladda ner Excelfilen stock.xlsx och spara den i SDA1 mappen. Läs sen in filen i R med kommandot stockdata = read.xlsx('stock.xlsx', 1, colNames=TRUE) . Skriv sen head(stockdata) i Console för att titta på data.\nProva nu att läsa in data med kommandot stockdata = read.xlsx('stock.xlsx', 1, colNames=FALSE) och notera skillnaden genom att återigen skriva head(stockdata) i Console.\n\n\n💪 Uppgift 6.2\nÄndra värdet på variabeln returns år 2023 till 0.05 i stockdata tabellen genom att skriva stockdata[6,3] = 0.05 i Console. Det här kommandot läser R som:\n\nVärdet i tabellen stockdata på rad 6 och kolumn 3 ska ändras till (tilldelas) värdet 0.05.\n\nProva att skriva stockdata i Console för att kontrollera att värdet faktiskt ändrades.\n\n\n💪 Uppgift 6.3\nSpara den ändrade stockdata-tabellen till disk genom att skriva följande kommando i Console:\n\nsave(stockdata, file=\"stockdata2.Rdata\")\n\nvilket sparar den ändrade stockdata tabellen till filen stockdata2.Rdata i din working directory (SDA1-mappen). Filformatet Rdata är R’s eget filformat. Du kan i en senare session läsa in stockdata enkelt genom kommandot\n\nload(\"stockdata2.Rdata\")\n\nvilket kommer läsa in tabellen stockdata i R’s arbetsminne.\n\n\n\n\n\n\nLäsa in data från andra filformat än Excel\n\n\n\nDatamaterial kan också komma från rena textfiler (.txt) och s k csv filer. Se reading data from a file."
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#analysera-data",
    "href": "datorlab/lab1/DatorLab1.html#analysera-data",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "7. Analysera data",
    "text": "7. Analysera data\nNär du har läst in datamaterialet i minnet så är det dags att analysera det. Låt oss göra en enkel graf av variabeln capital över åren (year):\n\nplot(capital ~ year, data = stockdata)\n\n\n\n\nHär har vi använt funktionen plot() med två argument. Argumentet capital ~ year talar om för plot() att den ska göra en graf (‘plotta’) variabeln capital på y-axeln och variabeln year på x-axeln. Vi säger att vi ‘plottar capital mot year’. Men capital och year är faktiskt inte variabler i Rs arbetsminne. Där finns bara en tabell (dataframe) som heter stockdata med kolumner som heter capital och year. Så vi måste tala om för plot() att vi vill hämta variablerna capital och year från datamaterialet/tabellen/dataframe stockdata, vilket är precis vad som händer i det andra argumentet data = stockdata. Tecknet ~ brukar läsa som tilde och kan skrivas genom tangenterna Alt gr och tangenten till vänster om Enter.\nSå kommandot\n\nplot(capital ~ year, data = stockdata)\n\nläses av R som\n\nplotta variabeln capital mot variabeln year, där både dessa variabler är kolumner i datamaterialet stockdata.\n\nOm vi vill beräkna medelvärdet på en variabel kan vi använda funktionen mean(). Men om vi vill beräkna medelvärdet av variabeln capital med kommandot mean(capital) så får vi problemet att R inte har en variabel capital i minnet; capital är ju bara en kolumn i datamaterialet stockdata. Hur säger vi till R: gör om kolumnen capital i datamaterialet stockdata till en egen variabel och beräkna dess medelvärde (mean på engelska). Lösningen att använda $-tecknet för att plocka ut kolumnen returns som en egen variabel: stockdata$capital och sen använda mean() funktionen. Vi kan göra detta på samma kodrad och skriva ut resultatet:\n\ncapital = mean(stockdata$capital)\ncapital\n\n[1] 113.6381\n\n\nKodraden meancapital = mean(stockdata$capital) säger alltså till R att\n\nPlocka ut kolumnen capital från datamaterialet stockdata och beräkna dess medelvärde.\n\nGenom att explicit plocka ut kolumner på detta sätt kan vi göra grafen med ett lite annorlunda kommando:\n\nplot(x = stockdata$year, y = stockdata$capital)\n\n\n\n\ndär vi inte längre måste använda argumentet data = stockdata för att tala om var dessa variabler kommer från. Men det förra kommandot plot(capital ~ year, data = stockdata) är nog ändå mer lättläst, tycker jag.\n\n💪 Uppgift 7.1\nLäs återigen in data med stockdata = read.xlsx('stock.xlsx', sheet = 1). Gör en graf där du plottar variabeln returns mot year.\nHär är hela koden i ett stycke:\n\nsetwd('/home/mv/Dropbox/Teaching/SDA1/datorlab/lab1') # I have a Linux computer and my data is in this path\nlibrary(openxlsx)                         \nstockdata = read.xlsx('stock.xlsx', sheet = 1)\nstockdata = data.frame(stockdata)\nmeancapital = mean(stockdata$capital)\nplot(capital ~ year, data = stockdata)\n\n\n\n\nNotera att vi kan skriva kommentarer i koden genom tecknet # innan kommentaren. Allt efter tecknet # ignoreras av R när den läser koden. Det kan vara ett bra sätt att förklara en kodrad för användaren."
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#några-extra-tips",
    "href": "datorlab/lab1/DatorLab1.html#några-extra-tips",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "8. Några extra tips",
    "text": "8. Några extra tips\n\nOm du trycker på ‘pil-upp’ ⍐ tangenten i Console så kan du stega dig tillbaka till gamla kommandon som du har skrivit.\nOm du vill städa upp i Console kan du skriva Ctrl + l för att rensa Console från text (dvs ett litet L). Dina variabler blir kvar i arbetsminnet.\nHistory-fliken uppe till höger i RStudio visar alla tidigare kommandon.\nEnvironment-filken uppe till höger i RStudio ger dig information om de datamaterial och variabler som R har i arbetsminnet. Prova genom att definiera en ny variabel c=100 i Console och hur den dyker upp i Environment-fliken. Prova att klicka på den blå pilen framför stockdata, du kommer se kolumnerna i det datamaterialet.\nFiles-fliken nere till höger i RStudio är en inbyggd filhanterare. Den visar filerna i ditt working directory och du kan även hantera filer där (ta bort, döpa om osv).\nI Help-fliken kan du söka på hjälp på olika kommandon. Prova att skriva in mean. Du kan även få hjälp genom att skriva t ex ?mean i Console."
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#datastrukturer",
    "href": "datorlab/lab1/DatorLab1.html#datastrukturer",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "9. Datastrukturer",
    "text": "9. Datastrukturer\nR kan spara data i olika datastrukturer. Vi definerade tidigare variabeln kapital och tilldela denna variabel värdet 100 genom kommandot kapital = 100.\nOfta vill man spara mer än ett tal i samma datastruktur. Ett sätt är att skapa en vektor med kommandot c()\n\ncapital_all_years = c(100,110,116.6,111.936,117.532,125.760)\n\nDen nya variabel capital_all_years innehåller alltså kapitalet för alla år. Men om jag skulle vilja ‘plocka ut’ kapitalets värde vid det tredje året? Då kan man indexera vektorn genom hakparenteser (brackets) [], så här:\n\ncapital_all_years[3]\n\n[1] 116.6\n\n\nMan kan också plocka ut flera värden samtidigt, t ex år 3 och 5, med kommandot\n\ncapital_all_years[c(3,5)]\n\n[1] 116.600 117.532\n\n\nNotera att vi indexerade med en vektor, dvs vi använde c() kommandot eftersom vi vill tala om för R att plocka ut fler än ett värde.\nVi har redan sett en av Rs viktigaste datatyper: en s k dataframe. En dataframe är en tabell med information om vad kolumnerna heter, och ibland även vad raderna heter. Ett exempel är vår stockdata som är dataframe med tre kolumner: year, capital och stock. Vi kan se att det är en dataframe genom att använda kommandot class():\n\nclass(stockdata)\n\n[1] \"data.frame\"\n\n\nVi har faktiskt redan använt idéen med att plocka ut värden genom indexing in dataframes tidigare när vi skrev stockdata[6,3] för att plocka ut värdet på rad 6 och kolumn 3 i tabellen/dataframe. Och vi såg att vi också kunde ändra värdena i tabellen genom tilldelning: stockdata[6,3]=0.05 . Samma sak kan man göra med en vektor, t ex så gör kommandot capital_all_years[5] = 200 att vi ändrar kapitalet år 5 till 200 i vår vektor som innehåller alla års kapital.\nDet finns en annan slags tabell som kan vara bra att känna till i R, en s k matris (eng. Matrix). Matriser är som dataframes, men innehåller inte information om namnet på kolumnerna. Å andra sidan kan man göra matematiska beräkningar med hela matriser, men det är inget vi gör på denna kurs. Anledningen till att vi nämner matriser här är att man ibland måste göra om en matris till en dataframe eller tvärtom. Vissa R-program vi bara jobba med dataframes och klagar om man försöker få det att jobba med en matris. Låt oss skapa en matris som jag kallar A :\n\nA = matrix(c(11,2,4,5,62,3), 3, 2)\nA\n\n     [,1] [,2]\n[1,]   11    5\n[2,]    2   62\n[3,]    4    3\n\n\nvilket är en matris (tabell) med 3 rader och 2 kolumner (som vi skapar från en vektor med 6 tal). Om vi använder class()-kommandot så ser vi att A mycket riktigt är en matrix, vilket är engelska för matris:\n\nclass(A)\n\n[1] \"matrix\" \"array\" \n\n\nOm vi vill göra om en matris till en dataframe så använder vi kommandot\n\nB = as.data.frame(A)\nB\n\n  V1 V2\n1 11  5\n2  2 62\n3  4  3\n\n\ndär R bestämmer att kolumnerna ska heta V1 och V2 (en dataframe måste ha namn på kolumnerna i tabellen). B är alltså nu en dataframe, vilket man kan testa genom:\n\nclass(B)\n\n[1] \"data.frame\"\n\n\nEn annan viktigt datatyp vi vill nämna är en s k sträng (eng. string), vilket kallas för character i R och är en variabel som innehåller text. Värdet på en sträng-variabel skriv innanför citattecken:\n\nmittnamn = \"mattias\"\nclass(mittnamn)\n\n[1] \"character\"\n\n\nMan kan även använda enkla ‘blippar’ kring strängens värde, dvs mittnamn = 'mattias'.\nOm vi t ex använder names() kommandot på vår stockdata dataframe så får vi en vektor med strängar (en vektor eftersom det finns fler än ett kolumnnamn i stockdata):\n\nnames(stockdata)\n\n[1] \"year\"    \"capital\" \"returns\"\n\n\nSlutligen finns datatypen list i R. En list (eller lista på svenska) är en vektor på steroider. En vanlig vektor måste innehålla data av samma sort, t ex en vektor med numeriska tal x = c(1,4,5) eller en vektor med strängar (text): c(\"mattias\",\"adam\",\"elma\") . En lista är mer generell och kan innehålla data av olika sort:\n\nmy_list = list(a = 2, b = \"hej\", d = c(4,5,2))\nmy_list\n\n$a\n[1] 2\n\n$b\n[1] \"hej\"\n\n$d\n[1] 4 5 2\n\n\nJag kan döpa elementen i listan vad jag vill, här kallade jag dem a, b och d (jag vill undvika bokstaven c eftersom det är symbolen för att skapa vektorer). Notera att elementet a innehåller ett enda tal, b en sträng och d en vektor med tre tal. I utskriften ser man också att det olika listelementen med ett $-tecken framför. För att t ex plocka ut listelementet d kan man nämligen skriva\n\nmy_list$d\n\n[1] 4 5 2\n\n\nKänns det bekant med $-tecken för att plocka ut saker? Vi har redan sett att man kan plocka ut en kolumn i en dataframe (tabell) genom att skriva t ex stockdata$returns . En dataframe är nämligen egentligen en slags lista.\n\n\n\n\n\n\nHitta lätt bland alla fickor\n\n\n\nOm du skriver my_list$ (inklusive $-tecknet) i Console kommer det att dyka upp en lista med alla element som finns i listan my_list. Använd pil-tangenterna (upp och ned) för att välja det element du är intresserad av och tryck Enter. 🤩\n\n\nVi ska slutligen presentera ytterligare en viktig datatyp i R: factor. Prova att skriva in kommandot str(stockdata) i Console. Kommandot returnerar variablernas namn och datatyper, vilket ju är numeric för alla våra tre kolumner year, capital och returns i tabellen. Men tabellkolumner kan bestå av bokstäver (strängar) eller kategoriska variabler (t ex man och kvinna). Kategoriska variabler kallas för faktorvariabler i R.\nR har ett antal inbyggda datamaterial, t ex datamaterialet warpbreaks som innehåller information om antalet fel (breaks) vid vävning för två olika typer av garn (wool) och tre olika spänningar av vävstolen (tension). Vi börjar med att tilldela datamaterialet till variabeln garndata genom att skriva garndata = warpbreaks i Console. Skriv head(garndata) för en snabb titt på de första observationerna. Som du ser är breaks en numerisk variabel (eller snarare en kolumn in tabellen), men både wool och tension är kategoriska faktorvariabler (wool kan bara vara av garntyp A eller B, och tension kan vara låg (L), mellan (M) eller hög (H)). Vi kan se detta mer exakt genom att skriva str(garndata) i Console:\n\ngarndata = warpbreaks\nstr(garndata)\n\n'data.frame':   54 obs. of  3 variables:\n $ breaks : num  26 30 54 25 70 52 51 26 67 18 ...\n $ wool   : Factor w/ 2 levels \"A\",\"B\": 1 1 1 1 1 1 1 1 1 1 ...\n $ tension: Factor w/ 3 levels \"L\",\"M\",\"H\": 1 1 1 1 1 1 1 1 1 2 ...\n\n\ndär vi ser att wool är en faktorvariabel med två olika värden (levels, eller nivåer på svenska), medan tension har tre nivåer. Vi ser även att breaks är en numerisk variabel. Vi kan även se denna information i den övre högra panelen i R under fliken Environment genom att klicka på den lilla pilen på garndata."
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#funktioner",
    "href": "datorlab/lab1/DatorLab1.html#funktioner",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "10. Funktioner",
    "text": "10. Funktioner\nVi har sett idén med funktioner tidigare: en funktion gör något med data. I matematikens värld är en funktion \\(f\\) en slags maskin som använder en input \\(x\\), gör några matematiska beräkningar, och ger tillbaka en output \\(y\\). Vi brukar skriva funktionen som \\(y=f(x)\\).\nEn funktion i R är en liknande sak: den använder ett eller flera inputs och ger tillbaka ett eller flera outputs. Det kan handla om ren matematisk funktion, som kvadratroten \\(\\sqrt{x}\\) av ett tal \\(x\\), vilket i R beräknas av funktionen sqrt:\n\nx = 4\ny = sqrt(x)\ny\n\n[1] 2\n\n\nmen det kan också vara något mer komplicerat som t ex att läsa in data från en Excel-fil:\n\nstockdata = read.xlsx('stock.xlsx', sheet = 1)\n\ndär read.xlsx är en funktion som tre input-argument filnamn (som en sträng!), talet 1 för att vi vill läsa det första bladet. Funktionen read.xlsx ger tillbaka en (tibble) dataframe som output med data.\nDet fina med programmeringsspråk är att man kan skapa egna funktioner som gör just det jobb som man behöver. Om jag t ex vill skapa en funktion som beräknar ränta-på-ränta effekten på ett sparkapital (med samma ränta varje år) så kan jag skriva ihop följande funktion:\n\ncapital_interest <- function(capital, interest, years){\n  newcapital = capital*interest^years\n  return(newcapital)\n}\n\nNågra saker att notera:\n\nMan använder alltid ordet function där att definiera en funktion.\nFunktionens input-argument skrivs inom parenteser. Vilka namn du väljer är helt fritt, men det måste vara samma variabelnamn som du sedan använder innanför de s k måsvingarna {} som innehåller den faktiska koden som gör jobbet.\nFunktionen tilldelas en variabel som jag gett namnet capital_interest , vilket är ett namn du väljer helt själv.\nKoden använder ränta-på-ränta formeln \\(capital\\cdot interest^{years}\\) , dvs räntan, angett som 1.1 om du får 10% ränta, upphöjs i antal sparandeår. Upphöjt skrivs som ^ i R.\nFunktionen avslutar med ordet return och den variabel du vill att funktionen ska ge tillbaka som output.\n\nOm jag sen vill använda min funktion för att se hur min hundring på banken kommer att utvecklas under 20 år med 5% ränta så skriver jag (jag anropar funktionen):\n\nmy_money = capital_interest(100, 1.05, 20)\nmy_money\n\n[1] 265.3298\n\n\nVi sa ovan att vi tilldelade variabeln capital_interest en funktion. 🤯 Wait, what? Jo, faktiskt, om vi undersöker vilken typ av variabel capital_interest är så är det faktiskt en funktion:\n\nclass(capital_interest)\n\n[1] \"function\"\n\n\nNär vi skrev variabel kapital i Console skrev den ut värdet, t ex 100. Vad händer om vi göra samma sak med vår funktionsvariabel capital_interest ? Hela funktionen skrivs ut som text!\n\n capital_interest \n\nfunction(capital, interest, years){\n  newcapital = capital*interest^years\n  return(newcapital)\n}\n\n\nVi kommer inte att skriva egna funktioner på kursen. Men du kommer att använda funktioner. Och då kan det vara bra att veta att någon har skrivit dessa funktioner på precis det sätt som vi skapade funktionen capital_interest ovan.\nEn sista sak: vissa funktioner har inga inputargument och ibland inte heller några outputs. Det betyder inte att funktionen inte gör något, utan den har istället vissa sido-effekter som inte alltid syns. setwd är t ex funktion som har sökvägen som input, men har inga output, men däremot sidoeffekten att ändra working directory. Funktionen getwd() har inga input-argument men ger tillbaka din nuvarande working directory som output."
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#tre-dialekter-av-r",
    "href": "datorlab/lab1/DatorLab1.html#tre-dialekter-av-r",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "11. Tre dialekter av R",
    "text": "11. Tre dialekter av R\nMan kan dela upp R’s språk i tre slags dialekter, dvs tre olika kommandon (syntax) för att göra ungefär samma sak:\n\nBase-R - den ursprungliga syntaxen in R\nFormula syntax - syntax som via paketet Mosaic har utvecklats för undervisning i statistik\nTidyverse - en modern syntax utvecklat av personerna bakom RStudio.\n\n\n    \n\n\nI SDA1 kommer vi försöka använda Formula syntax som mycket som möjligt, med inslag av Base-R. Tidyverse-kod kan ofta vara extremt effektiv, men tar för lång tid att lära sig på en grundkurs i statistik. Vi kommer dock då och då att visa hur man gör samma sak i de olika dialekterna, men på ett sätt som inte stör flödet för den student som helst vill hålla sig till ett sätt. Vi använder ikoner som du som student kan klicka på för att se ett kommando i olika dialekter. Här är ett exempel (prova att klicka ikonerna i höger-marginalen):\nI Formula syntax har vi redan sett att vi kan göra en scatter plot med kommandot\n\nplot(mpg ~ hp, data = mtcars, main = \"Cars fuel usage\")\n\n\n\n\n\n\n \nOm man vill ha plottar som liknar de fina plottarna i Tidyverse, men fortsätta att skriva den enklare formula-syntaxen så kan man använda paketet ggformula:\n\nlibrary(ggformula)\ngf_point(mpg ~ hp, data = mtcars, title = \"Cars fuel usage\")"
  },
  {
    "objectID": "datorlab/lab1/DatorLab1.html#sammanfattning",
    "href": "datorlab/lab1/DatorLab1.html#sammanfattning",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "12. Sammanfattning",
    "text": "12. Sammanfattning\n\n\n\n\n\n\nI den här laborationen har du lärt dig:\n\n\n\n\nAnvända R som en miniräknare.\nAnvända variabler som ett sätt att spara värden i en session.\nSätta working directory så R kan hitta dina filer.\nSkriva kod både i Console och Editorn.\nLäsa in data från fil och göra inledande grafer och medelvärdeberäkningar för dataanalys.\nVi har också tittat på datastrukturer i R och t o m nosat lite på funktioner i R.\n\n\n\n\n\n\n\n\n\n\nEnd of the line\n\n\n\nOm du har kommit hit utan att slita ditt hår alltför många gånger så tycker jag att du ska vara väldigt nöjd med dig själv. Du har redan lärt dig massor om R. Ditt framtida jag kommer att tacka dig!\nTa nu en ☕ och en 🍰 för att fira!\n\n\n\n\n\nhttps://devcamp.com/site_blogs/top-5-programming-memes"
  },
  {
    "objectID": "datorlab/lab2/DatorLab2.html",
    "href": "datorlab/lab2/DatorLab2.html",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "",
    "text": "Varning\n\n\n\nDen här labben förutsätter att följande paket finns installerade:\n\nopenxlsx\nmosaic\n\nPaket kan installeras via kommandot install.packages('packagename'), där 'packagename' är namnet på paketet, t.ex 'mosaic'."
  },
  {
    "objectID": "datorlab/lab2/DatorLab2.html#introduktion",
    "href": "datorlab/lab2/DatorLab2.html#introduktion",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "Introduktion",
    "text": "Introduktion\n\nI den här datorlabben kommer vi att titta på hur fördelningar för olika typer av variabler kan beskrivas numeriskt och grafiskt.\n\n\n💪 Uppgift 0.1\nSkapa en mapp Lab2 i din kursmapp SDA1 (från Lab 1). Ladda ner Quarto-filen för denna lab genom att högerklicka här och välj ‘Spara länk’ eller något likande från menyn som dyker upp. Spara filen i din nya Lab2 mapp. Öppna Quarto-filen i RStudio. Du kan nu fortsätta med denna laboration direkt i Quarto-dokumentet, där du också fyller i svaren på dina laborationsövningar. Du kan alltså lämna den här webbsidan nu och fortsätta arbetet i RStudio.\nVäl inne i RStudio med öppnat Quarto-dokument i ‘Editor’ kan ni gå över till ‘Source mode’ genom att klicka på ‘Source’ i det vänstra hörnet av din ‘Editor’. Source mode är detaljerat och bra att skriva kod i eftersom man har full kontroll på dokumentet, men det är svårt att få en översikt av dokumentet. Prova nu att gå över till ‘Visual mode’ genom att klicka på ‘Visual’ i det vänstra hörnet av din ‘Editor’. Vi rekommenderar att ni mestadels arbetar i Visual mode, men att gå över till Source mode när man verkligen få till någon detalj som är svår att ändra i Visual mode. ´\n\n\n💪 Uppgift 0.2\nKlicka på knappen Render i Editor-fönstret för att kompilera filen till en webbsida (html). Webbsidan kommer antingen att visas i Viewer-fönstret i RStudio eller i webbläsaren på din dator. Om din webbsida visas i webbläsaren rekommenderar vi att du ändrar inställningarna i RStudio så webbsidan visas i Viewer-fönstret. Du ställer in detta på menyn Tools/Global Options… och sen väljer du Viewer Pane vid Show output preview in:\n\n\n\n\n\n\n\n💪 Uppgift 0.3\nQuarto säkerställer att man befinner sig i korrekt arbetsmapp när koden i dokumentet exekveras. Med korrekt arbetsmapp menas den mappen ni sparade .qmd filen i. Vill du komma åt dataseten via load() kommandot måste dataseten vara sparade i samma mapp.\nEtt vanligt arbetssätt är att man jobbar i RStudio i en separat .R fil, där man kan testa att köra kod innan den kopieras över till Quarto dokumentet. Den .R filen kommer inte att ha samma ‘working directory’ som Quarto filen. Du måste då använda setwd() funktionen i .R filen för att ställa in ‘working directory’. Notera att man också välja att skriva kod i Console som finns längst ner i RStudio. Där måste du också ställa in rätt ‘working directory’. Det är inte rekommenderat att använda Console eftersom koden inte sparas där. Du kanske kommer på något jättesmart som du glömmer att kopiera över till Quarto dokumentet och kan senare inte hitta det du skrev.\n\n\n\n\n\n\nRStudios Editor ändras beroende på vilken sorts fil du har öppen\n\n\n\nNotera att ikonerna i Editor är annorlunda när du har ett Quarto-dokument öppet jämfört med tidigare när vi hade en fil med ren R-kod (dvs en .R fil) öppen.\n\n\nSkapa en ny .R som du döper till Lab2_test_code.R och sparar i din Lab 2 mapp. Ställ in ‘working directory’ till den nya mappen genom att följa anvisningarna från Lab 1.\n\n\n💪 Uppgift 0.4\nMånga intressanta dataset finns tillgängliga på webben. Kursboken har gjort ca 500 av dataseten tillgängliga här. Ni kommer att jobba med titanic datasetet som finns i Chapter 3. Ladda ner den zip-filen samt packa upp/extrahera filen genom att klicka på den och välj ‘Extrahera’ eller något liknande. Du kan extrahera filerna på datorns Skrivbord eller annan mapp. Om du går in i den extraherade mappen Ch3 så finns där filen Chapter_3.xlsx. Kopiera den filen till din Lab2 mapp. Vi kommer snart att läsa in datasetet."
  },
  {
    "objectID": "datorlab/lab2/DatorLab2.html#skapa-tabeller-för-kategoriska-variabler",
    "href": "datorlab/lab2/DatorLab2.html#skapa-tabeller-för-kategoriska-variabler",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "1. Skapa tabeller för kategoriska variabler",
    "text": "1. Skapa tabeller för kategoriska variabler\nEn kategorisk variabel är en variabel vars utfall är kategorier. En kategorisk variabel kan antingen vara på nominalskala eller ordinalskala. Den vanligaste typen är nominalskala, vilket innebär att utfallen saknar en naturlig rangordning. Ett exempel är kön, där man inte kan rangordna utfallen på ett meningsfullt sätt. För en kategorisk variabel på ordinalskala så gäller det att utfallen har en naturlig rangordning. Ett exempel är betyg, där till exempel betyg A är bättre än betyg C. Än så länge behöver vi inte oroa oss för om en kategorisk variabel är på ordinalskala eller nominalskala. Vi använder en tabell för att representera dess fördelning i bägge fallen.\nFörst ska vi installera och ladda paketen openxlsx för att läsa in data från Excelfil och mosaic för dataanalys.\n\n#install.packages(\"openxlsx\") # Kommentera bort denna rad om redan har openxlsx installerat från Lab 1\n#install.packages(\"mosaic\") # Kommentera bort denna rad efter att du kört Quarto-filen första gången\nsuppressMessages(library(openxlsx))\n\nWarning: package 'openxlsx' was built under R version 4.2.2\n\nsuppressMessages(library(mosaic))\n\nWarning: package 'mosaic' was built under R version 4.2.2\n\n\n\n\n\n\n\n\nSnyggare utskrifter genom att undvika paket-meddelanden\n\n\n\nMånga paket är ‘pratiga’ och skriver ut en massa meddelanden när man laddar in dem med library. Genom att skriva suppressMessages(library(openxlsx)) slipper vi få en massa meddelanden utskrivna i vår rapport.\n\n\nVi kan nu läsa in datamaterialet som finns i fliken Titanic i den Excelfil Chapter_3.xls ni laddade ner ovan:\n\ntitanic = read.xlsx(\"https://github.com/StatisticsSU/SDA1/raw/main/datorlab/lab2/Chapter_3.xlsx\", sheet = \"Titanic\")\n\n\n\n\n\n\n\nFunktionen read.xlsx() är smart\n\n\n\nOm du tittar på koden ovan ser du att det ser lite annorlunda ut än i Lab 1:\n\nFunktionen read.xlsx() kan läsa in filer inte bara från din dator utan direkt från internet. Istället för att ange en sökväg till Excel-filen på din dator (om den inte ligger i working directory) kan du bara ange en webbadress där data finns. Vi har laddat upp data till adressen ovan.\nFunktionen read.xlsx() har ett argument sheet som talar om vilken av alla flikar som ska läsas in. I Lab 1 satte vi sheet = 1 för att läsas in den första fliken. Men man kan också skriva namnet på fliken, dvs sheet = \"Titanic\". Notera att eftersom Titanic är ett namn så måste vi skriva citationtecken “” kring för att tala om för R att det är bokstäver (en sträng som vi lärde oss om i Lab 1).\n\n\n\n\n💪 Uppgift 1.1\nÄndra koden ovan så read.xlsx() istället läser in filen ‘Chapter_3.xlsx’ från din dator.\nVi kan ta titt på de första observationerna genom att använda funktionen head(). Vi kan också lista de första observationerna för varje variabel i datasetet genom att använda funktionen str():\n\nhead(titanic)\n\n                           Name Survived     Boarded Class   MWC Age\n1            ABBING, Mr Anthony     Dead Southampton     3   Man  42\n2        ABBOTT, Mr Ernest Owen     Dead Southampton  Crew   Man  21\n3      ABBOTT, Mr Eugene Joseph     Dead Southampton     3 Child  14\n4    ABBOTT, Mr Rossmore Edward     Dead Southampton     3   Man  16\n5 ABBOTT, Mrs Rhoda Mary 'Rosa'    Alive Southampton     3 Woman  39\n6    ABELSETH, Miss Karen Marie    Alive Southampton     3 Woman  16\n  Adut_or_Chld    Sex  Paid Ticket_No Boat_or_Body                   Job\n1        Adult   Male  7.55      5547         <NA>            Blacksmith\n2        Adult   Male    NA      <NA>         <NA> Lounge Pantry Steward\n3        Child   Male 20.25    CA2673         <NA>               Scholar\n4        Adult   Male 20.25    CA2673        [190]              Jeweller\n5        Adult Female 20.25    CA2673            A                  <NA>\n6        Adult Female  7.65    348125           16                  <NA>\n           Class_Dept Class_Full\n1 3rd Class Passenger          3\n2    Victualling Crew          V\n3 3rd Class Passenger          3\n4 3rd Class Passenger          3\n5 3rd Class Passenger          3\n6 3rd Class Passenger          3\n\nstr(titanic)\n\n'data.frame':   2208 obs. of  14 variables:\n $ Name        : chr  \"ABBING, Mr Anthony\" \"ABBOTT, Mr Ernest Owen\" \"ABBOTT, Mr Eugene Joseph\" \"ABBOTT, Mr Rossmore Edward\" ...\n $ Survived    : chr  \"Dead\" \"Dead\" \"Dead\" \"Dead\" ...\n $ Boarded     : chr  \"Southampton\" \"Southampton\" \"Southampton\" \"Southampton\" ...\n $ Class       : chr  \"3\" \"Crew\" \"3\" \"3\" ...\n $ MWC         : chr  \"Man\" \"Man\" \"Child\" \"Man\" ...\n $ Age         : num  42 21 14 16 39 16 25 30 28 20 ...\n $ Adut_or_Chld: chr  \"Adult\" \"Adult\" \"Child\" \"Adult\" ...\n $ Sex         : chr  \"Male\" \"Male\" \"Male\" \"Male\" ...\n $ Paid        : num  7.55 NA 20.25 20.25 20.25 ...\n $ Ticket_No   : chr  \"5547\" NA \"CA2673\" \"CA2673\" ...\n $ Boat_or_Body: chr  NA NA NA \"[190]\" ...\n $ Job         : chr  \"Blacksmith\" \"Lounge Pantry Steward\" \"Scholar\" \"Jeweller\" ...\n $ Class_Dept  : chr  \"3rd Class Passenger\" \"Victualling Crew\" \"3rd Class Passenger\" \"3rd Class Passenger\" ...\n $ Class_Full  : chr  \"3\" \"V\" \"3\" \"3\" ...\n\n\nVerkar variablerna vara definierade som de ska?\nLåt oss undersöka variabeln Survived i datasetet. Detta är en kategorisk variabel med två kategorier Dead och Alive. När en variabel bara har två kategorier brukar man också säga binär variabel. Man kan räkna antalet observationer som tillfaller varje kategori och på så sätt skapa en frekvenstabell med funktionen tally() i mosaic-paketet enligt nedan.\n\ntally(~ Survived, data = titanic)\n\nSurvived\nAlive  Dead \n  712  1496 \n\n\nTilde-tecknet ~ används i mosaic-paketet och är en del av formula-syntax dialekten i R som omnämndes i Lab 1. I det här fallet talar tecknet ~ om för R att variabeln Survived ska hämtas från datamaterialet titanic. Annars skulle vi ju vara tvungna att skriva titanic$Survived (kom ihåg från Lab 1 att $-tecknet säger åt R att ‘plocka ut variabeln Survived från datamaterialet titanic’). Så blir man t ex tvungen att skriva i dialekten base-R (klicka i marginalen om du är intresserad). Fördelen med mosaic’s formula-syntax kommer bli ännu tydligare när vi har många fler variabler att jobba med.\n\n\n \nLägg märke till att frekvenstabellen inte är sparad. Detta är bara ett kommando som ofta också duger gott och väl. Men ibland vill man också spara en tabell under sin session. Det kan göras genom att skapa ett passande variabelnamn och tilldela den nya variabeln värdet vi fick ovan (namnet på variabeln kan man välja som man vill):\n\ntab_survived <- tally(~ Survived, data = titanic)\n\n\n\n\n\n\n\nObservera\n\n\n\nTabellen är nu sparad (i R’s arbetsminne, men inte på datorns hårddisk) och syns också i Environment fliken längst upp till höger. Men vill man skriva ut resultatet i sitt dokument måste man också skriva ut den nya tabellens namn i sin code-chunk likt nedan\n\ntab_survived\n\nSurvived\nAlive  Dead \n  712  1496 \n\n\nmen det är vanligare att skriva allt i samma code-chunk:\n\ntab_survived <- tally(~ Survived, data = titanic)\ntab_survived\n\nSurvived\nAlive  Dead \n  712  1496 \n\n\n\n\nIbland kan det vara svårt att titta på antalet inom varje kategori och jämföra siffrorna sinsemellan. Att titta på relativa frekvenser istället gör ofta jämförelserna mycket enklare att uppfatta. Genom att lägga till argumentet format = proportion i tally() räknas de relativa frekvenserna istället.\n\ntally(~ Survived, data = titanic, format = \"proportion\")\n\nSurvived\n    Alive      Dead \n0.3224638 0.6775362 \n\n\nVill man ha detta presenterat i procent kan man enkelt skriva format = percent istället för proportion\n\ntally(~ Survived, data = titanic, format = \"percent\")\n\nSurvived\n   Alive     Dead \n32.24638 67.75362 \n\n\nAlltså överlevde endast 32.2% av de som befann sig på Titanic, medan 67.8% dog.\n\n\n\n\n\n\nObservera\n\n\n\ntab_survived är inte en vanlig numerisk variabel. Man kan använder sig av funktionen class() för att ta reda på vilken typ av objekt den är sparad som:\n\nclass(tab_survived)\n\n[1] \"table\"\n\n\n\n\n\n\n💪 Uppgift 1.1\nVariabeln Class talar om biljettklass passageraren reste med (1:a, 2:a, 3:e eller Crew (besättning)). Presentera det totala antalet inom varje biljettklass. Vilken kategori är störst?\n\n# Write your code here\n\n\n\n💪 Uppgift 1.2\nBeräkna den relativa frekvensen (i procent) inom varje biljettklass.\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab2/DatorLab2.html#grafisk-illustration-av-kategoriska-variabler",
    "href": "datorlab/lab2/DatorLab2.html#grafisk-illustration-av-kategoriska-variabler",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "2. Grafisk illustration av kategoriska variabler",
    "text": "2. Grafisk illustration av kategoriska variabler\nFör att presentera kategoriska variabler grafiskt används oftast pajdiagram (pie charts) eller stapeldiagram (bar charts). Oftast räcker det med att använda sig av ett av dessa diagram i sin presentation. I R kan man använda sig av funktionerna pie()och bargraph() för respektive diagram. Det går då smidigt att använda sig av en sparad tabell som argument i funktionen.\n\ntable_rel_freq = tally(~ Survived, data = titanic, format = \"proportion\")\npie(x = table_rel_freq)\n\n\n\n\nOvan ser vi att vi först har sparat de relativa frekvenserna bland de som överlevde och de som dog i en tabell table_rel_freq. Detta är inte nödvändigt för att skapa ett pajdiagram. Men eftersom siffrorna redan finns i tabellen så kan man lika gärna använda sig av dem. Ett annat alternativ hade varit att skapa en vektor och manuellt skriva in värden för de olika kategorierna exempelvis likt: relative_frequencies = c(0.32, 0.68)\nGrafen ovan är dock inte så informativ. Det finns generellt många argument man kan använda sig av i R för att göra sina grafer så informativa som möjligt. Koden nedan är ett exempel på hur man kan gå tillväga\n\nrel_frequencies = round(table_rel_freq, 2) # round the numbers to two decimals\nrel_frequencies\n\nSurvived\nAlive  Dead \n 0.32  0.68 \n\ncategory_names = names(table_rel_freq)\ncategory_names\n\n[1] \"Alive\" \"Dead\" \n\ncolors = c(\"lightblue\", \"purple\")\npie(x =  table_rel_freq, labels = rel_frequencies, col = colors)\nlegend(\"topright\", legend = category_names, fill = colors)\n\n\n\n\nFunktionen round() används för att avrunda till önskat antal decimaler, i detta fall två så att grafen blir mer lättläslig.\nFunktionen names() som användes i Datorlaboration 1 för att få ut kolumnnamn från dataframes kan även här används för att få ut kolumnnamn från tabeller. Återigen är denna funktion inte nödvändig för att bilda ett pajdiagram, men den kan utnyttjas för att ge passande etiketter för olika kategorier.\n\n\n\n\n\n\nObservera\n\n\n\nEtt alternativ är att skriva ut namnen manuellt, exempelvis category_names = c(\"Alive\", \"Dead\"). Lägg då märke till att ordningen spelar roll. Kom även då ihåg att använda citattecken ” ” i vektorn ovan för att markera att det är text! Skriver vi inte ut citattecken runt kategorinamnen kommer R tro att vi kallar på variablerna Alive och Dead som inte är definierade, och Quarto dokumentet kan inte kompileras.\n\n\nMan kan även specificera färgerna på pajbitarna. Det finns väldigt många färger i R och man kan specificera dem antingen med text eller med siffror. Använder man sig av text är stavningen viktig. Generellt används då endast gemener (små bokstäver).\nI funktionen pie() läggs de olika argumenten in för att bilda ett pajdiagram. Det första argumentet kommer att avgöra hur stora pajbitarna blir. Det andra argumentet markerar endast etiketterna bredvid varje pajbit (i detta fall hur stora andelar det finns i varje kategori) och det tredje argumentet col bestämmer färgen i själva grafen.\nNedanför det används även funktionen legend() som flitigt kan användas då man vill rita flera olika variabler eller flera olika kategorier. Det första argumentet säger var man vill placera etiketterna för de olika kategorierna (i detta fall högst upp till höger). Det andra argumentet säger vilka namn man vill ha på dessa etiketter (category_names används här) och det tredje argumentet säger till vilka färger man vill ha. Det är då viktigt att man använder sig av samma färger som man använde sig av i pie() funktionen ovan och att färgerna också kommer i samma ordning som ovan.\n\n💪 Uppgift 2.1\nSkapa ett pajdiagram av variabeln Class i titanic. Använd dig gärna av uträkningarna från Uppgift 1.2 för att skapa grafen. Välj själv om du vill illustrera det som andelar eller i procent.\n\n# Write your code here\n\n\n\n💪 Uppgift 2.2\nVad är det för fel på denna graf?\n\nrel_frequencies = c(0.1, 0.9)\ncategory_names = names(table_rel_freq)\ncolors = c(\"lightblue\", \"purple\")\npie(x =  table_rel_freq, labels = rel_frequencies, col = colors)\nlegend(\"topright\", legend = category_names, fill = colors)\n\n\n\n\nNedan syns ett exempel på hur man kan använda sig av stapeldiagram. Detta görs enklast med funktionen bargraph(), som liknar tally() funktionen i och med att den börjar med ett ~tecken följt av variabeln som vi vill rita och sedan datasetet det kommer ifrån. Lägg dock märke till att istället för att skriva format = proportion skriver man type = proportion om man vill visa staplarna som relativa frekvenser.\n\n\n\n\n\n\nObservera\n\n\n\nI det här fallet kommer variabeln Survived från en dataframe. Det är oftast smidigare att arbeta med dataframes i mosaic paketet men inte alltid nödvändigt. Funktionen hade också fungerat ifall man hade haft en enskild variabel som inte var i dataframe-format (se den utkommenterade raden i koden).\n\n\n\nbargraph(~ Survived, data = titanic, type = \"proportion\")\n\n\n\n# bargraph(~ titanic$Survived, type = \"proportion\") # without dataframe format\n\n\n\n\n \n\nMen detta diagram säger kanske inte allt om det vi tittar på. I vilket sammanhang är “Alive” och “Dead” tagit ifrån? Det finns ingen rubrik! Man skulle kanske även vilja justera sin y-axel, antingen så att den blir lite kortare eller lite längre.\nFörst kan man börja med att skapa en rubrik för sin graf. Detta görs nedan genom att skapa en ny variabel my_title som är en textsträng. Sedan kan man även definiera passande namn för både x-axeln och y-axeln, dessa är också textsträngar.\nFör att justera längden på y-axeln kan man skapa en vektor med passande värden. Här används en vektor med namnet length_y_axis som börjar på 0 och slutar på 0.75. Man kan även justera så att staplarna får valfria färger.\nSedan kan man enkelt sätta in argumenten i bargraph() funktionen till dessa värden:\n\nmy_title = \"Figur 1: Relative frequency of Survival on the Titanic\"\nx_axis_title = \"Survival\"\ny_axis_title = \"Frequency\"\nlength_y_axis = c(0, 0.80)\ncolors = c(\"lightblue\", \"purple\")\n\nbargraph(~ Survived, data = titanic, type = \"proportion\", main = my_title, \n         xlab = x_axis_title, ylab = y_axis_title, ylim = length_y_axis, col = colors)\n\n\n\n\nNär man skriver en Quarto-rapport är det inte så bra att skriva in figur-numret i själva grafen, dvs Figur 1, som vi skrev ovan. Problemet med det är att om man sen lägger in en graf mellan två grafer så måste man gå in och ändra alla figurers numrering. Om vi sen även har hänvisat till en figur i texten (t ex, se Figur 1 för en trevlig plott) så måste vi också ändra numret där. Men vi kan lösa detta genom att låta Quarto hålla koll på figurernas numrering. Så här:\n\nx_axis_title = \"Survival\"\ny_axis_title = \"Frequency\"\nlength_y_axis = c(0, 0.80)\ncolors = c(\"lightblue\", \"purple\")\n\nbargraph(~ Survived, data = titanic, type = \"proportion\", \n         xlab = x_axis_title, ylab = y_axis_title, ylim = length_y_axis, col = colors)\n\n\n\n\nFigur 1: Relative frequency of Survival on the Titanic\n\n\n\n\nMan kan nämligen ge lite extra kommandon i varje code-chunk genom att använda tecknet #| (uttalas hash-pipe, du kommer ihåg det genom denna Weezer-video). I det här fallet använde vi nyckelordet label för att ge figuren namnet fig-andelar och nyckelordet fig-cap för att ange texten till figuren. Notera att vi också tog bort argumentet main = my_title eftersom titel inte längre behövs i själva grafen. Vi kan nu hänvisa till figuren i texten med hjälp av @-tecknet (notera att du också kan klicka för transportera dig till figuren!): Se Figur 1 för en trevlig plott.\n\n\n💪 Uppgift 2.3\nJustera diagrammet nedan så att det ser mer presentabelt ut. Byt också ut färgerna mot två andra bland R’s standardfärger.\n\nx_axis_title = \"Survival\"\ny_axis_title = \"Frequency\"\nlength_y_axis = c(0, 0.1)\n\nbargraph(~ Survived, data = titanic, type = \"proportion\",  \n         xlab = x_axis_title, ylab = y_axis_title, ylim = length_y_axis, col = colors)\n\n\n\n\n\n\n💪 Uppgift 2.4\nKan du se något ovanligt med stapeldiagrammet nedan? Rätta till det.\n\nx_axis_title = \"Survival\"\ny_axis_title = \"Frequency\"\n\nbargraph(~ Survived, data = titanic, type = \"count\", \n         xlab = x_axis_title, ylab = y_axis_title, col = colors)\n\n\n\n\n\n\n💪 Uppgift 2.5\nSkapa ett stapeldiagram med funktionen bargraph() för variabeln Class i titanic. Använd relativa frekvenser denna gång.\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab2/DatorLab2.html#dataset-som-består-av-saknade-värden",
    "href": "datorlab/lab2/DatorLab2.html#dataset-som-består-av-saknade-värden",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "3. Dataset som består av saknade värden",
    "text": "3. Dataset som består av saknade värden\nLåt oss titta närmare på variabeln Age (ålder) i datasetet titanic. Denna variabel har en del saknade värden och vissa standard-funktioner i R är känsliga för sådana. Man kan enkelt se om en variabel har saknade värden genom att använda summary() funktionen, som räknar ute lite sammanfattningsmått (mer om det senare) för variablerna i datamaterialet. R skriver NA (Not Available) eller (NaN) (Not A Number) för saknade värden, och vi kan se att variabeln Age har 3 st saknade värden (NA's :3):\n\nsummary(titanic)\n\n     Name             Survived           Boarded             Class          \n Length:2208        Length:2208        Length:2208        Length:2208       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n     MWC                 Age        Adut_or_Chld           Sex           \n Length:2208        Min.   : 0.08   Length:2208        Length:2208       \n Class :character   1st Qu.:22.00   Class :character   Class :character  \n Mode  :character   Median :29.00   Mode  :character   Mode  :character  \n                    Mean   :30.15                                        \n                    3rd Qu.:37.00                                        \n                    Max.   :74.00                                        \n                    NA's   :3                                            \n      Paid          Ticket_No         Boat_or_Body           Job           \n Min.   :  0.000   Length:2208        Length:2208        Length:2208       \n 1st Qu.:  7.896   Class :character   Class :character   Class :character  \n Median : 14.400   Mode  :character   Mode  :character   Mode  :character  \n Mean   : 33.010                                                           \n 3rd Qu.: 31.000                                                           \n Max.   :512.329                                                           \n NA's   :890                                                               \n  Class_Dept         Class_Full       \n Length:2208        Length:2208       \n Class :character   Class :character  \n Mode  :character   Mode  :character  \n                                      \n                                      \n                                      \n                                      \n\n\nDet finns olika sätt att hantera saknade värden. Många funktioner kan hantera uträkningar för variabler med saknade värden om man specificerar det i funktionen. I detta fall är vi bara intresserade av en variabel och inte hela datasetet så vi kommer att ta bort de observationer som har saknade värden. Men i vanliga fall måste man tänka efter innan man tar bort sådana observationer, speciellt om man tittar på flera variabler samtidigt. Det finns mer att säga om att bara ta bort saknade värden när vi kommer till den statistiska analysen.\nFunktionen na.omit() tar bort alla observationer som har NA eller NaN, dvs saknade värden.\n\nlength(titanic$Age) # number of observations originally\n\n[1] 2208\n\nAge = na.omit(titanic$Age)\nlength(Age) # the number of observations when missing values are removed\n\n[1] 2205\n\n\n\n💪 Uppgift 3.1\nDefiniera en ny variabel Paid från kolumnen Paid i datasetet titanic på liknande sätt som ovan. Rensa bort eventuella saknade värden med funktionen na.omit().\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab2/DatorLab2.html#grafisk-presentation-av-numeriska-variabler",
    "href": "datorlab/lab2/DatorLab2.html#grafisk-presentation-av-numeriska-variabler",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "4. Grafisk presentation av numeriska variabler",
    "text": "4. Grafisk presentation av numeriska variabler\nNumeriska variabler är sådana som naturligt består av numeriska värden. Numeriska variabler kan ha olika skaltyper. Numeriska variabler innehåller rikare information än kategoriska variabler, där man kan få ut mer information både numeriskt och grafiskt. En numerisk variabel kan alltid kodas om till en kategorisk variabel (en variabel på en lägre skalnivå) men det omvända gäller inte.\nAtt illustrera numeriska variabler grafiskt är betydelsefullt för att upptäcka ifall en fördelning har avvikande värden (så kallade outliers), eller om fördelningen ser symmetrisk eller skev ut, men också för att upptäcka om det är en unimodal eller multimodal fördelning. Vid de två senare fallen är histogram och täthetsplot särskilt användbara.\nDe vanligaste graferna för numeriska variabler är histogram och låddiagram, s.k. boxplots. Ni kommer lära er att plotta låddiagram i Datorlaboration 3 efter att ni gått igenom dom på Föreläsning 5. En täthetsplot är en utjämnad version av ett histogram.\nHistogram kan ritas med hjälp av funktionen histogram() som finns i mosaic paketet, eller med funktionen hist() som inte kräver något paket. Båda har sina fördelar, där histogram är mer smidig när man vill rita flera histogram samtidigt (mer om detta i Datorlaboration 3). Här är ett exempel med funktionen histogram():\n\nhistogram(~ Age, data = titanic, col = \"navyblue\")\n\n\n\n\nFigur 2: Distribution of Age onboard the Titanic\n\n\n\n\nFördelningen är inte symmetrisk här utan snarare skev åt höger, dvs. det finns en lång högersvans. Men det finns även en hel del observationer bestående av barn under fem år. Eftersom fördelningen är skev är det svårare att gissa sig till medelvärdet. De flesta individerna verkar dock ha varit mellan 15-45 år.\nArgumentet breaks = kan användas inuti funktionen histogram() för att ange hur många staplar man vill ha. R kommer då i så hög mån som möjligt rita ett histogram med så många staplar.\nEtt histograms utseende beror på antalet staplar man väljer. En täthetsplot är ett sätt att plotta fördelningen av data som inte beror på antalet staplar. En täthetsplot kan ritas med hjälp av funktionen densityplot() som finns i mosaic paketet.\n\ndensityplot(~ Age, data = titanic, col = \"navyblue\")\n\n\n\n\nFigur 3: Distribution of Age onboard the Titanic\n\n\n\n\n\n💪 Uppgift 4.1\nRita ett histogram likt ovan, med samma variabel men med en annan färg. Testa dig fram med breaks argumentet tills du hittar vad du tycker är ett passande antal staplar. Rita sedan ett till likadant histogram men använd dig av Sturges regel denna gång för att bestämma hur många staplar som ska användas. Ser histogrammet bättre ut än det du ritade utan Sturges regel?\n\n# Write your code here\n\n\n\n\n\n\n\nTips\n\n\n\nStruges regel ges av \\(1 + log_2(n)\\), där n är antalet dataobservationer. I R kan funktionen för logaritmen med basen 2 fås som log2().\n\n\n\nAnvänd listan i Appendix för olika argument som kan användas i grafer för att göra dem mer informativa.\n\n\n\n💪 Uppgift 4.2\nRita ett histogram över variabeln Paid.\n\n# Write your code here\n\n\n\n💪 Uppgift 4.3\nVilket mått av medelvärdet eller medianen beskriver centralpunkten i fördelningen för Paid bäst?\n\n\n💪 Uppgift 4.4\nRita täthetsplottar för variablerna Age och Paid.\n\n# Write your code here\n\n\n\n\n\n\n\nExtra: Från histogram till stapeldiagram (detta avsnitt kan skippas)\n\n\n\nHistogram kan ses som en motsvarighet till stapeldiagram när man har en numerisk variabel. Från funktionen hist() kan man även hämta ut hur många observationer det är som tillfaller varje åldersintervall. Låt oss först rita ett histogram nedan och spara detta med namnet hist_Age. Sedan kan man extrahera antalet inom varje åldersintervall med hjälp av $-tecknet följt av count som räknar ut antal observationer inom varje intervall.\n\nhist_Age = hist(x = Age,  col = \"coral\")\n\n\n\nfrequencies = hist_Age$count\nfrequencies\n\n [1]  62  38  33 271 432 400 321 264 158 103  49  37  28   5   4\n\n\nDessa summeras inte överraskande nog till 2205 (dvs antal observerade värden). Härnäst kan man titta på hur R definierar gränserna för varje stapel med hjälp av breaks som också finns i hist() funktionen:\n\nhist_Age$breaks\n\n [1]  0  5 10 15 20 25 30 35 40 45 50 55 60 65 70 75\n\n\nVi har alltså åldersintervallen “0-4”, “5-9”, “10-14”, “15-19”, “20-24”, “25-29”, “30-34”, “35-39”, “40-44”, “45-49”, “50-54”, “55-59”, “60-64”, “65-69”, “70-74”. Dessa kan användas för att skapa ett stapeldiagram likt nedan, denna gång med funktionen barplot() som finns inbyggd i R.\nI det första argumentet i funktionen barplot() lägger vi in frekvenserna som nyss räknades ut. Det andra argumentet names.arg är till för att namnge de olika åldersintervallen ovan, på x-axeln. Argumentet las = 3 gör endast så att texten på x-axeln blir lodrät.\n\nAge_Intervals = c(\"0-4\", \"5-9\", \"10-14\", \"15-19\", \"20-24\", \"25-29\", \"30-34\", \n              \"35-39\", \"40-44\", \"45-49\", \"50-54\", \"55-59\", \"60-64\", \"65-69\",\n              \"70-74\")\n\nbarplot(frequencies, names.arg = Age_Intervals, las = 3,\n        main = \"Frequency of Age onboard the Titanic\")\n\n\n\n\nHistogrammet som skapades innan går alltså i princip att göra om till ett stapeldiagram, där höjden på stapeln illustrerar hur många observationer det är som tillfaller varje ålderskategori."
  },
  {
    "objectID": "datorlab/lab2/DatorLab2.html#numerisk-beskrivning-av-kvantitiva-variabler",
    "href": "datorlab/lab2/DatorLab2.html#numerisk-beskrivning-av-kvantitiva-variabler",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "5. Numerisk beskrivning av kvantitiva variabler",
    "text": "5. Numerisk beskrivning av kvantitiva variabler\nOm man använder sig av en frekvenstabell för en numerisk variabel riskerar man i värsta fall att få en tabell som är lika lång som antal observationer man har. Kanske har man inte ens ett enda fall där två olika observationer har samma värden. Därför används ofta andra beskrivande mått. Bland de viktigaste är lägesmåtten som fångar fördelningens mittpunkt\n\nmedelvärde\nmedian\n\noch spridningsmåtten som mäter variationen kring fördelningens mittpunkt:\n\nvarians\nstandardavvikelse\nvariationsbredd (range på engelska: skillnaden mellan maximum och minimumvärdet)\nInterkvartila avståndet (IQR).\n\nFunktionen favstats() i mosaic-paketet beräknar dessa mått:\n\nfavstats(~ Age, data = titanic)\n\n  min Q1 median Q3 max     mean       sd    n missing\n 0.08 22     29 37  74 30.14689 11.97386 2205       3\n\n\nFunktionen räknar ut olika fördelningsmått, såsom minimumvärdet, maximumvärdet, första och tredje kvartilen samt medelvärdet och medianen. Både medelvärdet och medianen är mått på en fördelnings mittpunkt men hur lämpliga de är som mått beror på fördelningens utseende. Vi ser även att funktionen också skriver ut hur många värden datasetet består av och antalet saknade värden.\nIbland vill man dock inte skriva ut all denna information för en variabel. I Datorlaboration 1 använde vi oss av funktionen mean() för att räkna ut medelvärdet av en variabel. Några andra vanliga funktioner utöver dessa är var() och sd(). Matematiskt motvaras dessa tre funktioner av: \\[\\begin{align}\\nonumber\n\\overline{y}= \\frac{1}{n} \\sum_{i=1}^n y_i \\\\ \\nonumber\ns^2 =\\frac{\\sum_{i=1}^n(y_i-\\overline{y})^2}{n-1}\n\\end{align}\\] och \\[\\begin{align}\ns = \\sqrt{s^2}\n\\end{align}\\]\n\n💪 Uppgift 5.1\nAnvänd funktionerna ovan för att räkna ut medelvärdet, variansen och standardavvikelsen för variabeln Age. Kan man räkna ut standardavvikelsen på något annat sätt i R?\n\n# Write your code here\n\n\n\n💪 Uppgift 5.2\nRäkna ut det variationsbredden samt det interkvartila avståndet av variabeln Age från utskriften vi fick från funktionen favstats().\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab2/DatorLab2.html#indexering-och-upprepning-loopar",
    "href": "datorlab/lab2/DatorLab2.html#indexering-och-upprepning-loopar",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "6. Indexering och upprepning (loopar)",
    "text": "6. Indexering och upprepning (loopar)\nLåt oss titta på ett dataset över UFC’s top 10 kampsportsutövare i Welterweight klassen bland män (december 2022). Nedan matas värdena in i vektorer och sedan sätts alla variabler ihop i en och samma tabell med funktionen data.frame():\n\n# Defining variables:\nName = c(\"Kamaru Usman\", \"Colby Covington\", \"Khamzat Chimaev\", \"Belal Muhammed\",\n         \"Gilbert Burns\",\"Stephen Thompson\", \"Geoff Neal\", \"Sean Brady\", \n         \"Vicente Luque\", \"Shavkat Rakhmanov\" )\nRank = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\nWins_by_knockout = c(9, 4, 6, 5, 6, 8, 9, 3, 11, 8)\nTakedown_avg = c(3.01, 4.05, 3.98, 2.19, 2, 0.27, 0.59, 2.8, 0.51, 2.31)\nAge_fighters = c(35,34,27, 34, 35, 39, 31, 29, 30, 27)\n\n# Creating a dataframe with all the variables just defined above:\nUFC = data.frame(Name, Rank, Wins_by_knockout, Takedown_avg, Age_fighters)\nUFC\n\n                Name Rank Wins_by_knockout Takedown_avg Age_fighters\n1       Kamaru Usman    1                9         3.01           35\n2    Colby Covington    2                4         4.05           34\n3    Khamzat Chimaev    3                6         3.98           27\n4     Belal Muhammed    4                5         2.19           34\n5      Gilbert Burns    5                6         2.00           35\n6   Stephen Thompson    6                8         0.27           39\n7         Geoff Neal    7                9         0.59           31\n8         Sean Brady    8                3         2.80           29\n9      Vicente Luque    9               11         0.51           30\n10 Shavkat Rakhmanov   10                8         2.31           27\n\n\nDatasetet består av fem stycken variabler och är sorterat efter Rank. I Lab 1 tittade vi lite på indexering och detta bygger vidare på det. Låt säga att vi vill veta vad åldern är för den 6:e rankade utövaren. I detta fall är datasetet väldigt litet och man kan genast identifiera alla individer. Ibland har vi dataset som är väldigt stora och då kan man behöva använda sig av indexering för att få ut information om en enskild (eller ett fåtal) observationer av intresse. För att ta reda på åldern på den 6:e rankade utövaren kan man då använda sig av koden UFC[6, 5]. Där siffran till vänster om kommatecknet i hakparantesen anger radtalet och siffran till höger om kommatecknet anger kolumntalet. Detta ger oss svaret 39.\n\n💪 Uppgift 6.1\nAnvänd indexering för att skriva ut hur många wins by knockout Gilbert Burns har haft.\n\n# Write your code here\n\n\n\n💪 Uppgift 6.2\nAnvänd indexering för att skriva ut all information om Kamaru Usman (dvs den första raden). [Ledtråd: om man inte skriver något alls efter kommatecknet i indexeringen får man alla värden i den raden]\n\n# Write your code here\n\n\n\n💪 Uppgift 6.3\nAnvänd indexering för att skriva ut alla värden för variabeln Takedown_avg (dvs den 4:e kolumnen).\n\n# Write your code here\n\nEn loop kan väldigt kort beskrivas som en procedur som återupprepas så länge ett visst förhållande är uppfyllt. Det finns tre vanliga loopar i R. Dessa är for-loop, while-loop och repeat-loop. De två första är de vanligaste men vi kommer än så länge bara titta på for-loopen.\nSäg att du vill skriva en kod som skriver ut alla tal mellan 1 och 10 på skärmen. Du skulle kunna skriva print(1) följt av print(2) osv, men skulle vara jobbigt. Kan vi få datorn att göra det jobbet åt oss genom att använda en for-loop? Svar ja. Nedan ges ett exempel på en loop som skriver ut talen mellan 1-10 med hjälp av print() funktionen. Det är ett exempel på den kanske mest grundläggande loopen, men den illustrerar ändå en viktig princip. För att starta loopen används ordet for följt av en parentes. Vad som står inom parentesen är väldigt viktigt och det första argumentet är namnet på en så kallad indexvariabel, i detta fall i. Efter detta specificerar man från vilken siffra i börjar på samt vilken siffra i slutar på. Här börjar den på 1 och slutar på 10. Efter parentesen bildar man en ny så kallad klammerparentes (som ser ut som måsvingar). Där inne specificerar man allt som ska hända i varje upprepningen i loopen. I det här exemplet vill vi att loopen ska skriva ut indexnumret, ett i taget:\n\nfor (i in 1:10){\n  print(i)\n}\n\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n[1] 5\n[1] 6\n[1] 7\n[1] 8\n[1] 9\n[1] 10\n\n\nAlltså skriver loopen ut vad i är under varje iteration (dvs upprepning).\n\n\n💪 Uppgift 6.4\nAnvänd loopen ovan men byt ut indexvariabeln i till k istället. Kör sedan loopen. Vad är det som händer?\n\n# Write your code here\n\n\n\n💪 Uppgift 6.5\nAnvänd återigen loopen i exemplet ovan. Men ändra variabeln is definitionsmängd från 1:10 till 24:33.\n\n# Write your code here\n\n\n\n💪 Uppgift 6.6\nGör på samma vis som i övningen ovan men ändra nu definitionsmängden från 1:10 till -3:5\n\n# Write your code here\n\nNedan ges ett exempel på en for-loop som skriver ut namnet på en enskild variabel (Name) i tur och ordning. Här används indexering av variabeln Name för att endast ett namn ska skrivas ut i varje iteration, och då i samma ordning som den förekommer i variabeln.\n\nfor(i in 1:10){\n  print(Name[i])\n}\n\n[1] \"Kamaru Usman\"\n[1] \"Colby Covington\"\n[1] \"Khamzat Chimaev\"\n[1] \"Belal Muhammed\"\n[1] \"Gilbert Burns\"\n[1] \"Stephen Thompson\"\n[1] \"Geoff Neal\"\n[1] \"Sean Brady\"\n[1] \"Vicente Luque\"\n[1] \"Shavkat Rakhmanov\"\n\n\n\n\n\n\n\n\nObservera\n\n\n\nHär användes endast en variabel Name (som faktiskt definierades innan dataframen UFC). Därför används inte något kommatecken inuti hakparantesen. Det beror alltså på att det här är en enskild definierad variabel utanför dataframen UFC.\n\n\n\n\n💪 Uppgift 6.7\nAnvänd en for-loop för att skriva ut varje värde på variabeln Wins_by_knockout.\n\n# Write your code here\n\nDen introduktionen till loopar kan räcka för tillfället. Men om du tyckte det var intressant kan du fortsätta läsa lite mer om loopar nedan. Annars kan du hoppas till Sammanfattningen av Lab 2.\nMan kan även göra matematiska uträkningar med hjälp av en loop. Låt säga att vi vill räkna ut vad \\(2^6\\) är (där 2 är basen och 6 är exponenten). Detta kan enkelt göras med den matematiska operationen ^ i R vilket ger oss resultatet 64. Men eftersom vi älskar att loopa så kommer vi också älska följande exempel där vi räknar ut detta värde för hand med en loop.\nFörst måste man definiera ett startvärde. Detta görs med variabeln myProduct nedan. Eftersom uträkningen av \\(2^6 = 2\\cdot 2\\cdot 2\\cdot 2\\cdot 2\\cdot 2 = 64\\) egentligen bara är multiplikation, måste startvärdet vara like med 1 (används 0 kommer slutresultatet också att bli 0). Därefter kan loopen startas. Den kommer att iterera från värdet 1 till 6 (eftersom exponenten är 6). Efter första iterationen (loop-omgången) kommer myProduct att vara 1 multiplicerat med 2, dvs 2. Detta värde sparas i myProduct och syns när man skriver ut resultatet med print(myProduct) inuti loopen. I den andra iterationen multipliceras myProduct med 2 igen, och detta värde sparas nu i myProduct. Resultatet är \\(2\\cdot2=4\\). Den tredje iterationen multipliceras 4 med 2 och myProduct uppdateras till detta nya värde 8. Denna procedur upprepas tills antal iterationer i har nått upp till 6 gånger. Därefter avslutas loopen och myProduct visar då svaret på vad \\(2^6\\) är:\n\nmyProduct = 1 # We have to start with 1 here since it's multiplication\n\nfor (i in 1:6){\n  myProduct = myProduct * 2  # multiplying with 2 in each iteration\n  print(myProduct) # prints the result after each iteration\n}\n\n[1] 2\n[1] 4\n[1] 8\n[1] 16\n[1] 32\n[1] 64\n\nmyProduct # final result\n\n[1] 64\n\n\n\n\n💪 Uppgift 6.8\nFunktionen sum() i R kan användas för att summera numeriska värden i en vektor. Använd denna funktion för att räkna ut medelvärdet för variabeln Age_fighters ovan.\n\n# Write your code here\n\n\n\n\n\n\n\nTips\n\n\n\nMedelvärdet ges av formeln: \\[\\begin{align}\n\\nonumber \\overline{y}= \\frac{1}{n} \\sum_{i=1}^n y_i\n\\end{align}\\]\n\n\n\n\n💪 Uppgift 6.9\nAnvänd en for-loop för att räkna ut medelvärdet för variabeln Age_fighters.\n\n# Write your code here\n\n\n\n\n\n\n\nTips\n\n\n\nSkapa ett startvärde för summan och sätt detta värde till 0. Sedan inuti loopen måste du också använda dig av indexering för att säga till R vilket värde i denna variabel du vill addera till din befintliga summa."
  },
  {
    "objectID": "datorlab/lab2/DatorLab2.html#sammanfattning",
    "href": "datorlab/lab2/DatorLab2.html#sammanfattning",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "7. Sammanfattning",
    "text": "7. Sammanfattning\n\n\n\n\n\n\nI den här laborationen har du lärt dig:\n\n\n\n\nMetoder för att presentera en variabels fördelning och att man använder olika metoder beroende på om en variabel är numerisk eller kategorisk.\nHur man praktiskt kan presentera kategoriska variabler i tabellform samt illustrera dem grafiskt med paj- och stapeldiagram.\nHur man kan rita ett histogram och en täthetsplot.\nKopplingen mellan histogram och stapeldiagram.\nVilka beskrivande mått man kan använda sig av för numeriska variabler.\nNågra exempel på vad en for-loop kan användas till."
  },
  {
    "objectID": "datorlab/lab2/DatorLab2.html#a.-appendix",
    "href": "datorlab/lab2/DatorLab2.html#a.-appendix",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "A. Appendix",
    "text": "A. Appendix\nLista över några vanliga argument i grafer\n\ncol = färg, kan markeras med siffror eller med namnet på färgen, oftast med små bokstäver. Glöm ej att texten måste ligga inom citattecken.\nmain = rubrik på plotten, detta sätts till en textsträng, alltså en text inom citattecken.\nxlab = rubrik på x-axeln, detta sätts till en textsträng, alltså en text inom citattecken.\nylab = rubrik på y-axeln, detta sätts till en textsträng, alltså en text inom citattecken.\nxlim = definitionsområde för x-axeln. Exempelvis betyder xlim = c(0, 14.3) att det lägsta värdet som ritas kommer att vara 0 och det högsta värdet kommer att vara 14.3 (på x-axeln).\nylim = definitionsområde för y-axeln. Exempelvis betyder ylim = c(-2, 20.7) att det lägsta värdet som ritas kommer att vara -2 och det högsta värdet kommer att vara 20.7 (på y-axeln).\nlwd = tjocklecken på linjer (eller prickar) i ett linjediagram (spridningsdiagram), anges med ett nummer.\nlty = typ av linje (rak, streckad, prickad etc) i ett linjediagram, anges med ett nummer.\npch = typ av prick (rund, fyrkantig + * etc), sätts till ett nummer.\nbreaks = antal staplar i ett histogram.\ncex = justering av etiketternas storlek i en figur (exempelvis cex = 0.5 i en legend() funktion minskar storleken som “legend-texten” tar upp i en figur med hälften). Finns även exempelvis cex.axis, cex.main för att justera storleken av texter på axlar respektive rubrik.\nbg = bakgrundsfärg i en figur.\ncol.main = rubrikens färg.\ncol.lab = färger för rubrikerna på axlarna.\nfont = specificerar vilken typ av text man vill ha, exempelvis ger font = 3 kursiv text."
  },
  {
    "objectID": "datorlab/lab2/DatorLab2Simple.html",
    "href": "datorlab/lab2/DatorLab2Simple.html",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "",
    "text": "Warning\n\n\n\nDen här labben förutsätter att följande paket finns installerade:\n\nopenxlsx\nmosaic\n\nPaket kan installeras via kommandot install.packages('packagename'), där 'packagename' är namnet på paketet, t.ex 'mosaic'."
  },
  {
    "objectID": "datorlab/lab2/DatorLab2Simple.html#introduktion",
    "href": "datorlab/lab2/DatorLab2Simple.html#introduktion",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "Introduktion",
    "text": "Introduktion\n\nI den här datorlabben kommer vi att titta på hur fördelningar för olika typer av variabler kan beskrivas numeriskt och grafiskt.\n\n\n💪 Uppgift 0.3\nLägg till en ny code chunk och ställ in ‘working directory’ till den nya mappen genom att följa anvisningarna från Lab 1.\n\n# Fyll i lösning för Uppgift 0.3 här"
  },
  {
    "objectID": "datorlab/lab2/DatorLab2Simple.html#skapa-tabeller-för-kategoriska-variabler",
    "href": "datorlab/lab2/DatorLab2Simple.html#skapa-tabeller-för-kategoriska-variabler",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "1. Skapa tabeller för kategoriska variabler",
    "text": "1. Skapa tabeller för kategoriska variabler\nInstallerar några paket som ska användas för laborationen.\n\n#install.packages(\"openxlsx\") # Kommentera bort denna rad om redan har openxlsx installerat från Lab 1\n#install.packages(\"mosaic\") # Kommentera bort denna rad efter att du kört Quarto-filen första gången\nsuppressMessages(library(openxlsx))\nsuppressMessages(library(mosaic))\n\nVi läser in datamaterialet direkt från webben:\n\ntitanic = read.xlsx(\"https://github.com/StatisticsSU/SDA1/raw/main/datorlab/lab2/Chapter_3.xlsx\", sheet = \"Titanic\")\n\n\n💪 Uppgift 1.1\nÄndra koden ovan så read.xlsx() istället läser in filen ‘Chapter_3.xlsx’ från din dator.\nVariabeln Survived i datasetet är en kategorisk variabel med två kategorier Dead och Alive. När en variabel bara har två kategorier brukar man också säga binär variabel. Man kan räkna antalet observationer som tillfaller varje kategori och på så sätt skapa en frekvenstabell med funktionen tally() i mosaic-paketet enligt nedan.\n\ntab_survived <- tally(~ Survived, data = titanic)\ntab_survived\n\nSurvived\nAlive  Dead \n  712  1496 \n\n\nGenom att lägga till argumentet format = proportion i tally() räknas de relativa frekvenserna istället.\n\ntally(~ Survived, data = titanic, format = \"proportion\")\n\nSurvived\n    Alive      Dead \n0.3224638 0.6775362 \n\n\nVill man ha detta presenterat i procent kan man enkelt skriva format = percent istället för proportion\n\ntally(~ Survived, data = titanic, format = \"percent\")\n\nSurvived\n   Alive     Dead \n32.24638 67.75362 \n\n\nAlltså överlevde endast 32.2% av de som befann sig på Titanic, medan 67.8% dog.\n\n\n💪 Uppgift 1.1\nVariabeln Class talar om biljettklass passageraren reste med (1:a, 2:a, 3:e eller Crew (besättning)). Presentera det totala antalet inom varje biljettklass. Vilken kategori är störst?\n\n# Write your code here\n\n\n\n💪 Uppgift 1.2\nBeräkna den relativa frekvensen (i procent) inom varje biljettklass.\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab2/DatorLab2Simple.html#grafisk-illustration-av-kategoriska-variabler",
    "href": "datorlab/lab2/DatorLab2Simple.html#grafisk-illustration-av-kategoriska-variabler",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "2. Grafisk illustration av kategoriska variabler",
    "text": "2. Grafisk illustration av kategoriska variabler\nEtt enkel pajdiagram fås genom koden:\n\ntable_rel_freq = tally(~ Survived, data = titanic, format = \"proportion\")\npie(x = table_rel_freq)\n\n\n\n\nOch här är en lite mer informativt diagram:\n\nrel_frequencies = round(table_rel_freq, 2) # round the numbers to two decimals\nrel_frequencies\n\nSurvived\nAlive  Dead \n 0.32  0.68 \n\ncategory_names = names(table_rel_freq)\ncategory_names\n\n[1] \"Alive\" \"Dead\" \n\ncolors = c(\"lightblue\", \"purple\")\npie(x =  table_rel_freq, labels = rel_frequencies, col = colors)\nlegend(\"topright\", legend = category_names, fill = colors)\n\n\n\n\n\n💪 Uppgift 2.1\nSkapa ett pajdiagram av variabeln Class i titanic. Använd dig gärna av uträkningarna från Uppgift 1.2 för att skapa grafen. Välj själv om du vill illustrera det som andelar eller i procent.\n\n# Write your code here\n\n\n\n💪 Uppgift 2.2\nVad är det för fel på denna graf?\n\nrel_frequencies = c(0.1, 0.9)\ncategory_names = names(table_rel_freq)\ncolors = c(\"lightblue\", \"purple\")\npie(x =  table_rel_freq, labels = rel_frequencies, col = colors)\nlegend(\"topright\", legend = category_names, fill = colors)\n\n\n\n\n\nbargraph(~ Survived, data = titanic, type = \"proportion\")\n\n\n\n\n\nx_axis_title = \"Survival\"\ny_axis_title = \"Frequency\"\nlength_y_axis = c(0, 0.80)\ncolors = c(\"lightblue\", \"purple\")\n\nbargraph(~ Survived, data = titanic, type = \"proportion\", \n         xlab = x_axis_title, ylab = y_axis_title, ylim = length_y_axis, col = colors)\n\n\n\n\nFigur 1: Relative frequency of Survival on the Titanic\n\n\n\n\n\n\n💪 Uppgift 2.3\nJustera diagrammet nedan så att det ser mer presentabelt ut. Byt också ut färgerna mot två andra bland R’s standardfärger.\n\nx_axis_title = \"Survival\"\ny_axis_title = \"Frequency\"\nlength_y_axis = c(0, 0.1)\n\nbargraph(~ Survived, data = titanic, type = \"proportion\",  \n         xlab = x_axis_title, ylab = y_axis_title, ylim = length_y_axis, col = colors)\n\n\n\n\n\n\n💪 Uppgift 2.4\nRätta till felet i följande diagram:\n\nx_axis_title = \"Survival\"\ny_axis_title = \"Frequency\"\n\nbargraph(~ Survived, data = titanic, type = \"count\", \n         xlab = x_axis_title, ylab = y_axis_title, col = colors)\n\n\n\n\n\n\n💪 Uppgift 2.5\nSkapa ett stapeldiagram med funktionen bargraph() för variabeln Class i titanic. Använd relativa frekvenser denna gång.\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab2/DatorLab2Simple.html#dataset-som-består-av-saknade-värden",
    "href": "datorlab/lab2/DatorLab2Simple.html#dataset-som-består-av-saknade-värden",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "3. Dataset som består av saknade värden",
    "text": "3. Dataset som består av saknade värden\nVi tar bort saknade värde i variabeln Age:\n\nlength(titanic$Age) # number of observations originally\n\n[1] 2208\n\nAge = na.omit(titanic$Age)\nlength(Age) # the number of observations when missing values are removed\n\n[1] 2205\n\n\n\n💪 Uppgift 3.1\nDefiniera en ny variabel Paid från kolumnen Paid i datasetet titanic på liknande sätt som ovan. Rensa bort eventuella saknade värden med funktionen na.omit().\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab2/DatorLab2Simple.html#grafisk-presentation-av-numeriska-variabler",
    "href": "datorlab/lab2/DatorLab2Simple.html#grafisk-presentation-av-numeriska-variabler",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "4. Grafisk presentation av numeriska variabler",
    "text": "4. Grafisk presentation av numeriska variabler\nHär är ett exempel med funktionen histogram():\n\nhistogram(~ Age, data = titanic, col = \"navyblue\")\n\n\n\n\nFigur 2: Distribution of Age onboard the Titanic\n\n\n\n\nOch här med density\n\ndensityplot(~ Age, data = titanic, col = \"navyblue\")\n\n\n\n\nFigur 3: Distribution of Age onboard the Titanic\n\n\n\n\n\n💪 Uppgift 4.1\nRita ett histogram likt ovan, med samma variabel men med en annan färg. Testa dig fram med breaks argumentet tills du hittar vad du tycker är ett passande antal staplar. Rita sedan ett till likadant histogram men använd dig av Sturges regel denna gång för att bestämma hur många staplar som ska användas. Ser histogrammet bättre ut än det du ritade utan Sturges regel?\n\n# Write your code here\n\n\n\n💪 Uppgift 4.2\nRita ett histogram över variabeln Paid.\n\n# Write your code here\n\n\n\n💪 Uppgift 4.3\nVilket mått av medelvärdet eller medianen beskriver centralpunkten i fördelningen för Paid bäst?\n\n\n💪 Uppgift 4.4\nRita täthetsplottar för variablerna Age och Paid.\n\n# Write your code here\n\n\nhist_Age = hist(x = Age,  col = \"coral\")\n\n\n\nfrequencies = hist_Age$count\nfrequencies\n\n [1]  62  38  33 271 432 400 321 264 158 103  49  37  28   5   4\n\n\nI det första argumentet i funktionen barplot() lägger vi in frekvenserna som nyss räknades ut. Det andra argumentet names.arg är till för att namnge de olika åldersintervallen ovan, på x-axeln. Argumentet las = 3 gör endast så att texten på x-axeln blir lodrät.\n\nAge_Intervals = c(\"0-4\", \"5-9\", \"10-14\", \"15-19\", \"20-24\", \"25-29\", \"30-34\", \n              \"35-39\", \"40-44\", \"45-49\", \"50-54\", \"55-59\", \"60-64\", \"65-69\",\n              \"70-74\")\n\nbarplot(frequencies, names.arg = Age_Intervals, las = 3,\n        main = \"Frequency of Age onboard the Titanic\")\n\n\n\n\nHistogrammet som skapades innan går alltså i princip att göra om till ett stapeldiagram, där höjden på stapeln illustrerar hur många observationer det är som tillfaller varje ålderskategori. :::"
  },
  {
    "objectID": "datorlab/lab2/DatorLab2Simple.html#numerisk-beskrivning-av-kvantitiva-variabler",
    "href": "datorlab/lab2/DatorLab2Simple.html#numerisk-beskrivning-av-kvantitiva-variabler",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "5. Numerisk beskrivning av kvantitiva variabler",
    "text": "5. Numerisk beskrivning av kvantitiva variabler\nOm man använder sig av en frekvenstabell för en numerisk variabel riskerar man i värsta fall att få en tabell som är lika lång som antal observationer man har. Kanske har man inte ens ett enda fall där två olika observationer har samma värden. Därför används ofta andra beskrivande mått. Bland de viktigaste är lägesmåtten som fångar fördelningens mittpunkt\n\nmedelvärde\nmedian\n\noch spridningsmåtten som mäter variationen kring fördelningens mittpunkt:\n\nvarians\nstandardavvikelse\nvariationsbredd (range på engelska: skillnaden mellan maximum och minimumvärdet)\nInterkvartila avståndet (IQR).\n\nFunktionen favstats() i mosaic-paketet beräknar dessa mått:\n\nfavstats(~ Age, data = titanic)\n\n  min Q1 median Q3 max     mean       sd    n missing\n 0.08 22     29 37  74 30.14689 11.97386 2205       3\n\n\nFunktionen räknar ut olika fördelningsmått, såsom minimumvärdet, maximumvärdet, första och tredje kvartilen samt medelvärdet och medianen. Både medelvärdet och medianen är mått på en fördelnings mittpunkt men hur lämpliga de är som mått beror på fördelningens utseende. Vi ser även att funktionen också skriver ut hur många värden datasetet består av och antalet saknade värden.\nIbland vill man dock inte skriva ut all denna information för en variabel. I Datorlaboration 1 använde vi oss av funktionen mean() för att räkna ut medelvärdet av en variabel. Några andra vanliga funktioner utöver dessa är var() och sd(). Matematiskt motvaras dessa tre funktioner av: \\[\\begin{align}\\nonumber\n\\overline{y}= \\frac{1}{n} \\sum_{i=1}^n y_i \\\\ \\nonumber\ns^2 =\\frac{\\sum_{i=1}^n(y_i-\\overline{y})^2}{n-1}\n\\end{align}\\] och \\[\\begin{align}\ns = \\sqrt{s^2}\n\\end{align}\\]\n\n💪 Uppgift 5.1\nAnvänd funktionerna ovan för att räkna ut medelvärdet, variansen och standardavvikelsen för variabeln Age. Kan man räkna ut standardavvikelsen på något annat sätt i R?\n\n# Write your code here\n\n\n\n💪 Uppgift 5.2\nRäkna ut det variationsbredden samt det interkvartila avståndet av variabeln Age från utskriften vi fick från funktionen favstats().\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab2/DatorLab2Simple.html#indexering-och-upprepning-loopar",
    "href": "datorlab/lab2/DatorLab2Simple.html#indexering-och-upprepning-loopar",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "6. Indexering och upprepning (loopar)",
    "text": "6. Indexering och upprepning (loopar)\nLåt oss titta på ett dataset över UFC’s top 10 kampsportsutövare i Welterweight klassen bland män (december 2022). Nedan matas värdena in i vektorer och sedan sätts alla variabler ihop i en och samma tabell med funktionen data.frame():\n\n# Defining variables:\nName = c(\"Kamaru Usman\", \"Colby Covington\", \"Khamzat Chimaev\", \"Belal Muhammed\",\n         \"Gilbert Burns\",\"Stephen Thompson\", \"Geoff Neal\", \"Sean Brady\", \n         \"Vicente Luque\", \"Shavkat Rakhmanov\" )\nRank = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\nWins_by_knockout = c(9, 4, 6, 5, 6, 8, 9, 3, 11, 8)\nTakedown_avg = c(3.01, 4.05, 3.98, 2.19, 2, 0.27, 0.59, 2.8, 0.51, 2.31)\nAge_fighters = c(35,34,27, 34, 35, 39, 31, 29, 30, 27)\n\n# Creating a dataframe with all the variables just defined above:\nUFC = data.frame(Name, Rank, Wins_by_knockout, Takedown_avg, Age_fighters)\nUFC\n\n                Name Rank Wins_by_knockout Takedown_avg Age_fighters\n1       Kamaru Usman    1                9         3.01           35\n2    Colby Covington    2                4         4.05           34\n3    Khamzat Chimaev    3                6         3.98           27\n4     Belal Muhammed    4                5         2.19           34\n5      Gilbert Burns    5                6         2.00           35\n6   Stephen Thompson    6                8         0.27           39\n7         Geoff Neal    7                9         0.59           31\n8         Sean Brady    8                3         2.80           29\n9      Vicente Luque    9               11         0.51           30\n10 Shavkat Rakhmanov   10                8         2.31           27\n\n\nDatasetet består av fem stycken variabler och är sorterat efter Rank. I Lab 1 tittade vi lite på indexering och detta bygger vidare på det. Låt säga att vi vill veta vad åldern är för den 6:e rankade utövaren. I detta fall är datasetet väldigt litet och man kan genast identifiera alla individer. Ibland har vi dataset som är väldigt stora och då kan man behöva använda sig av indexering för att få ut information om en enskild (eller ett fåtal) observationer av intresse. För att ta reda på åldern på den 6:e rankade utövaren kan man då använda sig av koden UFC[6, 5]. Där siffran till vänster om kommatecknet i hakparantesen anger radtalet och siffran till höger om kommatecknet anger kolumntalet. Detta ger oss svaret 39.\n\n💪 Uppgift 6.1\nAnvänd indexering för att skriva ut hur många wins by knockout Gilbert Burns har haft.\n\n# Write your code here\n\n\n\n💪 Uppgift 6.2\nAnvänd indexering för att skriva ut all information om Kamaru Usman (dvs den första raden). [Ledtråd: om man inte skriver något alls efter kommatecknet i indexeringen får man alla värden i den raden]\n\n# Write your code here\n\n\n\n💪 Uppgift 6.3\nAnvänd indexering för att skriva ut alla värden för variabeln Takedown_avg (dvs den 4:e kolumnen).\n\n# Write your code here\n\n\n\n💪 Uppgift 6.4\n\nfor (i in 1:10){\n  print(i)\n}\n\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n[1] 5\n[1] 6\n[1] 7\n[1] 8\n[1] 9\n[1] 10\n\n\nAnvänd loopen ovan men byt ut indexvariabeln i till k istället. Kör sedan loopen. Vad är det som händer?\n\n# Write your code here\n\n\n\n💪 Uppgift 6.5\nAnvänd återigen loopen i exemplet ovan. Men ändra variabeln is definitionsmängd från 1:10 till 24:33.\n\n# Write your code here\n\n\n\n💪 Uppgift 6.6\nGör på samma vis som i övningen ovan men ändra nu definitionsmängden från 1:10 till -3:5\n\n# Write your code here\n\n\n\n💪 Uppgift 6.7\nAnvänd en for-loop för att skriva ut varje värde på variabeln Wins_by_knockout.\n\n# Write your code here\n\nDen introduktionen till loopar kan räcka för tillfället. Men om du tyckte det var intressant kan du fortsätta läsa lite mer om loopar nedan.\n\n\n💪 Uppgift 6.8\nFunktionen sum() i R kan användas för att summera numeriska värden i en vektor. Använd denna funktion för att räkna ut medelvärdet för variabeln Age_fighters ovan.\n\n# Write your code here\n\n\n\n\n\n\n\nTip\n\n\n\nMedelvärdet ges av formeln: \\[\\begin{align}\n\\nonumber \\overline{y}= \\frac{1}{n} \\sum_{i=1}^n y_i\n\\end{align}\\]\n\n\n\n\n💪 Uppgift 6.9\nAnvänd en for-loop för att räkna ut medelvärdet för variabeln Age_fighters.\n\n# Write your code here"
  },
  {
    "objectID": "Del1.html",
    "href": "Del1.html",
    "title": "Del I - Dataanalys och Regression, 7.5 hp",
    "section": "",
    "text": "I momentet ingår insamling, bearbetning, visualisering och sammanfattning av data i programspråket R. En stor del av momentet behandlar sambands- och regressionsanalys som utmynnar i metoder för prediktion.\n\nFörkortningen SDM står för kursboken Stats: Data and Models 5:e upplagan, global edition.\nUnder vissa föreläsningar länkar vi till Extramaterial. Det är material som inte krävs för att klara kursen, men som den nyfikne kan läsa för att få en djupare förståelse.\n\nFöreläsningar\nFöreläsning 1 - Introduktion.\nLäs: SDM Kapitel 1 | Slides\nFöreläsning 2 - Kort introduktion till R. \nLäs: Slides\nKod: Kod\nData: SmartPhones | CAPM\nFöreläsning 3 - Hantera och beskriva data.\nLäs: SDM Kapitel 2 | Slides\nInteraktivt: widget - histogram\nFöreläsning 4 - Samband mellan kategoriska variabler.\nLäs: SDM Kapitel 3 | Slides\nFöreläsning 5 - Jämföra fördelningar. Tidsserier. Transformationer.\nLäs: SDM Kapitel 4 | Slides\nFöreläsning 6 - Standardisering och normalmodellen.\nLäs: SDM Kapitel 5 | Slides\nFöreläsning 7 - Samband mellan numeriska variabler.\nLäs: SDM Kapitel 6 | Slides\nFöreläsning 8 - Enkel linjär och icke-linjär regression.\nLäs: SDM Kapitel 7 | Slides\nwidget - linjär regression utan population | widget - linjär regression med population\nFöreläsning 9 - Multipel linjär regression och modellval.\nLäs: SDM Kapitel 8-9 | Slides\nExtramaterial: widget - icke-linjär regression\nFöreläsning 10 - Populationer och stickprov. Undersökningar och experiment.\nLäs: SDM 10.1-10.3 och 11.1-11.2 | Slides \nFöreläsning 11 - Sammanfattning\nLäs: Slides\n\n\nRäkneövningar\nÖvningarna i kursboken Stats: Data and Models (SDM) hänvisas till med kapitelnummer följt av övningsnummer.\nÖvning 1 - Beskrivande statistik.\nUppgifter: SDM 2.1, 2.2, 2.6, 2.7, 2.9, 2.11, 2.12, 2.14, 2.15, 2.16, 2.17, 2.20, 2.21, 2.24.\nÖvning 2 - Samband mellan kategoriska variabler. Transformationer.\nUppgifter: SDM 3.1, 3.3, 3.5, 3.6, 3.7, 3.9, 3.25, 3.31, 3.39, 3.41, 3.47, 4.1, 4.3, 4.14, 4.17, 4.45.\nÖvning 3 - Standarisering och normalmodellen.\nUppgifter: SDM 5.1, 5.2, 5.4, 5.5, 5.8, 5.10, 5.14, 5.16, 5.17, 5.30, 5.42, 5.48.\nÖvning 4 - Samband mellan numeriska variabler. Korrelation och enkel linjär regression.\nUppgifter: SDM 6.2, 6.3, 6.5, 6.6, 6.9, 6.14, 6.20, 7.1, 7.2, 7.3, 7.4, 7.5, 7.7, 7.9, 7.11, 7.13, 7.15, 7.19, 7.23, 7.27, 7.52.\nÖvning 5 - Multipel linjär regression.\nUppgifter: SDM Kapitel 8.18, 8.20, 9.1, 9.2, 9.3, 9.4, 9.5, 9.6, 9.9, 9.11, 9.14, 9.16, 9.22, 9.23, 9.28.\nÖvning 6 - Repetition.\nRepetitionstillfälle.\n\n\nDatorlaborationer\nDatorlaboration 1 - Introduktion till R.\nUppgifter: html\nDatorlaboration 2 - Beskrivande statistik och visualisering i R.\nUppgifter: html | quarto\nDatorlaboration 3 - Samband mellan två kategoriska variabler. Samband mellan en kategorisk och en numerisk variabel. Tidsserier.\nUppgifter: html | quarto\nDatorlaboration 4 - Korrelation. Enkel och multipel linjär samt icke-linjär regression.\nUppgifter: html | quarto\n\n\nInlämningsuppgift\nInlämningsuppgift 1.\nUppgifter: html | quarto"
  },
  {
    "objectID": "observable/storatalenslag.html",
    "href": "observable/storatalenslag.html",
    "title": "Stora talens lag - normalfördelning",
    "section": "",
    "text": "Låt \\[X_1,X_2,\\ldots,X_n   \\overset{\\mathrm{iid}}{\\sim} \\operatorname{N}(\\mu,\\sigma^2)\\]\nDå gäller att \\[\n\\bar X \\sim \\operatorname{N}(\\mu,\\sigma^2/n)\n\\] Vi ser här stora talens lag in action: eftersom variansen minskar när \\(n\\) ökar kommer medelvärdet att ligga allt närmare väntevärdet \\(\\mu\\) i stora stickprov. Det visas i de interaktiva illustrationerna nedan."
  },
  {
    "objectID": "observable/storatalenslag.html#normalpopulation",
    "href": "observable/storatalenslag.html#normalpopulation",
    "title": "Stora talens lag",
    "section": "Normalpopulation",
    "text": "Normalpopulation"
  },
  {
    "objectID": "tutorials/ReadingDataFromFile/ReadingDataFromFile.html",
    "href": "tutorials/ReadingDataFromFile/ReadingDataFromFile.html",
    "title": "Reading data from a file",
    "section": "",
    "text": "Data often come in the form of Excel files, usually named SomeData.xls or SomeData.xlsx, where SomeData is the name that you or someone else have given to the file. Excel stores data as tables with rows and columns, like this:\n\n\n\n\n\nExcel files may contain more than one dataset, organized as Excel sheets. Here is an example (note the multiple sheets at the bottom):"
  },
  {
    "objectID": "tutorials/ReadingDataFromFile/ReadingDataFromFile.html#reading-data-from-an-excel-file-in-r",
    "href": "tutorials/ReadingDataFromFile/ReadingDataFromFile.html#reading-data-from-an-excel-file-in-r",
    "title": "Reading data from a file",
    "section": "Reading data from an Excel file in R",
    "text": "Reading data from an Excel file in R\nThere are many R packages for reading data from Excel. We will be using the openxlsx package here. This installs and loads the openxlsx package:\n\n#install.packages(\"openxlsx\") # Installs the openxlsx package. Do it only once.\nlibrary(\"openxlsx\")           # loads the openxlsx package. Do it once per R session.\n\n\n\n\n\n\n\nNote\n\n\n\nI have commented out the installation of the package by putting a # sign in front of the command install.packages(\"openxlsx\"). So this command will not be executed/run. I already have that package installed on my computer and don’t want to re-install it. You have to uncomment, that is remove the sign #, before running this on your computer, if you haven’t installed this package already.\n\n\n\ntour_de_france <- read.xlsx('Tour_de_France_2017.xlsx', sheet = 1)\n\nThe argument sheet=1 tells R to read data from the first sheet in the Excel file. If you want to the read data from the third sheet in an Excel file, then just replace 1 with 3 (the Tour de France data has only one sheet, however).\n\n\n\n\n\n\nImportant\n\n\n\nI placed the file Tour_de_France_2017.xlsx in my working directory. If the file with data is at a different place on your computer then you need to include the search path to the file before the file name. For example, on a computer running Windows, if your data is stored in the Documents folder, then replace the command above with\ntour_de_france <- read_excel('C:\\Documents\\Tour_de_France_2017.xlsx', sheet = 1)\n\n\n\n\n\n\n\n\nTip\n\n\n\nRather than telling R explicitly where your data are stored, you can also use the command\ntour_de_france <- read.xlsx(file.choose(), sheet = 1)\nwhich will open up a window where you can look up the file in your file explorer and it will then read the first sheet (again the 1 in the command) of that file. This is convenient, but I don’t recommend it (lousy tip! 🙄) since you then have to click your way to the file everytime you re-run your R code.\n\n\nWe have now read the dataset into a variable that I have chosen to call tour_de_france. We can now just type the name of this variable in the Console in R to see the data. The dataset contains many observations so it would be a long printout. A better way to get a quick look at the data, is to use the head command, showing only the first few observations of the dataset:\n\nhead(tour_de_france)\n\n  Year              Winner Country Age         Team Total.Time(h.min.sec)\n1 1903       Maurice Garin  France  32 La Fran�aise              94.33.00\n2 1904        Henri Cornet  France  20    Cycles JC              96.05.56\n3 1905   Louis Trousselier  France  24      Peugeot             110.26.58\n4 1906        Ren� Pottier  France  27      Peugeot             189.34.00\n5 1907 Lucien Petit-Breton  France  24      Peugeot             158.45.05\n6 1908 Lucien Petit-Breton  France  25      Peugeot             156.53.29\n  Total.Time(h) Average.Speed Stages Total.Distance.Ridden Starting.Riders\n1      94.55000        25.679      6                  2428              60\n2      96.09889        25.265      6                  2428              88\n3     110.44944        27.107     11                  2994              60\n4     189.56667        24.463     13                  4637              82\n5     158.75139        28.470     14                  4488              93\n6     156.89139        28.740     14                  4488             112\n  Finishing.Riders\n1               21\n2               27\n3               24\n4               14\n5               33\n6               36\n\n\nNote that some accented letters like é were replaced by a question mark. The variable tour_de_france is a table of a specific type called dataframe, which is R’s main way of storing a table.\nYou can now start analyzing the data in different ways, perhaps plotting the average speed variable over the year that Tour de France has run:\n\nplot(Average.Speed ~ Year, data = tour_de_france)\n\n\n\n\nThe average speed has increased over the year. Notable exceptions are the years during following the first world war."
  },
  {
    "objectID": "tutorials/ReadingDataFromFile/ReadingDataFromFile.html#reading-data-from-text-.txt-and-.csv-files",
    "href": "tutorials/ReadingDataFromFile/ReadingDataFromFile.html#reading-data-from-text-.txt-and-.csv-files",
    "title": "Reading data from a file",
    "section": "Reading data from text (.txt) and .csv files",
    "text": "Reading data from text (.txt) and .csv files\nData may also come as a pure text file, often with the file ending .txt. Such files contain a simple table with the data. The first row may or may not contain the names of the variables in the columns. The columns are separated by a separator, typically a comma (,) or a TAB (blank space of a certain width). Here is an example with data from Indy car drivers:\n\n\n\n\n\nNote how the columns are not nice aligned, but clearly separated by blank space (TAB) so that R can understand which numbers belongs to which variable (column). Note also that the first row contain the variable names: Year, Winner, Chassis, Engine, Speed, Time_hrs and Distance.\nLet’s read this text file with data into R using the built-in function read.delim\n\nindy <- read.delim('Indy_500_2018.txt', header = TRUE)\nhead(indy)\n\n  Year        Winner  Chassis   Engine Speed.computed Time_hrs Distance\n1 1911   Ray Harroun   Marmon   Marmon       74.60212 6.702222      500\n2 1912    Joe Dawson National National       78.71950 6.351667      500\n3 1913    Jules Goux  Peugeot  Peugeot       75.93335 6.584722      500\n4 1914   Rene Thomas   Delage   Delage       82.47423 6.062500      500\n5 1915 Ralph DePalma Mercedes Mercedes       89.84049 5.565419      500\n6 1916   Dario Resta  Peugeot  Peugeot       84.00093 3.571389      300\n\n\nwhere the argument header = TRUE tells R that the first row in the dataset contains the names of the variables in the data.\nFinally, a very common file format is csv , which stands for comma-separated values. These are similar to txt files, but are read into R using the built-in read.csv function.\n\n\n\n\n\n\nTip\n\n\n\nBoth the read.delim and read.csv have an argument sep that can be used to specify which delimiter is used in the file. For example, a txt files where the columns are separated by a comma instead of TAB can be read by the command:\nmy_data <- read.delim('myfile.txt', sep = \",\", header = TRUE)"
  },
  {
    "objectID": "tutorials/Quarto/QuartoReportExample.html",
    "href": "tutorials/Quarto/QuartoReportExample.html",
    "title": "Quarto",
    "section": "",
    "text": "This is an example of report from a Quarto document (with file format .qmd ). You can look at the html or pdf version of the document to spot things you like to learn how to do in Quarto and then go to the corresponding place in the .qmd file to see how I did it.\n\n\n\n\n\n\nQuarto official help\n\n\n\nThe Quarto website is very helpful for learning about Quarto. You can search (upper right corner) for specific things that you want to do in Quarto. Try for example searching for bold to see how you get bold text.\n\n\nAt the top of the file is the so called YAML, which contains the settings of the document."
  },
  {
    "objectID": "tutorials/Quarto/QuartoReportExample.html#formatted-text-with-markdown",
    "href": "tutorials/Quarto/QuartoReportExample.html#formatted-text-with-markdown",
    "title": "Quarto",
    "section": "2. Formatted text with markdown",
    "text": "2. Formatted text with markdown\nQuarto documents uses a special language called markdown to write formatted (pretty looking) text like bold text or italic text.\nYou can make lists\n\nThis is an item\nand this is another one\nthe this is the last one\n\nOr numbered lists\n\nItem one\nItem two\nThe last item\n\nOr even lists like this:\n\nComputer lab 1\nComputer lab 2\nComputer lab 3\n\nYou can use footnotes. 1\nLinks to webpages: markdown cheat sheet\nHorizontal lines to be break up paragraphs\n\n\nand who doesn’t like a little wise quote?\n\nYou can also use titles of section of different sizes:"
  },
  {
    "objectID": "tutorials/Quarto/QuartoReportExample.html#header-2",
    "href": "tutorials/Quarto/QuartoReportExample.html#header-2",
    "title": "Quarto",
    "section": "Header 2",
    "text": "Header 2\n\nHeader 3\n\nHeader 4"
  },
  {
    "objectID": "tutorials/Quarto/QuartoReportExample.html#tables",
    "href": "tutorials/Quarto/QuartoReportExample.html#tables",
    "title": "Quarto",
    "section": "3. Tables",
    "text": "3. Tables\n\n\n\nName\nTitle\nParking space\n\n\n\n\nMike\nPhD student\nNo\n\n\nSarah\nProfessor\nYes\n\n\nDeborah\nLecturer\nNo"
  },
  {
    "objectID": "tutorials/Quarto/QuartoReportExample.html#code-and-plots",
    "href": "tutorials/Quarto/QuartoReportExample.html#code-and-plots",
    "title": "Quarto",
    "section": "4. Code and Plots",
    "text": "4. Code and Plots\nA Quarto document can mix text and computer code. You can include code that computes statistics in your documents and then have the computed statistics analyzed or plotted in the same document.\nCode is written in code chunks. Here is chunk of R code that produces a plot in @littlehist\n\nn = 100\nx = rnorm(n)\nhist(x, main = \"My little histogram\")\n\n\n\n\nMy little fig caption\n\n\n\n\n\nplot(cars)\n\n\n\n\nFigure 1: Plot\n\n\n\n\nFor example, see @littlehist.\nVariables like n defined in a previous chunk can be used in a new chunk, like this:\n\nmean(x) # note how I use x from the previous code chunk\n\n[1] 0.001025915\n\n\nBy the way, note how I used backticks ` ` on n above to make the font look like computer code. So I can write plot( x ~ y, data = mydata) to show you the plot command in the text.\nYou can also include other images than plots produced by R. Like this:\n see @larry for grumpy dude."
  },
  {
    "objectID": "tutorials/Quarto/QuartoReportExample.html#mathematical-symbols",
    "href": "tutorials/Quarto/QuartoReportExample.html#mathematical-symbols",
    "title": "Quarto",
    "section": "5. Mathematical symbols",
    "text": "5. Mathematical symbols\nQuarto can be used to write beautiful mathematical symbols using a very powerful typesetting system for maths called LaTeX (Strange name. Watch out, weird stuff may pop up when searching for help about LaTeX commands …). Here is some formulas that you will learn about during this course:\n\\[\ny = \\beta_0 + \\beta_1 x + \\varepsilon, \\text{ and } \\varepsilon \\sim N(0,\\sigma^2_{\\varepsilon})\n\\]\nYou can also write LaTeX math directly in the text: \\(y=a\\cdot b^x\\) and then just continue with the text."
  },
  {
    "objectID": "tutorials/Quarto/Intro2Quarto.html",
    "href": "tutorials/Quarto/Intro2Quarto.html",
    "title": "Introduction to Quarto",
    "section": "",
    "text": "The old fashioned way of writing a report with statistical results follow the steps:\n\nWrite R code to produce statistical results and plots.\nWrite the report in Word, copy the numbers from R to make tables and insert the plots as figures.\nWrite mathematical formulas using some add-on in Word.\n\nThis is not very efficient, particularly when you have to re-run the code to update the results. The tables then needs to be updated manually in Word, and the insertion of figures must be done all over again. Would it be nice if we could write everything in a document: the text, the code, the mathematical formulas, the figures and tables? Can we even ask for a way to automatically update the whole report by a simple click of a button? Say hello to Quarto, a system that does just that, all from inside the comfort of RStudio! 🤩\nQuarto is a way to integrate text (markdown), computer code, figures, tables and mathematical formulas in one document.\nQuarto documents (with file ending .qmd) can easily be turned into pdf format, html, website, blogs and presentations."
  },
  {
    "objectID": "tutorials/Quarto/Intro2Quarto.html#settings-for-the-document---the-yaml",
    "href": "tutorials/Quarto/Intro2Quarto.html#settings-for-the-document---the-yaml",
    "title": "Introduction to Quarto",
    "section": "2. Settings for the document - the YAML",
    "text": "2. Settings for the document - the YAML\nAt the top of a quarto document is the so called YAML, which tells the Quarto engine how the document should be formatted. This is the YAML for this document:\n\n\n\n\n\nwhich basically only gives the title and author information, everything else is using default settings. This will print (render) the document to html by default. To view the rendered file, just click the Render button at the top of the editor (only shown when you have a Quarto file in the editor):\n\n\n\n\n\nThe produced html file can be view in your web browser or inside RStudio in the Viewer tab in the bottom right window (typically). You may need to change the settings for it to show up in the Viewer tab. Click the settings-wheel at the top of the editor and make sure that Preview in Viewer Pane is selected:\n\n\n\n\n\nIf I instead wanted to render to pdf I would use the YAML:"
  },
  {
    "objectID": "tutorials/Quarto/Intro2Quarto.html#writing-formatted-text-using-markdown",
    "href": "tutorials/Quarto/Intro2Quarto.html#writing-formatted-text-using-markdown",
    "title": "Introduction to Quarto",
    "section": "3. Writing formatted text using markdown",
    "text": "3. Writing formatted text using markdown\nThe text written in a Quarto document can be formatted using the markdown language. Markdown is a very simple language for formatting text. For example, I can easily make the text bold by writing **bold** or italic using a single * on each side of the text. A bulleted list:\n\nbullet\nlist\nare also\neasy\n\nis produced by putting a dash - and space before each bullet point. Numbered lists are also simple, just place numbers and a dot (.) before each list item. Like this:\n\nThis is the first point\nand this is second\nand so on.\n\nImages can be inserted by typing ![sceptic larry](/misc/larry.png){width=\"100\"} which would give the picture below. So the text caption for the image is written between the brackets [] and the search path to the image on your computer is given inside the parentheses ().\n\n\n\nsceptic larry\n\n\nYou can leave out the figure text and the width argument and just write: ![](/misc/larry.png) .\nTables are also pretty easy. The table below is made by writing\n| Name  | Age | Position            |\n|-------|-----|---------------------|\n| Mike  | 49  | Professor           |\n| Sarah | 37  | Assistant professor |\n| Anne  | 26  | PhD student         |\n\nA little table caption.\n\n\nName\nAge\nPosition\n\n\n\n\nMike\n49\nProfessor\n\n\nSarah\n37\nAssistant professor\n\n\nAnne\n26\nPhD student\n\n\n\nWhat if you want the table caption text to be below the tables, not below it? No sweat, just put table-cap-location: bottom in your YAML at the top of the document."
  },
  {
    "objectID": "tutorials/Quarto/Intro2Quarto.html#writing-code",
    "href": "tutorials/Quarto/Intro2Quarto.html#writing-code",
    "title": "Introduction to Quarto",
    "section": "4. Writing code",
    "text": "4. Writing code\nA Quarto document can have executable code in them. It supports several programming languages, most notably: R, Python and Julia. You just need to add a code chunk. A code chunk starts and ends with three so called backticks `. The backtick is typed by Shift and the key to the left of Backspace on a Swedish keyboard. This is a chunk of R code:\n\n\n\n\n\nNote the little green Play-button. By pressing that we can run the code chunk. After running the code in the Quarto-document, the variables (in this case a vector x) will be available in the console, just like for any R code. Here is the end result of that code chunk:\n\nx = rnorm(100)\nplot(x, type = \"l\", xlab = \"time\", main = \"time series plot\")\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nQuarto supports other popular programming languages in addtion to .\nA chunk of Python  code would start with ```{python}.\nA Julia  code chunk starts with ```{julia}. \n\n\nWhat if I want to use the code to produce the plot, but not show the code in my report? Easy, I would just add some YAML information at the beginning of the code chunk itself. YAML inside of a code chunk must begin with the two characters #| . Here is how you hide the code:\n\nThe first character # is called a hash and the second | a pipe. So the recommended way to remember #| is by thinking of the Weezer song: hash pipe. BTW, there I used a hyperlink which you write as [link text](webpage address) where the webpage address is a http-link, but can also be links within a document."
  },
  {
    "objectID": "tutorials/Quarto/Intro2Quarto.html#writing-mathematical-formulas",
    "href": "tutorials/Quarto/Intro2Quarto.html#writing-mathematical-formulas",
    "title": "Introduction to Quarto",
    "section": "5. Writing mathematical formulas",
    "text": "5. Writing mathematical formulas\nQuarto supports LaTeX, which is a professional typesetting system for mathematical symbols. LaTeX takes a while to master, but you can look it up online to learn the basics. Just enclose LaTeX code between two dollar-signs on each side. Here is a simple example $$\\alpha_1$$ which would come out as \\[\\alpha_1\\] in your document. Here is a more complex example:\n$$\\bar{x} = \\frac{1}{n}\\sum_{i=1}^n x_i$$\nwhich would come out as the formula for the sample mean:\n\\[\\bar{x} = \\frac{1}{n}\\sum_{i=1}^n x_i\\]"
  },
  {
    "objectID": "tutorials/Quarto/Intro2Quarto.html#using-the-visual-editor-in-rstudio",
    "href": "tutorials/Quarto/Intro2Quarto.html#using-the-visual-editor-in-rstudio",
    "title": "Introduction to Quarto",
    "section": "6. Using the Visual editor in RStudio",
    "text": "6. Using the Visual editor in RStudio\nYou can create (File/New File/Quarto document… menu) and write Quarto documents in RStudio. When you open a Quarto document in the editor the menu bar changes to (may look different for you):\n\n\n\n\n\nClicking on the Render button will render the document to html (default) or pdf (if you choose that in the YAML). Pressing the Run button will re-run all the code chunks in the document. You can write your Quarto document as markdown code if you click the Source -button in the extreme left. If you press the Visual-button you will see the document in a similar way to word processors like Word. You can then insert images and table, change font sizes etc by clicking on the menu. I tend to spend most time in Visual mode, but will often go over to Source mode when I want absolute control of what I do."
  },
  {
    "objectID": "tutorials/Quarto/Intro2Quarto.html#things-to-think-about-when-working-with-quarto",
    "href": "tutorials/Quarto/Intro2Quarto.html#things-to-think-about-when-working-with-quarto",
    "title": "Introduction to Quarto",
    "section": "7. Things to think about when working with Quarto",
    "text": "7. Things to think about when working with Quarto\nQuarto processes the document code chunk by code chunk, from the beginning of the document until the end. Within a code chunk, Quarto reads the codez line by line. You must therefore make sure that a variable that you use has been defined (assigned a value) before you use the variable in the code. A common mistake is to use a variable in a code chunk which is only defined in a later code chunk. That will give an error."
  },
  {
    "objectID": "tutorials/Quarto/Intro2Quarto.html#going-fancy---interactivity",
    "href": "tutorials/Quarto/Intro2Quarto.html#going-fancy---interactivity",
    "title": "Introduction to Quarto",
    "section": "8. Going fancy - interactivity",
    "text": "8. Going fancy - interactivity\nQuarto documents have the basic interactivity that one can change code inside a code chunk, render the document and everything in the document changes according to the changes in the code.\n\nBut it also possible to make the final html interactive. Below is an an example to wet your appetite. Note however that you need to view the html file in an external web browser and not using the Viewer inside RStudio. Try moving around the slides to change the plot.\n\ndata = FileAttachment(\"palmer-penguins.csv\").csv({ typed: true })\n\n\n\n\n\n\n\nviewof bill_length_min = Inputs.range(\n  [32, 50], \n  {value: 35, step: 1, label: \"Bill length (min):\"}\n)\nviewof islands = Inputs.checkbox(\n  [\"Torgersen\", \"Biscoe\", \"Dream\"], \n  { value: [\"Torgersen\", \"Biscoe\"], \n    label: \"Islands:\"\n  }\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfiltered = data.filter(function(penguin) {\n  return bill_length_min < penguin.bill_length_mm &&\n         islands.includes(penguin.island);\n})\n\n\n\n\n\n\n\nPlotData\n\n\n\nPlot.rectY(filtered, \n  Plot.binX(\n    {y: \"count\"}, \n    {x: \"body_mass_g\", fill: \"species\", thresholds: 20}\n  ))\n  .plot({\n    facet: {\n      data: filtered,\n      x: \"sex\",\n      y: \"species\",\n      marginRight: 80\n    },\n    marks: [\n      Plot.frame(),\n    ]\n  }\n)\n\n\n\n\n\n\n\n\n\nInputs.table(filtered)"
  },
  {
    "objectID": "formel_tabell_samlingar/tabellsamling.html#normalfördelning",
    "href": "formel_tabell_samlingar/tabellsamling.html#normalfördelning",
    "title": "Tabellsamling - Statistik och Dataanalys I",
    "section": "Normalfördelning",
    "text": "Normalfördelning\nTabellen ger sannolikheten \\(\\Phi(z) = P(Z\\leq z)\\) för olika \\(z\\) där \\(Z\\) är standardnormal, \\(Z\\sim N(0,1)\\).\nSannolikheter i den vänstra svansen fås genom symmetri: \\(P(Z\\leq \\textminus z) = 1-P(Z\\leq z)\\).\n\n\n     \n\n\nAndra decimalen i \\(z\\)\n\n\n\n\n\n \n  \n      \n    0.00 \n    0.01 \n    0.02 \n    0.03 \n    0.04 \n    0.05 \n    0.06 \n    0.07 \n    0.08 \n    0.09 \n  \n \n\n  \n    0.0 \n    0.5000 \n    0.5040 \n    0.5080 \n    0.5120 \n    0.5160 \n    0.5199 \n    0.5239 \n    0.5279 \n    0.5319 \n    0.5359 \n  \n  \n    0.1 \n    0.5398 \n    0.5438 \n    0.5478 \n    0.5517 \n    0.5557 \n    0.5596 \n    0.5636 \n    0.5675 \n    0.5714 \n    0.5753 \n  \n  \n    0.2 \n    0.5793 \n    0.5832 \n    0.5871 \n    0.5910 \n    0.5948 \n    0.5987 \n    0.6026 \n    0.6064 \n    0.6103 \n    0.6141 \n  \n  \n    0.3 \n    0.6179 \n    0.6217 \n    0.6255 \n    0.6293 \n    0.6331 \n    0.6368 \n    0.6406 \n    0.6443 \n    0.6480 \n    0.6517 \n  \n  \n    0.4 \n    0.6554 \n    0.6591 \n    0.6628 \n    0.6664 \n    0.6700 \n    0.6736 \n    0.6772 \n    0.6808 \n    0.6844 \n    0.6879 \n  \n  \n    0.5 \n    0.6915 \n    0.6950 \n    0.6985 \n    0.7019 \n    0.7054 \n    0.7088 \n    0.7123 \n    0.7157 \n    0.7190 \n    0.7224 \n  \n  \n    0.6 \n    0.7257 \n    0.7291 \n    0.7324 \n    0.7357 \n    0.7389 \n    0.7422 \n    0.7454 \n    0.7486 \n    0.7517 \n    0.7549 \n  \n  \n    0.7 \n    0.7580 \n    0.7611 \n    0.7642 \n    0.7673 \n    0.7704 \n    0.7734 \n    0.7764 \n    0.7794 \n    0.7823 \n    0.7852 \n  \n  \n    0.8 \n    0.7881 \n    0.7910 \n    0.7939 \n    0.7967 \n    0.7995 \n    0.8023 \n    0.8051 \n    0.8078 \n    0.8106 \n    0.8133 \n  \n  \n    0.9 \n    0.8159 \n    0.8186 \n    0.8212 \n    0.8238 \n    0.8264 \n    0.8289 \n    0.8315 \n    0.8340 \n    0.8365 \n    0.8389 \n  \n  \n    1.0 \n    0.8413 \n    0.8438 \n    0.8461 \n    0.8485 \n    0.8508 \n    0.8531 \n    0.8554 \n    0.8577 \n    0.8599 \n    0.8621 \n  \n  \n    1.1 \n    0.8643 \n    0.8665 \n    0.8686 \n    0.8708 \n    0.8729 \n    0.8749 \n    0.8770 \n    0.8790 \n    0.8810 \n    0.8830 \n  \n  \n    1.2 \n    0.8849 \n    0.8869 \n    0.8888 \n    0.8907 \n    0.8925 \n    0.8944 \n    0.8962 \n    0.8980 \n    0.8997 \n    0.9015 \n  \n  \n    1.3 \n    0.9032 \n    0.9049 \n    0.9066 \n    0.9082 \n    0.9099 \n    0.9115 \n    0.9131 \n    0.9147 \n    0.9162 \n    0.9177 \n  \n  \n    1.4 \n    0.9192 \n    0.9207 \n    0.9222 \n    0.9236 \n    0.9251 \n    0.9265 \n    0.9279 \n    0.9292 \n    0.9306 \n    0.9319 \n  \n  \n    1.5 \n    0.9332 \n    0.9345 \n    0.9357 \n    0.9370 \n    0.9382 \n    0.9394 \n    0.9406 \n    0.9418 \n    0.9429 \n    0.9441 \n  \n  \n    1.6 \n    0.9452 \n    0.9463 \n    0.9474 \n    0.9484 \n    0.9495 \n    0.9505 \n    0.9515 \n    0.9525 \n    0.9535 \n    0.9545 \n  \n  \n    1.7 \n    0.9554 \n    0.9564 \n    0.9573 \n    0.9582 \n    0.9591 \n    0.9599 \n    0.9608 \n    0.9616 \n    0.9625 \n    0.9633 \n  \n  \n    1.8 \n    0.9641 \n    0.9649 \n    0.9656 \n    0.9664 \n    0.9671 \n    0.9678 \n    0.9686 \n    0.9693 \n    0.9699 \n    0.9706 \n  \n  \n    1.9 \n    0.9713 \n    0.9719 \n    0.9726 \n    0.9732 \n    0.9738 \n    0.9744 \n    0.9750 \n    0.9756 \n    0.9761 \n    0.9767 \n  \n  \n    2.0 \n    0.9772 \n    0.9778 \n    0.9783 \n    0.9788 \n    0.9793 \n    0.9798 \n    0.9803 \n    0.9808 \n    0.9812 \n    0.9817 \n  \n  \n    2.1 \n    0.9821 \n    0.9826 \n    0.9830 \n    0.9834 \n    0.9838 \n    0.9842 \n    0.9846 \n    0.9850 \n    0.9854 \n    0.9857 \n  \n  \n    2.2 \n    0.9861 \n    0.9864 \n    0.9868 \n    0.9871 \n    0.9875 \n    0.9878 \n    0.9881 \n    0.9884 \n    0.9887 \n    0.9890 \n  \n  \n    2.3 \n    0.9893 \n    0.9896 \n    0.9898 \n    0.9901 \n    0.9904 \n    0.9906 \n    0.9909 \n    0.9911 \n    0.9913 \n    0.9916 \n  \n  \n    2.4 \n    0.9918 \n    0.9920 \n    0.9922 \n    0.9925 \n    0.9927 \n    0.9929 \n    0.9931 \n    0.9932 \n    0.9934 \n    0.9936 \n  \n  \n    2.5 \n    0.9938 \n    0.9940 \n    0.9941 \n    0.9943 \n    0.9945 \n    0.9946 \n    0.9948 \n    0.9949 \n    0.9951 \n    0.9952 \n  \n  \n    2.6 \n    0.9953 \n    0.9955 \n    0.9956 \n    0.9957 \n    0.9959 \n    0.9960 \n    0.9961 \n    0.9962 \n    0.9963 \n    0.9964 \n  \n  \n    2.7 \n    0.9965 \n    0.9966 \n    0.9967 \n    0.9968 \n    0.9969 \n    0.9970 \n    0.9971 \n    0.9972 \n    0.9973 \n    0.9974 \n  \n  \n    2.8 \n    0.9974 \n    0.9975 \n    0.9976 \n    0.9977 \n    0.9977 \n    0.9978 \n    0.9979 \n    0.9979 \n    0.9980 \n    0.9981 \n  \n  \n    2.9 \n    0.9981 \n    0.9982 \n    0.9982 \n    0.9983 \n    0.9984 \n    0.9984 \n    0.9985 \n    0.9985 \n    0.9986 \n    0.9986"
  },
  {
    "objectID": "formel_tabell_samlingar/tabellsamling.html#student-t-fördelning",
    "href": "formel_tabell_samlingar/tabellsamling.html#student-t-fördelning",
    "title": "Tabellsamling - Statistik och Dataanalys I",
    "section": "Student-\\(t\\) fördelning",
    "text": "Student-\\(t\\) fördelning\n\n\n      \n\n\n\n\n\n\n\nKonfidensnivå: \n 80%\n 90%\n 95%\n 98%\n 99%\n\n\nTvåsidig sannolikhet: \n0.200\n0.100\n0.050\n0.020\n0.010\n\n\nEnsidig sannolikhet: \n0.100\n0.050\n0.025\n0.010\n0.005\n\n\ndf \n\n\n\n\n\n\n\n\n  \n    1 \n    3.078 \n    6.314 \n    12.706 \n    31.821 \n    63.657 \n  \n  \n    2 \n    1.886 \n    2.920 \n    4.303 \n    6.965 \n    9.925 \n  \n  \n    3 \n    1.638 \n    2.353 \n    3.182 \n    4.541 \n    5.841 \n  \n  \n    4 \n    1.533 \n    2.132 \n    2.776 \n    3.747 \n    4.604 \n  \n  \n    5 \n    1.476 \n    2.015 \n    2.571 \n    3.365 \n    4.032 \n  \n  \n    6 \n    1.440 \n    1.943 \n    2.447 \n    3.143 \n    3.707 \n  \n  \n    7 \n    1.415 \n    1.895 \n    2.365 \n    2.998 \n    3.499 \n  \n  \n    8 \n    1.397 \n    1.860 \n    2.306 \n    2.896 \n    3.355 \n  \n  \n    9 \n    1.383 \n    1.833 \n    2.262 \n    2.821 \n    3.250 \n  \n  \n    10 \n    1.372 \n    1.812 \n    2.228 \n    2.764 \n    3.169 \n  \n  \n    11 \n    1.363 \n    1.796 \n    2.201 \n    2.718 \n    3.106 \n  \n  \n    12 \n    1.356 \n    1.782 \n    2.179 \n    2.681 \n    3.055 \n  \n  \n    13 \n    1.350 \n    1.771 \n    2.160 \n    2.650 \n    3.012 \n  \n  \n    14 \n    1.345 \n    1.761 \n    2.145 \n    2.624 \n    2.977 \n  \n  \n    15 \n    1.341 \n    1.753 \n    2.131 \n    2.602 \n    2.947 \n  \n  \n    16 \n    1.337 \n    1.746 \n    2.120 \n    2.583 \n    2.921 \n  \n  \n    17 \n    1.333 \n    1.740 \n    2.110 \n    2.567 \n    2.898 \n  \n  \n    18 \n    1.330 \n    1.734 \n    2.101 \n    2.552 \n    2.878 \n  \n  \n    19 \n    1.328 \n    1.729 \n    2.093 \n    2.539 \n    2.861 \n  \n  \n    20 \n    1.325 \n    1.725 \n    2.086 \n    2.528 \n    2.845 \n  \n  \n    21 \n    1.323 \n    1.721 \n    2.080 \n    2.518 \n    2.831 \n  \n  \n    22 \n    1.321 \n    1.717 \n    2.074 \n    2.508 \n    2.819 \n  \n  \n    23 \n    1.319 \n    1.714 \n    2.069 \n    2.500 \n    2.807 \n  \n  \n    24 \n    1.318 \n    1.711 \n    2.064 \n    2.492 \n    2.797 \n  \n  \n    25 \n    1.316 \n    1.708 \n    2.060 \n    2.485 \n    2.787 \n  \n  \n    26 \n    1.315 \n    1.706 \n    2.056 \n    2.479 \n    2.779 \n  \n  \n    27 \n    1.314 \n    1.703 \n    2.052 \n    2.473 \n    2.771 \n  \n  \n    28 \n    1.313 \n    1.701 \n    2.048 \n    2.467 \n    2.763 \n  \n  \n    29 \n    1.311 \n    1.699 \n    2.045 \n    2.462 \n    2.756 \n  \n  \n    30 \n    1.310 \n    1.697 \n    2.042 \n    2.457 \n    2.750 \n  \n  \n    32 \n    1.309 \n    1.694 \n    2.037 \n    2.449 \n    2.738 \n  \n  \n    35 \n    1.306 \n    1.690 \n    2.030 \n    2.438 \n    2.724 \n  \n  \n    40 \n    1.303 \n    1.684 \n    2.021 \n    2.423 \n    2.704 \n  \n  \n    45 \n    1.301 \n    1.679 \n    2.014 \n    2.412 \n    2.690 \n  \n  \n    50 \n    1.299 \n    1.676 \n    2.009 \n    2.403 \n    2.678 \n  \n  \n    60 \n    1.296 \n    1.671 \n    2.000 \n    2.390 \n    2.660 \n  \n  \n    75 \n    1.293 \n    1.665 \n    1.992 \n    2.377 \n    2.643 \n  \n  \n    100 \n    1.290 \n    1.660 \n    1.984 \n    2.364 \n    2.626 \n  \n  \n    120 \n    1.289 \n    1.658 \n    1.980 \n    2.358 \n    2.617 \n  \n  \n    140 \n    1.288 \n    1.656 \n    1.977 \n    2.353 \n    2.611 \n  \n  \n    180 \n    1.286 \n    1.653 \n    1.973 \n    2.347 \n    2.603 \n  \n  \n    250 \n    1.285 \n    1.651 \n    1.969 \n    2.341 \n    2.596 \n  \n  \n    400 \n    1.284 \n    1.649 \n    1.966 \n    2.336 \n    2.588 \n  \n  \n    1000 \n    1.282 \n    1.646 \n    1.962 \n    2.330 \n    2.581 \n  \n  \n    oändligt \n    1.282 \n    1.645 \n    1.960 \n    2.326 \n    2.576"
  },
  {
    "objectID": "formel_tabell_samlingar/tabellsamling.html#chi2-fördelning",
    "href": "formel_tabell_samlingar/tabellsamling.html#chi2-fördelning",
    "title": "Tabellsamling - Statistik och Dataanalys I",
    "section": "\\(\\chi^2\\)-fördelning",
    "text": "\\(\\chi^2\\)-fördelning\n\n\n  \n\n\n\n\n\n\n\nSannolikhet i höger svans: \n0.100\n0.050\n0.025\n0.010\n0.005\n\n\ndf \n\n\n\n\n\n\n\n\n  \n    1 \n    2.706 \n    3.841 \n    5.024 \n    6.635 \n    7.879 \n  \n  \n    2 \n    4.605 \n    5.991 \n    7.378 \n    9.210 \n    10.597 \n  \n  \n    3 \n    6.251 \n    7.815 \n    9.348 \n    11.345 \n    12.838 \n  \n  \n    4 \n    7.779 \n    9.488 \n    11.143 \n    13.277 \n    14.860 \n  \n  \n    5 \n    9.236 \n    11.070 \n    12.833 \n    15.086 \n    16.750 \n  \n  \n    6 \n    10.645 \n    12.592 \n    14.449 \n    16.812 \n    18.548 \n  \n  \n    7 \n    12.017 \n    14.067 \n    16.013 \n    18.475 \n    20.278 \n  \n  \n    8 \n    13.362 \n    15.507 \n    17.535 \n    20.090 \n    21.955 \n  \n  \n    9 \n    14.684 \n    16.919 \n    19.023 \n    21.666 \n    23.589 \n  \n  \n    10 \n    15.987 \n    18.307 \n    20.483 \n    23.209 \n    25.188 \n  \n  \n    11 \n    17.275 \n    19.675 \n    21.920 \n    24.725 \n    26.757 \n  \n  \n    12 \n    18.549 \n    21.026 \n    23.337 \n    26.217 \n    28.300 \n  \n  \n    13 \n    19.812 \n    22.362 \n    24.736 \n    27.688 \n    29.819 \n  \n  \n    14 \n    21.064 \n    23.685 \n    26.119 \n    29.141 \n    31.319 \n  \n  \n    15 \n    22.307 \n    24.996 \n    27.488 \n    30.578 \n    32.801 \n  \n  \n    16 \n    23.542 \n    26.296 \n    28.845 \n    32.000 \n    34.267 \n  \n  \n    17 \n    24.769 \n    27.587 \n    30.191 \n    33.409 \n    35.718 \n  \n  \n    18 \n    25.989 \n    28.869 \n    31.526 \n    34.805 \n    37.156 \n  \n  \n    19 \n    27.204 \n    30.144 \n    32.852 \n    36.191 \n    38.582 \n  \n  \n    20 \n    28.412 \n    31.410 \n    34.170 \n    37.566 \n    39.997 \n  \n  \n    21 \n    29.615 \n    32.671 \n    35.479 \n    38.932 \n    41.401 \n  \n  \n    22 \n    30.813 \n    33.924 \n    36.781 \n    40.289 \n    42.796 \n  \n  \n    23 \n    32.007 \n    35.172 \n    38.076 \n    41.638 \n    44.181 \n  \n  \n    24 \n    33.196 \n    36.415 \n    39.364 \n    42.980 \n    45.559 \n  \n  \n    25 \n    34.382 \n    37.652 \n    40.646 \n    44.314 \n    46.928 \n  \n  \n    26 \n    35.563 \n    38.885 \n    41.923 \n    45.642 \n    48.290 \n  \n  \n    27 \n    36.741 \n    40.113 \n    43.195 \n    46.963 \n    49.645 \n  \n  \n    28 \n    37.916 \n    41.337 \n    44.461 \n    48.278 \n    50.993 \n  \n  \n    29 \n    39.087 \n    42.557 \n    45.722 \n    49.588 \n    52.336 \n  \n  \n    30 \n    40.256 \n    43.773 \n    46.979 \n    50.892 \n    53.672 \n  \n  \n    40 \n    51.805 \n    55.758 \n    59.342 \n    63.691 \n    66.766 \n  \n  \n    50 \n    63.167 \n    67.505 \n    71.420 \n    76.154 \n    79.490 \n  \n  \n    60 \n    74.397 \n    79.082 \n    83.298 \n    88.379 \n    91.952 \n  \n  \n    70 \n    85.527 \n    90.531 \n    95.023 \n    100.425 \n    104.215 \n  \n  \n    80 \n    96.578 \n    101.879 \n    106.629 \n    112.329 \n    116.321 \n  \n  \n    90 \n    107.565 \n    113.145 \n    118.136 \n    124.116 \n    128.299 \n  \n  \n    100 \n    118.498 \n    124.342 \n    129.561 \n    135.807 \n    140.169"
  },
  {
    "objectID": "formel_tabell_samlingar/tabellsamling.html#f-fördelning",
    "href": "formel_tabell_samlingar/tabellsamling.html#f-fördelning",
    "title": "Tabellsamling - Statistik och Dataanalys I",
    "section": "\\(F\\)-fördelning",
    "text": "\\(F\\)-fördelning\n\n\\(\\alpha = 0.01\\)\\(\\alpha = 0.05\\)\\(\\alpha = 0.10\\)\n\n\n\n\n  \n\nKolumnerna är frihetsgraderna i täljaren.\nRaderna är frihetsgraderna i nämnaren.\n\n\n\n\n \n\n\nFrihetsgrader i täljaren\n\n  \n      \n     1 \n     2 \n     3 \n     4 \n     5 \n     6 \n     7 \n     8 \n     9 \n    10 \n    11 \n    12 \n    13 \n    14 \n    15 \n    16 \n    17 \n    18 \n    19 \n    20 \n    21 \n    22 \n  \n \n\n  \n    1 \n    4052.18 \n    4999.50 \n    5403.35 \n    5624.58 \n    5763.65 \n    5858.99 \n    5928.36 \n    5981.07 \n    6022.47 \n    6055.85 \n    6083.32 \n    6106.32 \n    6125.86 \n    6142.67 \n    6157.28 \n    6170.10 \n    6181.43 \n    6191.53 \n    6200.58 \n    6208.73 \n    6216.12 \n    6222.84 \n  \n  \n    2 \n    98.50 \n    99.00 \n    99.17 \n    99.25 \n    99.30 \n    99.33 \n    99.36 \n    99.37 \n    99.39 \n    99.40 \n    99.41 \n    99.42 \n    99.42 \n    99.43 \n    99.43 \n    99.44 \n    99.44 \n    99.44 \n    99.45 \n    99.45 \n    99.45 \n    99.45 \n  \n  \n    3 \n    34.12 \n    30.82 \n    29.46 \n    28.71 \n    28.24 \n    27.91 \n    27.67 \n    27.49 \n    27.35 \n    27.23 \n    27.13 \n    27.05 \n    26.98 \n    26.92 \n    26.87 \n    26.83 \n    26.79 \n    26.75 \n    26.72 \n    26.69 \n    26.66 \n    26.64 \n  \n  \n    4 \n    21.20 \n    18.00 \n    16.69 \n    15.98 \n    15.52 \n    15.21 \n    14.98 \n    14.80 \n    14.66 \n    14.55 \n    14.45 \n    14.37 \n    14.31 \n    14.25 \n    14.20 \n    14.15 \n    14.11 \n    14.08 \n    14.05 \n    14.02 \n    13.99 \n    13.97 \n  \n  \n    5 \n    16.26 \n    13.27 \n    12.06 \n    11.39 \n    10.97 \n    10.67 \n    10.46 \n    10.29 \n    10.16 \n    10.05 \n    9.96 \n    9.89 \n    9.82 \n    9.77 \n    9.72 \n    9.68 \n    9.64 \n    9.61 \n    9.58 \n    9.55 \n    9.53 \n    9.51 \n  \n  \n    6 \n    13.75 \n    10.92 \n    9.78 \n    9.15 \n    8.75 \n    8.47 \n    8.26 \n    8.10 \n    7.98 \n    7.87 \n    7.79 \n    7.72 \n    7.66 \n    7.60 \n    7.56 \n    7.52 \n    7.48 \n    7.45 \n    7.42 \n    7.40 \n    7.37 \n    7.35 \n  \n  \n    7 \n    12.25 \n    9.55 \n    8.45 \n    7.85 \n    7.46 \n    7.19 \n    6.99 \n    6.84 \n    6.72 \n    6.62 \n    6.54 \n    6.47 \n    6.41 \n    6.36 \n    6.31 \n    6.28 \n    6.24 \n    6.21 \n    6.18 \n    6.16 \n    6.13 \n    6.11 \n  \n  \n    8 \n    11.26 \n    8.65 \n    7.59 \n    7.01 \n    6.63 \n    6.37 \n    6.18 \n    6.03 \n    5.91 \n    5.81 \n    5.73 \n    5.67 \n    5.61 \n    5.56 \n    5.52 \n    5.48 \n    5.44 \n    5.41 \n    5.38 \n    5.36 \n    5.34 \n    5.32 \n  \n  \n    9 \n    10.56 \n    8.02 \n    6.99 \n    6.42 \n    6.06 \n    5.80 \n    5.61 \n    5.47 \n    5.35 \n    5.26 \n    5.18 \n    5.11 \n    5.05 \n    5.01 \n    4.96 \n    4.92 \n    4.89 \n    4.86 \n    4.83 \n    4.81 \n    4.79 \n    4.77 \n  \n  \n    10 \n    10.04 \n    7.56 \n    6.55 \n    5.99 \n    5.64 \n    5.39 \n    5.20 \n    5.06 \n    4.94 \n    4.85 \n    4.77 \n    4.71 \n    4.65 \n    4.60 \n    4.56 \n    4.52 \n    4.49 \n    4.46 \n    4.43 \n    4.41 \n    4.38 \n    4.36 \n  \n  \n    11 \n    9.65 \n    7.21 \n    6.22 \n    5.67 \n    5.32 \n    5.07 \n    4.89 \n    4.74 \n    4.63 \n    4.54 \n    4.46 \n    4.40 \n    4.34 \n    4.29 \n    4.25 \n    4.21 \n    4.18 \n    4.15 \n    4.12 \n    4.10 \n    4.08 \n    4.06 \n  \n  \n    12 \n    9.33 \n    6.93 \n    5.95 \n    5.41 \n    5.06 \n    4.82 \n    4.64 \n    4.50 \n    4.39 \n    4.30 \n    4.22 \n    4.16 \n    4.10 \n    4.05 \n    4.01 \n    3.97 \n    3.94 \n    3.91 \n    3.88 \n    3.86 \n    3.84 \n    3.82 \n  \n  \n    13 \n    9.07 \n    6.70 \n    5.74 \n    5.21 \n    4.86 \n    4.62 \n    4.44 \n    4.30 \n    4.19 \n    4.10 \n    4.02 \n    3.96 \n    3.91 \n    3.86 \n    3.82 \n    3.78 \n    3.75 \n    3.72 \n    3.69 \n    3.66 \n    3.64 \n    3.62 \n  \n  \n    14 \n    8.86 \n    6.51 \n    5.56 \n    5.04 \n    4.69 \n    4.46 \n    4.28 \n    4.14 \n    4.03 \n    3.94 \n    3.86 \n    3.80 \n    3.75 \n    3.70 \n    3.66 \n    3.62 \n    3.59 \n    3.56 \n    3.53 \n    3.51 \n    3.48 \n    3.46 \n  \n  \n    15 \n    8.68 \n    6.36 \n    5.42 \n    4.89 \n    4.56 \n    4.32 \n    4.14 \n    4.00 \n    3.89 \n    3.80 \n    3.73 \n    3.67 \n    3.61 \n    3.56 \n    3.52 \n    3.49 \n    3.45 \n    3.42 \n    3.40 \n    3.37 \n    3.35 \n    3.33 \n  \n  \n    16 \n    8.53 \n    6.23 \n    5.29 \n    4.77 \n    4.44 \n    4.20 \n    4.03 \n    3.89 \n    3.78 \n    3.69 \n    3.62 \n    3.55 \n    3.50 \n    3.45 \n    3.41 \n    3.37 \n    3.34 \n    3.31 \n    3.28 \n    3.26 \n    3.24 \n    3.22 \n  \n  \n    17 \n    8.40 \n    6.11 \n    5.18 \n    4.67 \n    4.34 \n    4.10 \n    3.93 \n    3.79 \n    3.68 \n    3.59 \n    3.52 \n    3.46 \n    3.40 \n    3.35 \n    3.31 \n    3.27 \n    3.24 \n    3.21 \n    3.19 \n    3.16 \n    3.14 \n    3.12 \n  \n  \n    18 \n    8.29 \n    6.01 \n    5.09 \n    4.58 \n    4.25 \n    4.01 \n    3.84 \n    3.71 \n    3.60 \n    3.51 \n    3.43 \n    3.37 \n    3.32 \n    3.27 \n    3.23 \n    3.19 \n    3.16 \n    3.13 \n    3.10 \n    3.08 \n    3.05 \n    3.03 \n  \n  \n    19 \n    8.18 \n    5.93 \n    5.01 \n    4.50 \n    4.17 \n    3.94 \n    3.77 \n    3.63 \n    3.52 \n    3.43 \n    3.36 \n    3.30 \n    3.24 \n    3.19 \n    3.15 \n    3.12 \n    3.08 \n    3.05 \n    3.03 \n    3.00 \n    2.98 \n    2.96 \n  \n  \n    20 \n    8.10 \n    5.85 \n    4.94 \n    4.43 \n    4.10 \n    3.87 \n    3.70 \n    3.56 \n    3.46 \n    3.37 \n    3.29 \n    3.23 \n    3.18 \n    3.13 \n    3.09 \n    3.05 \n    3.02 \n    2.99 \n    2.96 \n    2.94 \n    2.92 \n    2.90 \n  \n  \n    21 \n    8.02 \n    5.78 \n    4.87 \n    4.37 \n    4.04 \n    3.81 \n    3.64 \n    3.51 \n    3.40 \n    3.31 \n    3.24 \n    3.17 \n    3.12 \n    3.07 \n    3.03 \n    2.99 \n    2.96 \n    2.93 \n    2.90 \n    2.88 \n    2.86 \n    2.84 \n  \n  \n    22 \n    7.95 \n    5.72 \n    4.82 \n    4.31 \n    3.99 \n    3.76 \n    3.59 \n    3.45 \n    3.35 \n    3.26 \n    3.18 \n    3.12 \n    3.07 \n    3.02 \n    2.98 \n    2.94 \n    2.91 \n    2.88 \n    2.85 \n    2.83 \n    2.81 \n    2.78 \n  \n  \n    23 \n    7.88 \n    5.66 \n    4.76 \n    4.26 \n    3.94 \n    3.71 \n    3.54 \n    3.41 \n    3.30 \n    3.21 \n    3.14 \n    3.07 \n    3.02 \n    2.97 \n    2.93 \n    2.89 \n    2.86 \n    2.83 \n    2.80 \n    2.78 \n    2.76 \n    2.74 \n  \n  \n    24 \n    7.82 \n    5.61 \n    4.72 \n    4.22 \n    3.90 \n    3.67 \n    3.50 \n    3.36 \n    3.26 \n    3.17 \n    3.09 \n    3.03 \n    2.98 \n    2.93 \n    2.89 \n    2.85 \n    2.82 \n    2.79 \n    2.76 \n    2.74 \n    2.72 \n    2.70 \n  \n  \n    25 \n    7.77 \n    5.57 \n    4.68 \n    4.18 \n    3.85 \n    3.63 \n    3.46 \n    3.32 \n    3.22 \n    3.13 \n    3.06 \n    2.99 \n    2.94 \n    2.89 \n    2.85 \n    2.81 \n    2.78 \n    2.75 \n    2.72 \n    2.70 \n    2.68 \n    2.66 \n  \n  \n    26 \n    7.72 \n    5.53 \n    4.64 \n    4.14 \n    3.82 \n    3.59 \n    3.42 \n    3.29 \n    3.18 \n    3.09 \n    3.02 \n    2.96 \n    2.90 \n    2.86 \n    2.81 \n    2.78 \n    2.75 \n    2.72 \n    2.69 \n    2.66 \n    2.64 \n    2.62 \n  \n  \n    27 \n    7.68 \n    5.49 \n    4.60 \n    4.11 \n    3.78 \n    3.56 \n    3.39 \n    3.26 \n    3.15 \n    3.06 \n    2.99 \n    2.93 \n    2.87 \n    2.82 \n    2.78 \n    2.75 \n    2.71 \n    2.68 \n    2.66 \n    2.63 \n    2.61 \n    2.59 \n  \n  \n    28 \n    7.64 \n    5.45 \n    4.57 \n    4.07 \n    3.75 \n    3.53 \n    3.36 \n    3.23 \n    3.12 \n    3.03 \n    2.96 \n    2.90 \n    2.84 \n    2.79 \n    2.75 \n    2.72 \n    2.68 \n    2.65 \n    2.63 \n    2.60 \n    2.58 \n    2.56 \n  \n  \n    29 \n    7.60 \n    5.42 \n    4.54 \n    4.04 \n    3.73 \n    3.50 \n    3.33 \n    3.20 \n    3.09 \n    3.00 \n    2.93 \n    2.87 \n    2.81 \n    2.77 \n    2.73 \n    2.69 \n    2.66 \n    2.63 \n    2.60 \n    2.57 \n    2.55 \n    2.53 \n  \n  \n    30 \n    7.56 \n    5.39 \n    4.51 \n    4.02 \n    3.70 \n    3.47 \n    3.30 \n    3.17 \n    3.07 \n    2.98 \n    2.91 \n    2.84 \n    2.79 \n    2.74 \n    2.70 \n    2.66 \n    2.63 \n    2.60 \n    2.57 \n    2.55 \n    2.53 \n    2.51 \n  \n  \n    35 \n    7.42 \n    5.27 \n    4.40 \n    3.91 \n    3.59 \n    3.37 \n    3.20 \n    3.07 \n    2.96 \n    2.88 \n    2.80 \n    2.74 \n    2.69 \n    2.64 \n    2.60 \n    2.56 \n    2.53 \n    2.50 \n    2.47 \n    2.44 \n    2.42 \n    2.40 \n  \n  \n    40 \n    7.31 \n    5.18 \n    4.31 \n    3.83 \n    3.51 \n    3.29 \n    3.12 \n    2.99 \n    2.89 \n    2.80 \n    2.73 \n    2.66 \n    2.61 \n    2.56 \n    2.52 \n    2.48 \n    2.45 \n    2.42 \n    2.39 \n    2.37 \n    2.35 \n    2.33 \n  \n  \n    45 \n    7.23 \n    5.11 \n    4.25 \n    3.77 \n    3.45 \n    3.23 \n    3.07 \n    2.94 \n    2.83 \n    2.74 \n    2.67 \n    2.61 \n    2.55 \n    2.51 \n    2.46 \n    2.43 \n    2.39 \n    2.36 \n    2.34 \n    2.31 \n    2.29 \n    2.27 \n  \n  \n    50 \n    7.17 \n    5.06 \n    4.20 \n    3.72 \n    3.41 \n    3.19 \n    3.02 \n    2.89 \n    2.78 \n    2.70 \n    2.63 \n    2.56 \n    2.51 \n    2.46 \n    2.42 \n    2.38 \n    2.35 \n    2.32 \n    2.29 \n    2.27 \n    2.24 \n    2.22 \n  \n  \n    60 \n    7.08 \n    4.98 \n    4.13 \n    3.65 \n    3.34 \n    3.12 \n    2.95 \n    2.82 \n    2.72 \n    2.63 \n    2.56 \n    2.50 \n    2.44 \n    2.39 \n    2.35 \n    2.31 \n    2.28 \n    2.25 \n    2.22 \n    2.20 \n    2.17 \n    2.15 \n  \n  \n    75 \n    6.99 \n    4.90 \n    4.05 \n    3.58 \n    3.27 \n    3.05 \n    2.89 \n    2.76 \n    2.65 \n    2.57 \n    2.49 \n    2.43 \n    2.38 \n    2.33 \n    2.29 \n    2.25 \n    2.22 \n    2.18 \n    2.16 \n    2.13 \n    2.11 \n    2.09 \n  \n  \n    100 \n    6.90 \n    4.82 \n    3.98 \n    3.51 \n    3.21 \n    2.99 \n    2.82 \n    2.69 \n    2.59 \n    2.50 \n    2.43 \n    2.37 \n    2.31 \n    2.27 \n    2.22 \n    2.19 \n    2.15 \n    2.12 \n    2.09 \n    2.07 \n    2.04 \n    2.02 \n  \n  \n    120 \n    6.85 \n    4.79 \n    3.95 \n    3.48 \n    3.17 \n    2.96 \n    2.79 \n    2.66 \n    2.56 \n    2.47 \n    2.40 \n    2.34 \n    2.28 \n    2.23 \n    2.19 \n    2.15 \n    2.12 \n    2.09 \n    2.06 \n    2.03 \n    2.01 \n    1.99 \n  \n  \n    140 \n    6.82 \n    4.76 \n    3.92 \n    3.46 \n    3.15 \n    2.93 \n    2.77 \n    2.64 \n    2.54 \n    2.45 \n    2.38 \n    2.31 \n    2.26 \n    2.21 \n    2.17 \n    2.13 \n    2.10 \n    2.07 \n    2.04 \n    2.01 \n    1.99 \n    1.97 \n  \n  \n    180 \n    6.78 \n    4.73 \n    3.89 \n    3.43 \n    3.12 \n    2.90 \n    2.74 \n    2.61 \n    2.51 \n    2.42 \n    2.35 \n    2.28 \n    2.23 \n    2.18 \n    2.14 \n    2.10 \n    2.07 \n    2.04 \n    2.01 \n    1.98 \n    1.96 \n    1.94 \n  \n  \n    250 \n    6.74 \n    4.69 \n    3.86 \n    3.40 \n    3.09 \n    2.87 \n    2.71 \n    2.58 \n    2.48 \n    2.39 \n    2.32 \n    2.26 \n    2.20 \n    2.15 \n    2.11 \n    2.07 \n    2.04 \n    2.01 \n    1.98 \n    1.95 \n    1.93 \n    1.91 \n  \n  \n    400 \n    6.70 \n    4.66 \n    3.83 \n    3.37 \n    3.06 \n    2.85 \n    2.68 \n    2.56 \n    2.45 \n    2.37 \n    2.29 \n    2.23 \n    2.17 \n    2.13 \n    2.08 \n    2.05 \n    2.01 \n    1.98 \n    1.95 \n    1.92 \n    1.90 \n    1.88 \n  \n  \n    1000 \n    6.66 \n    4.63 \n    3.80 \n    3.34 \n    3.04 \n    2.82 \n    2.66 \n    2.53 \n    2.43 \n    2.34 \n    2.27 \n    2.20 \n    2.15 \n    2.10 \n    2.06 \n    2.02 \n    1.98 \n    1.95 \n    1.92 \n    1.90 \n    1.87 \n    1.85 \n  \n\n\n\n\n\n\n\n\n\n\n\n  \n\nKolumnerna är frihetsgraderna i täljaren.\nRaderna är frihetsgraderna i nämnaren.\n\n\n\n\n \n\n\nFrihetsgrader i täljaren\n\n  \n      \n     1 \n     2 \n     3 \n     4 \n     5 \n     6 \n     7 \n     8 \n     9 \n    10 \n    11 \n    12 \n    13 \n    14 \n    15 \n    16 \n    17 \n    18 \n    19 \n    20 \n    21 \n    22 \n  \n \n\n  \n    1 \n    161.45 \n    199.50 \n    215.71 \n    224.58 \n    230.16 \n    233.99 \n    236.77 \n    238.88 \n    240.54 \n    241.88 \n    242.98 \n    243.91 \n    244.69 \n    245.36 \n    245.95 \n    246.46 \n    246.92 \n    247.32 \n    247.69 \n    248.01 \n    248.31 \n    248.58 \n  \n  \n    2 \n    18.51 \n    19.00 \n    19.16 \n    19.25 \n    19.30 \n    19.33 \n    19.35 \n    19.37 \n    19.38 \n    19.40 \n    19.40 \n    19.41 \n    19.42 \n    19.42 \n    19.43 \n    19.43 \n    19.44 \n    19.44 \n    19.44 \n    19.45 \n    19.45 \n    19.45 \n  \n  \n    3 \n    10.13 \n    9.55 \n    9.28 \n    9.12 \n    9.01 \n    8.94 \n    8.89 \n    8.85 \n    8.81 \n    8.79 \n    8.76 \n    8.74 \n    8.73 \n    8.71 \n    8.70 \n    8.69 \n    8.68 \n    8.67 \n    8.67 \n    8.66 \n    8.65 \n    8.65 \n  \n  \n    4 \n    7.71 \n    6.94 \n    6.59 \n    6.39 \n    6.26 \n    6.16 \n    6.09 \n    6.04 \n    6.00 \n    5.96 \n    5.94 \n    5.91 \n    5.89 \n    5.87 \n    5.86 \n    5.84 \n    5.83 \n    5.82 \n    5.81 \n    5.80 \n    5.79 \n    5.79 \n  \n  \n    5 \n    6.61 \n    5.79 \n    5.41 \n    5.19 \n    5.05 \n    4.95 \n    4.88 \n    4.82 \n    4.77 \n    4.74 \n    4.70 \n    4.68 \n    4.66 \n    4.64 \n    4.62 \n    4.60 \n    4.59 \n    4.58 \n    4.57 \n    4.56 \n    4.55 \n    4.54 \n  \n  \n    6 \n    5.99 \n    5.14 \n    4.76 \n    4.53 \n    4.39 \n    4.28 \n    4.21 \n    4.15 \n    4.10 \n    4.06 \n    4.03 \n    4.00 \n    3.98 \n    3.96 \n    3.94 \n    3.92 \n    3.91 \n    3.90 \n    3.88 \n    3.87 \n    3.86 \n    3.86 \n  \n  \n    7 \n    5.59 \n    4.74 \n    4.35 \n    4.12 \n    3.97 \n    3.87 \n    3.79 \n    3.73 \n    3.68 \n    3.64 \n    3.60 \n    3.57 \n    3.55 \n    3.53 \n    3.51 \n    3.49 \n    3.48 \n    3.47 \n    3.46 \n    3.44 \n    3.43 \n    3.43 \n  \n  \n    8 \n    5.32 \n    4.46 \n    4.07 \n    3.84 \n    3.69 \n    3.58 \n    3.50 \n    3.44 \n    3.39 \n    3.35 \n    3.31 \n    3.28 \n    3.26 \n    3.24 \n    3.22 \n    3.20 \n    3.19 \n    3.17 \n    3.16 \n    3.15 \n    3.14 \n    3.13 \n  \n  \n    9 \n    5.12 \n    4.26 \n    3.86 \n    3.63 \n    3.48 \n    3.37 \n    3.29 \n    3.23 \n    3.18 \n    3.14 \n    3.10 \n    3.07 \n    3.05 \n    3.03 \n    3.01 \n    2.99 \n    2.97 \n    2.96 \n    2.95 \n    2.94 \n    2.93 \n    2.92 \n  \n  \n    10 \n    4.96 \n    4.10 \n    3.71 \n    3.48 \n    3.33 \n    3.22 \n    3.14 \n    3.07 \n    3.02 \n    2.98 \n    2.94 \n    2.91 \n    2.89 \n    2.86 \n    2.85 \n    2.83 \n    2.81 \n    2.80 \n    2.79 \n    2.77 \n    2.76 \n    2.75 \n  \n  \n    11 \n    4.84 \n    3.98 \n    3.59 \n    3.36 \n    3.20 \n    3.09 \n    3.01 \n    2.95 \n    2.90 \n    2.85 \n    2.82 \n    2.79 \n    2.76 \n    2.74 \n    2.72 \n    2.70 \n    2.69 \n    2.67 \n    2.66 \n    2.65 \n    2.64 \n    2.63 \n  \n  \n    12 \n    4.75 \n    3.89 \n    3.49 \n    3.26 \n    3.11 \n    3.00 \n    2.91 \n    2.85 \n    2.80 \n    2.75 \n    2.72 \n    2.69 \n    2.66 \n    2.64 \n    2.62 \n    2.60 \n    2.58 \n    2.57 \n    2.56 \n    2.54 \n    2.53 \n    2.52 \n  \n  \n    13 \n    4.67 \n    3.81 \n    3.41 \n    3.18 \n    3.03 \n    2.92 \n    2.83 \n    2.77 \n    2.71 \n    2.67 \n    2.63 \n    2.60 \n    2.58 \n    2.55 \n    2.53 \n    2.51 \n    2.50 \n    2.48 \n    2.47 \n    2.46 \n    2.45 \n    2.44 \n  \n  \n    14 \n    4.60 \n    3.74 \n    3.34 \n    3.11 \n    2.96 \n    2.85 \n    2.76 \n    2.70 \n    2.65 \n    2.60 \n    2.57 \n    2.53 \n    2.51 \n    2.48 \n    2.46 \n    2.44 \n    2.43 \n    2.41 \n    2.40 \n    2.39 \n    2.38 \n    2.37 \n  \n  \n    15 \n    4.54 \n    3.68 \n    3.29 \n    3.06 \n    2.90 \n    2.79 \n    2.71 \n    2.64 \n    2.59 \n    2.54 \n    2.51 \n    2.48 \n    2.45 \n    2.42 \n    2.40 \n    2.38 \n    2.37 \n    2.35 \n    2.34 \n    2.33 \n    2.32 \n    2.31 \n  \n  \n    16 \n    4.49 \n    3.63 \n    3.24 \n    3.01 \n    2.85 \n    2.74 \n    2.66 \n    2.59 \n    2.54 \n    2.49 \n    2.46 \n    2.42 \n    2.40 \n    2.37 \n    2.35 \n    2.33 \n    2.32 \n    2.30 \n    2.29 \n    2.28 \n    2.26 \n    2.25 \n  \n  \n    17 \n    4.45 \n    3.59 \n    3.20 \n    2.96 \n    2.81 \n    2.70 \n    2.61 \n    2.55 \n    2.49 \n    2.45 \n    2.41 \n    2.38 \n    2.35 \n    2.33 \n    2.31 \n    2.29 \n    2.27 \n    2.26 \n    2.24 \n    2.23 \n    2.22 \n    2.21 \n  \n  \n    18 \n    4.41 \n    3.55 \n    3.16 \n    2.93 \n    2.77 \n    2.66 \n    2.58 \n    2.51 \n    2.46 \n    2.41 \n    2.37 \n    2.34 \n    2.31 \n    2.29 \n    2.27 \n    2.25 \n    2.23 \n    2.22 \n    2.20 \n    2.19 \n    2.18 \n    2.17 \n  \n  \n    19 \n    4.38 \n    3.52 \n    3.13 \n    2.90 \n    2.74 \n    2.63 \n    2.54 \n    2.48 \n    2.42 \n    2.38 \n    2.34 \n    2.31 \n    2.28 \n    2.26 \n    2.23 \n    2.21 \n    2.20 \n    2.18 \n    2.17 \n    2.16 \n    2.14 \n    2.13 \n  \n  \n    20 \n    4.35 \n    3.49 \n    3.10 \n    2.87 \n    2.71 \n    2.60 \n    2.51 \n    2.45 \n    2.39 \n    2.35 \n    2.31 \n    2.28 \n    2.25 \n    2.22 \n    2.20 \n    2.18 \n    2.17 \n    2.15 \n    2.14 \n    2.12 \n    2.11 \n    2.10 \n  \n  \n    21 \n    4.32 \n    3.47 \n    3.07 \n    2.84 \n    2.68 \n    2.57 \n    2.49 \n    2.42 \n    2.37 \n    2.32 \n    2.28 \n    2.25 \n    2.22 \n    2.20 \n    2.18 \n    2.16 \n    2.14 \n    2.12 \n    2.11 \n    2.10 \n    2.08 \n    2.07 \n  \n  \n    22 \n    4.30 \n    3.44 \n    3.05 \n    2.82 \n    2.66 \n    2.55 \n    2.46 \n    2.40 \n    2.34 \n    2.30 \n    2.26 \n    2.23 \n    2.20 \n    2.17 \n    2.15 \n    2.13 \n    2.11 \n    2.10 \n    2.08 \n    2.07 \n    2.06 \n    2.05 \n  \n  \n    23 \n    4.28 \n    3.42 \n    3.03 \n    2.80 \n    2.64 \n    2.53 \n    2.44 \n    2.37 \n    2.32 \n    2.27 \n    2.24 \n    2.20 \n    2.18 \n    2.15 \n    2.13 \n    2.11 \n    2.09 \n    2.08 \n    2.06 \n    2.05 \n    2.04 \n    2.02 \n  \n  \n    24 \n    4.26 \n    3.40 \n    3.01 \n    2.78 \n    2.62 \n    2.51 \n    2.42 \n    2.36 \n    2.30 \n    2.25 \n    2.22 \n    2.18 \n    2.15 \n    2.13 \n    2.11 \n    2.09 \n    2.07 \n    2.05 \n    2.04 \n    2.03 \n    2.01 \n    2.00 \n  \n  \n    25 \n    4.24 \n    3.39 \n    2.99 \n    2.76 \n    2.60 \n    2.49 \n    2.40 \n    2.34 \n    2.28 \n    2.24 \n    2.20 \n    2.16 \n    2.14 \n    2.11 \n    2.09 \n    2.07 \n    2.05 \n    2.04 \n    2.02 \n    2.01 \n    2.00 \n    1.98 \n  \n  \n    26 \n    4.23 \n    3.37 \n    2.98 \n    2.74 \n    2.59 \n    2.47 \n    2.39 \n    2.32 \n    2.27 \n    2.22 \n    2.18 \n    2.15 \n    2.12 \n    2.09 \n    2.07 \n    2.05 \n    2.03 \n    2.02 \n    2.00 \n    1.99 \n    1.98 \n    1.97 \n  \n  \n    27 \n    4.21 \n    3.35 \n    2.96 \n    2.73 \n    2.57 \n    2.46 \n    2.37 \n    2.31 \n    2.25 \n    2.20 \n    2.17 \n    2.13 \n    2.10 \n    2.08 \n    2.06 \n    2.04 \n    2.02 \n    2.00 \n    1.99 \n    1.97 \n    1.96 \n    1.95 \n  \n  \n    28 \n    4.20 \n    3.34 \n    2.95 \n    2.71 \n    2.56 \n    2.45 \n    2.36 \n    2.29 \n    2.24 \n    2.19 \n    2.15 \n    2.12 \n    2.09 \n    2.06 \n    2.04 \n    2.02 \n    2.00 \n    1.99 \n    1.97 \n    1.96 \n    1.95 \n    1.93 \n  \n  \n    29 \n    4.18 \n    3.33 \n    2.93 \n    2.70 \n    2.55 \n    2.43 \n    2.35 \n    2.28 \n    2.22 \n    2.18 \n    2.14 \n    2.10 \n    2.08 \n    2.05 \n    2.03 \n    2.01 \n    1.99 \n    1.97 \n    1.96 \n    1.94 \n    1.93 \n    1.92 \n  \n  \n    30 \n    4.17 \n    3.32 \n    2.92 \n    2.69 \n    2.53 \n    2.42 \n    2.33 \n    2.27 \n    2.21 \n    2.16 \n    2.13 \n    2.09 \n    2.06 \n    2.04 \n    2.01 \n    1.99 \n    1.98 \n    1.96 \n    1.95 \n    1.93 \n    1.92 \n    1.91 \n  \n  \n    35 \n    4.12 \n    3.27 \n    2.87 \n    2.64 \n    2.49 \n    2.37 \n    2.29 \n    2.22 \n    2.16 \n    2.11 \n    2.07 \n    2.04 \n    2.01 \n    1.99 \n    1.96 \n    1.94 \n    1.92 \n    1.91 \n    1.89 \n    1.88 \n    1.87 \n    1.85 \n  \n  \n    40 \n    4.08 \n    3.23 \n    2.84 \n    2.61 \n    2.45 \n    2.34 \n    2.25 \n    2.18 \n    2.12 \n    2.08 \n    2.04 \n    2.00 \n    1.97 \n    1.95 \n    1.92 \n    1.90 \n    1.89 \n    1.87 \n    1.85 \n    1.84 \n    1.83 \n    1.81 \n  \n  \n    45 \n    4.06 \n    3.20 \n    2.81 \n    2.58 \n    2.42 \n    2.31 \n    2.22 \n    2.15 \n    2.10 \n    2.05 \n    2.01 \n    1.97 \n    1.94 \n    1.92 \n    1.89 \n    1.87 \n    1.86 \n    1.84 \n    1.82 \n    1.81 \n    1.80 \n    1.78 \n  \n  \n    50 \n    4.03 \n    3.18 \n    2.79 \n    2.56 \n    2.40 \n    2.29 \n    2.20 \n    2.13 \n    2.07 \n    2.03 \n    1.99 \n    1.95 \n    1.92 \n    1.89 \n    1.87 \n    1.85 \n    1.83 \n    1.81 \n    1.80 \n    1.78 \n    1.77 \n    1.76 \n  \n  \n    60 \n    4.00 \n    3.15 \n    2.76 \n    2.53 \n    2.37 \n    2.25 \n    2.17 \n    2.10 \n    2.04 \n    1.99 \n    1.95 \n    1.92 \n    1.89 \n    1.86 \n    1.84 \n    1.82 \n    1.80 \n    1.78 \n    1.76 \n    1.75 \n    1.73 \n    1.72 \n  \n  \n    75 \n    3.97 \n    3.12 \n    2.73 \n    2.49 \n    2.34 \n    2.22 \n    2.13 \n    2.06 \n    2.01 \n    1.96 \n    1.92 \n    1.88 \n    1.85 \n    1.83 \n    1.80 \n    1.78 \n    1.76 \n    1.74 \n    1.73 \n    1.71 \n    1.70 \n    1.69 \n  \n  \n    100 \n    3.94 \n    3.09 \n    2.70 \n    2.46 \n    2.31 \n    2.19 \n    2.10 \n    2.03 \n    1.97 \n    1.93 \n    1.89 \n    1.85 \n    1.82 \n    1.79 \n    1.77 \n    1.75 \n    1.73 \n    1.71 \n    1.69 \n    1.68 \n    1.66 \n    1.65 \n  \n  \n    120 \n    3.92 \n    3.07 \n    2.68 \n    2.45 \n    2.29 \n    2.18 \n    2.09 \n    2.02 \n    1.96 \n    1.91 \n    1.87 \n    1.83 \n    1.80 \n    1.78 \n    1.75 \n    1.73 \n    1.71 \n    1.69 \n    1.67 \n    1.66 \n    1.64 \n    1.63 \n  \n  \n    140 \n    3.91 \n    3.06 \n    2.67 \n    2.44 \n    2.28 \n    2.16 \n    2.08 \n    2.01 \n    1.95 \n    1.90 \n    1.86 \n    1.82 \n    1.79 \n    1.76 \n    1.74 \n    1.72 \n    1.70 \n    1.68 \n    1.66 \n    1.65 \n    1.63 \n    1.62 \n  \n  \n    180 \n    3.89 \n    3.05 \n    2.65 \n    2.42 \n    2.26 \n    2.15 \n    2.06 \n    1.99 \n    1.93 \n    1.88 \n    1.84 \n    1.81 \n    1.77 \n    1.75 \n    1.72 \n    1.70 \n    1.68 \n    1.66 \n    1.64 \n    1.63 \n    1.61 \n    1.60 \n  \n  \n    250 \n    3.88 \n    3.03 \n    2.64 \n    2.41 \n    2.25 \n    2.13 \n    2.05 \n    1.98 \n    1.92 \n    1.87 \n    1.83 \n    1.79 \n    1.76 \n    1.73 \n    1.71 \n    1.68 \n    1.66 \n    1.65 \n    1.63 \n    1.61 \n    1.60 \n    1.58 \n  \n  \n    400 \n    3.86 \n    3.02 \n    2.63 \n    2.39 \n    2.24 \n    2.12 \n    2.03 \n    1.96 \n    1.90 \n    1.85 \n    1.81 \n    1.78 \n    1.74 \n    1.72 \n    1.69 \n    1.67 \n    1.65 \n    1.63 \n    1.61 \n    1.60 \n    1.58 \n    1.57 \n  \n  \n    1000 \n    3.85 \n    3.00 \n    2.61 \n    2.38 \n    2.22 \n    2.11 \n    2.02 \n    1.95 \n    1.89 \n    1.84 \n    1.80 \n    1.76 \n    1.73 \n    1.70 \n    1.68 \n    1.65 \n    1.63 \n    1.61 \n    1.60 \n    1.58 \n    1.57 \n    1.55 \n  \n\n\n\n\n\n\n\n\n\n\n\n  \n\nKolumnerna är frihetsgraderna i täljaren.\nRaderna är frihetsgraderna i nämnaren.\n\n\n\n\n \n\n\nFrihetsgrader i täljaren\n\n  \n      \n     1 \n     2 \n     3 \n     4 \n     5 \n     6 \n     7 \n     8 \n     9 \n    10 \n    11 \n    12 \n    13 \n    14 \n    15 \n    16 \n    17 \n    18 \n    19 \n    20 \n    21 \n    22 \n  \n \n\n  \n    1 \n    39.86 \n    49.50 \n    53.59 \n    55.83 \n    57.24 \n    58.20 \n    58.91 \n    59.44 \n    59.86 \n    60.19 \n    60.47 \n    60.71 \n    60.90 \n    61.07 \n    61.22 \n    61.35 \n    61.46 \n    61.57 \n    61.66 \n    61.74 \n    61.81 \n    61.88 \n  \n  \n    2 \n    8.53 \n    9.00 \n    9.16 \n    9.24 \n    9.29 \n    9.33 \n    9.35 \n    9.37 \n    9.38 \n    9.39 \n    9.40 \n    9.41 \n    9.41 \n    9.42 \n    9.42 \n    9.43 \n    9.43 \n    9.44 \n    9.44 \n    9.44 \n    9.44 \n    9.45 \n  \n  \n    3 \n    5.54 \n    5.46 \n    5.39 \n    5.34 \n    5.31 \n    5.28 \n    5.27 \n    5.25 \n    5.24 \n    5.23 \n    5.22 \n    5.22 \n    5.21 \n    5.20 \n    5.20 \n    5.20 \n    5.19 \n    5.19 \n    5.19 \n    5.18 \n    5.18 \n    5.18 \n  \n  \n    4 \n    4.54 \n    4.32 \n    4.19 \n    4.11 \n    4.05 \n    4.01 \n    3.98 \n    3.95 \n    3.94 \n    3.92 \n    3.91 \n    3.90 \n    3.89 \n    3.88 \n    3.87 \n    3.86 \n    3.86 \n    3.85 \n    3.85 \n    3.84 \n    3.84 \n    3.84 \n  \n  \n    5 \n    4.06 \n    3.78 \n    3.62 \n    3.52 \n    3.45 \n    3.40 \n    3.37 \n    3.34 \n    3.32 \n    3.30 \n    3.28 \n    3.27 \n    3.26 \n    3.25 \n    3.24 \n    3.23 \n    3.22 \n    3.22 \n    3.21 \n    3.21 \n    3.20 \n    3.20 \n  \n  \n    6 \n    3.78 \n    3.46 \n    3.29 \n    3.18 \n    3.11 \n    3.05 \n    3.01 \n    2.98 \n    2.96 \n    2.94 \n    2.92 \n    2.90 \n    2.89 \n    2.88 \n    2.87 \n    2.86 \n    2.85 \n    2.85 \n    2.84 \n    2.84 \n    2.83 \n    2.83 \n  \n  \n    7 \n    3.59 \n    3.26 \n    3.07 \n    2.96 \n    2.88 \n    2.83 \n    2.78 \n    2.75 \n    2.72 \n    2.70 \n    2.68 \n    2.67 \n    2.65 \n    2.64 \n    2.63 \n    2.62 \n    2.61 \n    2.61 \n    2.60 \n    2.59 \n    2.59 \n    2.58 \n  \n  \n    8 \n    3.46 \n    3.11 \n    2.92 \n    2.81 \n    2.73 \n    2.67 \n    2.62 \n    2.59 \n    2.56 \n    2.54 \n    2.52 \n    2.50 \n    2.49 \n    2.48 \n    2.46 \n    2.45 \n    2.45 \n    2.44 \n    2.43 \n    2.42 \n    2.42 \n    2.41 \n  \n  \n    9 \n    3.36 \n    3.01 \n    2.81 \n    2.69 \n    2.61 \n    2.55 \n    2.51 \n    2.47 \n    2.44 \n    2.42 \n    2.40 \n    2.38 \n    2.36 \n    2.35 \n    2.34 \n    2.33 \n    2.32 \n    2.31 \n    2.30 \n    2.30 \n    2.29 \n    2.29 \n  \n  \n    10 \n    3.29 \n    2.92 \n    2.73 \n    2.61 \n    2.52 \n    2.46 \n    2.41 \n    2.38 \n    2.35 \n    2.32 \n    2.30 \n    2.28 \n    2.27 \n    2.26 \n    2.24 \n    2.23 \n    2.22 \n    2.22 \n    2.21 \n    2.20 \n    2.19 \n    2.19 \n  \n  \n    11 \n    3.23 \n    2.86 \n    2.66 \n    2.54 \n    2.45 \n    2.39 \n    2.34 \n    2.30 \n    2.27 \n    2.25 \n    2.23 \n    2.21 \n    2.19 \n    2.18 \n    2.17 \n    2.16 \n    2.15 \n    2.14 \n    2.13 \n    2.12 \n    2.12 \n    2.11 \n  \n  \n    12 \n    3.18 \n    2.81 \n    2.61 \n    2.48 \n    2.39 \n    2.33 \n    2.28 \n    2.24 \n    2.21 \n    2.19 \n    2.17 \n    2.15 \n    2.13 \n    2.12 \n    2.10 \n    2.09 \n    2.08 \n    2.08 \n    2.07 \n    2.06 \n    2.05 \n    2.05 \n  \n  \n    13 \n    3.14 \n    2.76 \n    2.56 \n    2.43 \n    2.35 \n    2.28 \n    2.23 \n    2.20 \n    2.16 \n    2.14 \n    2.12 \n    2.10 \n    2.08 \n    2.07 \n    2.05 \n    2.04 \n    2.03 \n    2.02 \n    2.01 \n    2.01 \n    2.00 \n    1.99 \n  \n  \n    14 \n    3.10 \n    2.73 \n    2.52 \n    2.39 \n    2.31 \n    2.24 \n    2.19 \n    2.15 \n    2.12 \n    2.10 \n    2.07 \n    2.05 \n    2.04 \n    2.02 \n    2.01 \n    2.00 \n    1.99 \n    1.98 \n    1.97 \n    1.96 \n    1.96 \n    1.95 \n  \n  \n    15 \n    3.07 \n    2.70 \n    2.49 \n    2.36 \n    2.27 \n    2.21 \n    2.16 \n    2.12 \n    2.09 \n    2.06 \n    2.04 \n    2.02 \n    2.00 \n    1.99 \n    1.97 \n    1.96 \n    1.95 \n    1.94 \n    1.93 \n    1.92 \n    1.92 \n    1.91 \n  \n  \n    16 \n    3.05 \n    2.67 \n    2.46 \n    2.33 \n    2.24 \n    2.18 \n    2.13 \n    2.09 \n    2.06 \n    2.03 \n    2.01 \n    1.99 \n    1.97 \n    1.95 \n    1.94 \n    1.93 \n    1.92 \n    1.91 \n    1.90 \n    1.89 \n    1.88 \n    1.88 \n  \n  \n    17 \n    3.03 \n    2.64 \n    2.44 \n    2.31 \n    2.22 \n    2.15 \n    2.10 \n    2.06 \n    2.03 \n    2.00 \n    1.98 \n    1.96 \n    1.94 \n    1.93 \n    1.91 \n    1.90 \n    1.89 \n    1.88 \n    1.87 \n    1.86 \n    1.86 \n    1.85 \n  \n  \n    18 \n    3.01 \n    2.62 \n    2.42 \n    2.29 \n    2.20 \n    2.13 \n    2.08 \n    2.04 \n    2.00 \n    1.98 \n    1.95 \n    1.93 \n    1.92 \n    1.90 \n    1.89 \n    1.87 \n    1.86 \n    1.85 \n    1.84 \n    1.84 \n    1.83 \n    1.82 \n  \n  \n    19 \n    2.99 \n    2.61 \n    2.40 \n    2.27 \n    2.18 \n    2.11 \n    2.06 \n    2.02 \n    1.98 \n    1.96 \n    1.93 \n    1.91 \n    1.89 \n    1.88 \n    1.86 \n    1.85 \n    1.84 \n    1.83 \n    1.82 \n    1.81 \n    1.81 \n    1.80 \n  \n  \n    20 \n    2.97 \n    2.59 \n    2.38 \n    2.25 \n    2.16 \n    2.09 \n    2.04 \n    2.00 \n    1.96 \n    1.94 \n    1.91 \n    1.89 \n    1.87 \n    1.86 \n    1.84 \n    1.83 \n    1.82 \n    1.81 \n    1.80 \n    1.79 \n    1.79 \n    1.78 \n  \n  \n    21 \n    2.96 \n    2.57 \n    2.36 \n    2.23 \n    2.14 \n    2.08 \n    2.02 \n    1.98 \n    1.95 \n    1.92 \n    1.90 \n    1.87 \n    1.86 \n    1.84 \n    1.83 \n    1.81 \n    1.80 \n    1.79 \n    1.78 \n    1.78 \n    1.77 \n    1.76 \n  \n  \n    22 \n    2.95 \n    2.56 \n    2.35 \n    2.22 \n    2.13 \n    2.06 \n    2.01 \n    1.97 \n    1.93 \n    1.90 \n    1.88 \n    1.86 \n    1.84 \n    1.83 \n    1.81 \n    1.80 \n    1.79 \n    1.78 \n    1.77 \n    1.76 \n    1.75 \n    1.74 \n  \n  \n    23 \n    2.94 \n    2.55 \n    2.34 \n    2.21 \n    2.11 \n    2.05 \n    1.99 \n    1.95 \n    1.92 \n    1.89 \n    1.87 \n    1.84 \n    1.83 \n    1.81 \n    1.80 \n    1.78 \n    1.77 \n    1.76 \n    1.75 \n    1.74 \n    1.74 \n    1.73 \n  \n  \n    24 \n    2.93 \n    2.54 \n    2.33 \n    2.19 \n    2.10 \n    2.04 \n    1.98 \n    1.94 \n    1.91 \n    1.88 \n    1.85 \n    1.83 \n    1.81 \n    1.80 \n    1.78 \n    1.77 \n    1.76 \n    1.75 \n    1.74 \n    1.73 \n    1.72 \n    1.71 \n  \n  \n    25 \n    2.92 \n    2.53 \n    2.32 \n    2.18 \n    2.09 \n    2.02 \n    1.97 \n    1.93 \n    1.89 \n    1.87 \n    1.84 \n    1.82 \n    1.80 \n    1.79 \n    1.77 \n    1.76 \n    1.75 \n    1.74 \n    1.73 \n    1.72 \n    1.71 \n    1.70 \n  \n  \n    26 \n    2.91 \n    2.52 \n    2.31 \n    2.17 \n    2.08 \n    2.01 \n    1.96 \n    1.92 \n    1.88 \n    1.86 \n    1.83 \n    1.81 \n    1.79 \n    1.77 \n    1.76 \n    1.75 \n    1.73 \n    1.72 \n    1.71 \n    1.71 \n    1.70 \n    1.69 \n  \n  \n    27 \n    2.90 \n    2.51 \n    2.30 \n    2.17 \n    2.07 \n    2.00 \n    1.95 \n    1.91 \n    1.87 \n    1.85 \n    1.82 \n    1.80 \n    1.78 \n    1.76 \n    1.75 \n    1.74 \n    1.72 \n    1.71 \n    1.70 \n    1.70 \n    1.69 \n    1.68 \n  \n  \n    28 \n    2.89 \n    2.50 \n    2.29 \n    2.16 \n    2.06 \n    2.00 \n    1.94 \n    1.90 \n    1.87 \n    1.84 \n    1.81 \n    1.79 \n    1.77 \n    1.75 \n    1.74 \n    1.73 \n    1.71 \n    1.70 \n    1.69 \n    1.69 \n    1.68 \n    1.67 \n  \n  \n    29 \n    2.89 \n    2.50 \n    2.28 \n    2.15 \n    2.06 \n    1.99 \n    1.93 \n    1.89 \n    1.86 \n    1.83 \n    1.80 \n    1.78 \n    1.76 \n    1.75 \n    1.73 \n    1.72 \n    1.71 \n    1.69 \n    1.68 \n    1.68 \n    1.67 \n    1.66 \n  \n  \n    30 \n    2.88 \n    2.49 \n    2.28 \n    2.14 \n    2.05 \n    1.98 \n    1.93 \n    1.88 \n    1.85 \n    1.82 \n    1.79 \n    1.77 \n    1.75 \n    1.74 \n    1.72 \n    1.71 \n    1.70 \n    1.69 \n    1.68 \n    1.67 \n    1.66 \n    1.65 \n  \n  \n    35 \n    2.85 \n    2.46 \n    2.25 \n    2.11 \n    2.02 \n    1.95 \n    1.90 \n    1.85 \n    1.82 \n    1.79 \n    1.76 \n    1.74 \n    1.72 \n    1.70 \n    1.69 \n    1.67 \n    1.66 \n    1.65 \n    1.64 \n    1.63 \n    1.62 \n    1.62 \n  \n  \n    40 \n    2.84 \n    2.44 \n    2.23 \n    2.09 \n    2.00 \n    1.93 \n    1.87 \n    1.83 \n    1.79 \n    1.76 \n    1.74 \n    1.71 \n    1.70 \n    1.68 \n    1.66 \n    1.65 \n    1.64 \n    1.62 \n    1.61 \n    1.61 \n    1.60 \n    1.59 \n  \n  \n    45 \n    2.82 \n    2.42 \n    2.21 \n    2.07 \n    1.98 \n    1.91 \n    1.85 \n    1.81 \n    1.77 \n    1.74 \n    1.72 \n    1.70 \n    1.68 \n    1.66 \n    1.64 \n    1.63 \n    1.62 \n    1.60 \n    1.59 \n    1.58 \n    1.58 \n    1.57 \n  \n  \n    50 \n    2.81 \n    2.41 \n    2.20 \n    2.06 \n    1.97 \n    1.90 \n    1.84 \n    1.80 \n    1.76 \n    1.73 \n    1.70 \n    1.68 \n    1.66 \n    1.64 \n    1.63 \n    1.61 \n    1.60 \n    1.59 \n    1.58 \n    1.57 \n    1.56 \n    1.55 \n  \n  \n    60 \n    2.79 \n    2.39 \n    2.18 \n    2.04 \n    1.95 \n    1.87 \n    1.82 \n    1.77 \n    1.74 \n    1.71 \n    1.68 \n    1.66 \n    1.64 \n    1.62 \n    1.60 \n    1.59 \n    1.58 \n    1.56 \n    1.55 \n    1.54 \n    1.53 \n    1.53 \n  \n  \n    75 \n    2.77 \n    2.37 \n    2.16 \n    2.02 \n    1.93 \n    1.85 \n    1.80 \n    1.75 \n    1.72 \n    1.69 \n    1.66 \n    1.63 \n    1.61 \n    1.60 \n    1.58 \n    1.57 \n    1.55 \n    1.54 \n    1.53 \n    1.52 \n    1.51 \n    1.50 \n  \n  \n    100 \n    2.76 \n    2.36 \n    2.14 \n    2.00 \n    1.91 \n    1.83 \n    1.78 \n    1.73 \n    1.69 \n    1.66 \n    1.64 \n    1.61 \n    1.59 \n    1.57 \n    1.56 \n    1.54 \n    1.53 \n    1.52 \n    1.50 \n    1.49 \n    1.48 \n    1.48 \n  \n  \n    120 \n    2.75 \n    2.35 \n    2.13 \n    1.99 \n    1.90 \n    1.82 \n    1.77 \n    1.72 \n    1.68 \n    1.65 \n    1.63 \n    1.60 \n    1.58 \n    1.56 \n    1.55 \n    1.53 \n    1.52 \n    1.50 \n    1.49 \n    1.48 \n    1.47 \n    1.46 \n  \n  \n    140 \n    2.74 \n    2.34 \n    2.12 \n    1.99 \n    1.89 \n    1.82 \n    1.76 \n    1.71 \n    1.68 \n    1.64 \n    1.62 \n    1.59 \n    1.57 \n    1.55 \n    1.54 \n    1.52 \n    1.51 \n    1.50 \n    1.48 \n    1.47 \n    1.46 \n    1.45 \n  \n  \n    180 \n    2.73 \n    2.33 \n    2.11 \n    1.98 \n    1.88 \n    1.81 \n    1.75 \n    1.70 \n    1.67 \n    1.63 \n    1.61 \n    1.58 \n    1.56 \n    1.54 \n    1.53 \n    1.51 \n    1.50 \n    1.48 \n    1.47 \n    1.46 \n    1.45 \n    1.44 \n  \n  \n    250 \n    2.73 \n    2.32 \n    2.11 \n    1.97 \n    1.87 \n    1.80 \n    1.74 \n    1.69 \n    1.66 \n    1.62 \n    1.60 \n    1.57 \n    1.55 \n    1.53 \n    1.51 \n    1.50 \n    1.49 \n    1.47 \n    1.46 \n    1.45 \n    1.44 \n    1.43 \n  \n  \n    400 \n    2.72 \n    2.32 \n    2.10 \n    1.96 \n    1.86 \n    1.79 \n    1.73 \n    1.69 \n    1.65 \n    1.61 \n    1.59 \n    1.56 \n    1.54 \n    1.52 \n    1.50 \n    1.49 \n    1.47 \n    1.46 \n    1.45 \n    1.44 \n    1.43 \n    1.42 \n  \n  \n    1000 \n    2.71 \n    2.31 \n    2.09 \n    1.95 \n    1.85 \n    1.78 \n    1.72 \n    1.68 \n    1.64 \n    1.61 \n    1.58 \n    1.55 \n    1.53 \n    1.51 \n    1.49 \n    1.48 \n    1.46 \n    1.45 \n    1.44 \n    1.43 \n    1.42 \n    1.41"
  },
  {
    "objectID": "R/TidyverseSyntax.html",
    "href": "R/TidyverseSyntax.html",
    "title": "Tidyverse syntax",
    "section": "",
    "text": "Den här sidan samlar lite kommandon i den s k tidyverse  dialekten av R."
  },
  {
    "objectID": "R/TidyverseSyntax.html#introduktion",
    "href": "R/TidyverseSyntax.html#introduktion",
    "title": "Tidyverse syntax",
    "section": "Introduktion",
    "text": "Introduktion\n\n\n\nTidyverse är en samling R-paket som delar på samma underliggande filosofi. När man väl lärt sig Tidyverse-filosofin, är paketen väldigt kraftfulla. Men eftersom det tar sin tid att lära sig Tidyverse så använder vi inte dessa paket på den här grundkursen. För att stilla nyfikenheten bland programmeringintresserade studenter kommer vi då och då länka till motsvarande kod i Tidyverse genom att visa den här ikonen i marginalen:\n\n\n\n\n\nKlickar man på den ikonen får man se motsvarande kod från ett eller flera av de olika Tidyverse-paketen, t ex\n\n\n\n\n\nSpeciellt värt att notera bland dessa paket är ggplot2 som, trots sitt knepiga namn, är ett mycket användbart paket för diagram och visualisering. Se ggplot2 cheat sheet för kommandon.\nDen s k pipe-operatorn %>% gör att Tidyverse-kod byggs upp på annats sätt än standard R. Pipe-operatorn skickar vidare en beräkning eller resultat till funktionen till höger i uttrycket. Ett exempel förklarar det bäst:\n\nsuppressMessages(library(tidyverse))\ntitanic %>% group_by(Survived)  %>% tally()\n\n# A tibble: 2 × 2\n  Survived     n\n  <chr>    <int>\n1 Alive      712\n2 Dead      1496\n\n\ndär datamaterialet (dataframe) titanic skickas in i funktionen group_by() som grupperar data efter variablen Survived. Denna gruppering skickas sen vidare till funktioen tally() som gör sammanfattningen till en tabell."
  },
  {
    "objectID": "R/TidyverseSyntax.html#scatter-plot",
    "href": "R/TidyverseSyntax.html#scatter-plot",
    "title": "Tidyverse syntax",
    "section": "Scatter plot",
    "text": "Scatter plot\n\nlibrary(ggplot2)\nggplot(data = mtcars, aes(x = hp, y = mpg)) +\n  geom_point() + \n  ggtitle(\"Cars fuel usage\")"
  },
  {
    "objectID": "R/TidyverseSyntax.html#tabeller",
    "href": "R/TidyverseSyntax.html#tabeller",
    "title": "Tidyverse syntax",
    "section": "Tabeller",
    "text": "Tabeller\n\nsuppressMessages(library(tidyverse))\ntitanic %>% dplyr::group_by(Survived) %>% tally()\n\n# A tibble: 2 × 2\n  Survived     n\n  <chr>    <int>\n1 Alive      712\n2 Dead      1496\n\n\neller om man vill också ha proportioner\n\nsuppressMessages(library(tidyverse))\ntitanic %>% \n  dplyr::group_by(Survived)  %>% \n  tally() %>% \n  mutate(freq = prop.table(n))\n\n# A tibble: 2 × 3\n  Survived     n  freq\n  <chr>    <int> <dbl>\n1 Alive      712 0.322\n2 Dead      1496 0.678\n\n\ndär vi skrivit våra pipes %>% enligt tidyverse-konventionen med radbryt mellan en lång serie pipes."
  },
  {
    "objectID": "R/TidyverseSyntax.html#stapeldiagram",
    "href": "R/TidyverseSyntax.html#stapeldiagram",
    "title": "Tidyverse syntax",
    "section": "Stapeldiagram",
    "text": "Stapeldiagram\n\nAntal\n\nlibrary(ggplot2)\ntitanic %>% \n  group_by(Survived)  %>% \n  tally() %>% \n  ggplot(aes(x = Survived, y = n)) +\n  geom_bar(stat = \"identity\") +\n  ylab(\"proportion\")"
  },
  {
    "objectID": "R/TidyverseSyntax.html#histogram-per-kategori-i-samma-figur",
    "href": "R/TidyverseSyntax.html#histogram-per-kategori-i-samma-figur",
    "title": "Tidyverse syntax",
    "section": "Histogram per kategori i samma figur",
    "text": "Histogram per kategori i samma figur\n\nsuppressMessages(library(ggplot2))\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab3/FevChildren.RData?raw=true\"))\nggplot(FevChildren, aes(x = fev, fill = age.group)) + \n  geom_histogram(alpha =0.75, bins = 20) + ggtitle(\"FEV given age.group\")"
  },
  {
    "objectID": "R/BaseRSyntax.html",
    "href": "R/BaseRSyntax.html",
    "title": "Base-R",
    "section": "",
    "text": "Den här sidan samlar lite kommandon i den s k base-R  dialekten av R."
  },
  {
    "objectID": "R/BaseRSyntax.html#scatter-plot",
    "href": "R/BaseRSyntax.html#scatter-plot",
    "title": "Base-R",
    "section": "Scatter plot",
    "text": "Scatter plot\n\nplot(mtcars$hp, mtcars$mpg, xlab = \"hp\", ylab = \"mpg\", main = \"Cars fuel usage\")"
  },
  {
    "objectID": "R/BaseRSyntax.html#tabeller",
    "href": "R/BaseRSyntax.html#tabeller",
    "title": "Base-R",
    "section": "Tabeller",
    "text": "Tabeller\n\n\n\n\ntable(titanic$Survived)\n\n\nAlive  Dead \n  712  1496 \n\n\neller om man vill ha en tabell med andelar\n\nprop.table(table(titanic$Survived))\n\n\n    Alive      Dead \n0.3224638 0.6775362"
  },
  {
    "objectID": "R/BaseRSyntax.html#stapeldiagram",
    "href": "R/BaseRSyntax.html#stapeldiagram",
    "title": "Base-R",
    "section": "Stapeldiagram",
    "text": "Stapeldiagram\n\nbarplot(prop.table(table(titanic$Survived)), ylab = \"proportion\")"
  },
  {
    "objectID": "R/BaseRSyntax.html#histogram",
    "href": "R/BaseRSyntax.html#histogram",
    "title": "Base-R",
    "section": "Histogram",
    "text": "Histogram\n\nhist(titanic$Age)"
  },
  {
    "objectID": "R/BaseRSyntax.html#histogram-per-kategori-i-separata-figurer",
    "href": "R/BaseRSyntax.html#histogram-per-kategori-i-separata-figurer",
    "title": "Base-R",
    "section": "Histogram per kategori i separata figurer",
    "text": "Histogram per kategori i separata figurer\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab3/FevChildren.RData?raw=true\"))\nfev_list <- split(FevChildren$fev, FevChildren$age.group)\nn <- length(fev_list)\nSorted_age.group <- sort(unique(FevChildren$age.group))\npar(mfrow = c(1,3))\nfor(i in 1:n){\n  hist(fev_list[[i]], main = paste(\"FEV given age.group\", Sorted_age.group[i]),\n       xlab = \"FEV\", col = \"lightblue\", ylim = c(0, 1), probability = TRUE)\n}"
  },
  {
    "objectID": "R/BaseRSyntax.html#histogram-per-kategori-i-samma-figur",
    "href": "R/BaseRSyntax.html#histogram-per-kategori-i-samma-figur",
    "title": "Base-R",
    "section": "Histogram per kategori i samma figur",
    "text": "Histogram per kategori i samma figur\n\npar(mfrow = c(1,1))\nhist(fev_list[[1]], main = paste(\"Histogram of fev given age.group\"), xlab = \"FEV\",\n     col = 2, probability = TRUE, xlim = c(1, 8))\nfor(i in 2:n){\n  hist(fev_list[[i]], add = TRUE, col = i+1, probability =  TRUE)\n}\nlegend(\"topright\", legend = c(\"6-9\", \"10-14\", \"15-17\"), fill = c(2, 3, 4))"
  },
  {
    "objectID": "R/InstallR/installR_mac.html",
    "href": "R/InstallR/installR_mac.html",
    "title": "Installera R och Rstudio på egen Apple/Mac dator",
    "section": "",
    "text": "En liten guide till hur man installerar R och RStudio på Apple/Mac"
  },
  {
    "objectID": "R/InstallR/installR_mac.html#installera-r",
    "href": "R/InstallR/installR_mac.html#installera-r",
    "title": "Installera R och Rstudio på egen Apple/Mac dator",
    "section": "Installera R",
    "text": "Installera R\n\nBesök den här installeringssidan och klicka på den blå knappen:\n\n\n\n\n\n\n\nKlicka på Download R for macOS:\n\n\n\n\n\n\n\nDet här steget är lite lurigt eftersom du måste veta om din Mac har en processor med det nyare M1-chippet eller det äldre Intel-processorn. Om du inte vet det kan du ta redan på det så här.\n\n\nOm du har M1 processorn (nyare Mac): klicka på länken R-4.2.2-arm64.pkg\nOm du har Intel-processorn (äldre Mac): klicka på länken R-4.2.2.pkg\n\nObservera att numret 4.2.2 kan vara annorlunda när du laddar ner.\n\n\n\n\n\n\nKlicka på Download R-4.2.2 for Windows (obs! kan stå annat nummer när du besöker sidan).\n\n\n\n\n\n\n\nEfter Steg 4 kommer filen R-4.2.2-arm.pkg (eller R-4.2.2.pkg om du har en äldre Mac) att laddas ner på din Mac (igen, det kan vara lite annat nummer för dig). Dubbelklicka på den filen och följ vanliga instruktioner för hur man installerar ett program.\n\nNu är R installerat och det är dags att installera RStudio, som är den miljö du kommer använda när du skriver R kod."
  },
  {
    "objectID": "R/InstallR/installR_mac.html#installera-rstudio.",
    "href": "R/InstallR/installR_mac.html#installera-rstudio.",
    "title": "Installera R och Rstudio på egen Apple/Mac dator",
    "section": "Installera RStudio.",
    "text": "Installera RStudio.\n\nBesök installeringssidan igen, men gå till Step 2 och klicka på länken RSTUDIO-2022.12.0-353.DMG (igen, mycket möjligt att du ser annat nummer)\n\n\n\n\n\n\n\nFilen RStudio-2022.12.0-353.dmg laddas ner på er dator. Installera RStudio genom att klicka på den och följ installationsinstruktionerna.\n\nDu kan nu starta RStudio genom att leta upp RStudio på din dator och klicka på ikonen som ser ut något åt det här hållet:\n\n\n\n\n\n\nAvboka planerna för resten av dagen, stäng av notifieringar på din mobil, och börja utforska RStudio och R! 🤓"
  },
  {
    "objectID": "R/InstallR/installR_windows.html",
    "href": "R/InstallR/installR_windows.html",
    "title": "Installera R och Rstudio på Windows dator",
    "section": "",
    "text": "En liten guide till hur man installerar R och RStudio på Windows-dator"
  },
  {
    "objectID": "R/InstallR/installR_windows.html#installera-r",
    "href": "R/InstallR/installR_windows.html#installera-r",
    "title": "Installera R och Rstudio på Windows dator",
    "section": "Installera R",
    "text": "Installera R\n\nBesök den här installeringssidan och klicka på den blå knappen:\n\n\n\n\n\n\n\nKlicka på Download R for Windows:\n\n\n\n\n\n\n\nKlicka på install R for the first time:\n\n\n\n\n\n\n\nKlicka på Download R-4.2.2 for Windows (obs! kan stå annat nummer när du besöker sidan).\n\n\n\n\n\n\n\nEfter Steg 4 kommer filen R-4.2.2-win.exe att laddas ner på din dator (igen, det kan vara lite annat nummer för dig). Dubbelklicka på den filen och följ vanliga instruktioner för hur man installerar ett program.\n\nNu är R installerat och det är dags att installera RStudio, som är den miljö du kommer använda när du skriver R kod."
  },
  {
    "objectID": "R/InstallR/installR_windows.html#installera-rstudio.",
    "href": "R/InstallR/installR_windows.html#installera-rstudio.",
    "title": "Installera R och Rstudio på Windows dator",
    "section": "Installera RStudio.",
    "text": "Installera RStudio.\n\nBesök installeringssidan igen, men gå till Step 2 och klicka på länken RSTUDIO-2022.12.0-355.EXE (igen, mycket möjligt att du ser annat nummer)\n\n\n\n\n\n\n\nFilen RStudio-2022.12.0-353.exe laddas ner på er dator. Installera RStudio genom att klicka på den och följ installationsinstruktionerna.\n\nDu kan nu starta RStudio genom att leta upp RStudio på din dator och klicka på ikonen som ser ut något åt det här hållet:\n\n\n\n\n\n\nAvboka planerna för resten av dagen, stäng av notifieringar på din mobil, och börja utforska RStudio och R! 🤓"
  },
  {
    "objectID": "R/Rcommands.html",
    "href": "R/Rcommands.html",
    "title": "R commands for SDA1",
    "section": "",
    "text": "This document gives some useful R commands for the basic stats course SDA1 using the mosaic and ggformula packages using the R formula syntax."
  },
  {
    "objectID": "R/Rcommands.html#credits",
    "href": "R/Rcommands.html#credits",
    "title": "R commands for SDA1",
    "section": "Credits",
    "text": "Credits\nThis document is adapted from Professor Mcnamara’s All the R you need for STAT 220 - formula."
  },
  {
    "objectID": "R/Rcommands.html#loading-packages",
    "href": "R/Rcommands.html#loading-packages",
    "title": "R commands for SDA1",
    "section": "Loading packages",
    "text": "Loading packages\nLoading two packages for formula based basic statistics\n\nlibrary(mosaic)\nlibrary(ggformula)"
  },
  {
    "objectID": "R/Rcommands.html#reading-in-data",
    "href": "R/Rcommands.html#reading-in-data",
    "title": "R commands for SDA1",
    "section": "Reading in data",
    "text": "Reading in data\n\nGSS <- read.csv(\"GSS_clean.csv\")"
  },
  {
    "objectID": "R/Rcommands.html#plotting",
    "href": "R/Rcommands.html#plotting",
    "title": "R commands for SDA1",
    "section": "Plotting",
    "text": "Plotting\n\n# one categorical\ngf_bar(~marital_status, data = GSS)\n\n\n\n# two categorical\ngf_bar(~marital_status, fill = ~born_in_us, data = GSS)\n\n\n\ngf_bar(~marital_status, fill = ~born_in_us, data = GSS, position = \"dodge\")\n\n\n\n# one numeric\ngf_histogram(~highest_year_of_school_completed, data = GSS)\n\nWarning: Removed 3 rows containing non-finite values (`stat_bin()`).\n\n\n\n\ngf_boxplot(~highest_year_of_school_completed, data = GSS)\n\nWarning: Removed 3 rows containing non-finite values (`stat_boxplot()`).\n\n\n\n\n# one numeric, one categorical\ngf_boxplot(highest_year_of_school_completed ~ labor_force_status, data = GSS)\n\nWarning: Removed 3 rows containing non-finite values (`stat_boxplot()`).\n\n\n\n\n# two numeric\ngf_point(highest_year_of_school_completed ~ highest_year_school_completed_spouse,\n  data = GSS\n)\n\nWarning: Removed 1361 rows containing missing values (`geom_point()`)."
  },
  {
    "objectID": "R/Rcommands.html#summary-statistics",
    "href": "R/Rcommands.html#summary-statistics",
    "title": "R commands for SDA1",
    "section": "Summary statistics",
    "text": "Summary statistics\n\n# one categorical\ntally(~marital_status, data = GSS, format = \"proportion\")\n\nmarital_status\n     Divorced       Married Never married     Separated       Widowed \n 0.1716354344  0.4250425894  0.2853492334  0.0319420784  0.0851788756 \n         <NA> \n 0.0008517888 \n\n# two categorical\ntally(~ marital_status | general_happiness, data = GSS, format = \"proportion\")\n\n               general_happiness\nmarital_status  Not too happy Pretty happy   Very happy         <NA>\n  Divorced       0.2500000000 0.1851568477 0.1098430813 0.0000000000\n  Married        0.1815476190 0.3856159143 0.6162624822 0.2500000000\n  Never married  0.4017857143 0.3129303749 0.1768901569 0.5000000000\n  Separated      0.0565476190 0.0306044376 0.0213980029 0.2500000000\n  Widowed        0.1101190476 0.0849273145 0.0741797432 0.0000000000\n  <NA>           0.0000000000 0.0007651109 0.0014265335 0.0000000000\n\n# one numeric\nmean(~highest_year_of_school_completed, data = GSS, na.rm = TRUE)\n\n[1] 13.73177\n\noptions(na.rm = TRUE) # options\nmedian(~highest_year_of_school_completed, data = GSS)\n\n[1] 14\n\nsd(~highest_year_of_school_completed, data = GSS)\n\n[1] 2.974313\n\nrange(~highest_year_of_school_completed, data = GSS)\n\n[1]  0 20\n\nIQR(~highest_year_of_school_completed, data = GSS)\n\n[1] 4\n\nfivenum(~highest_year_of_school_completed, data = GSS)\n\n[1]  0 12 14 16 20\n\nfavstats(~highest_year_of_school_completed, data = GSS) # favorite statistics\n\n min Q1 median Q3 max     mean       sd    n missing\n   0 12     14 16  20 13.73177 2.974313 2345       3\n\ncor(highest_year_of_school_completed ~ highest_year_school_completed_spouse,\n  data = GSS, use = \"complete.obs\"\n) # correlation\n\n[1] 0.5955573"
  },
  {
    "objectID": "R/Rcommands.html#working-with-data",
    "href": "R/Rcommands.html#working-with-data",
    "title": "R commands for SDA1",
    "section": "Working with data",
    "text": "Working with data\n\n# filtering out NA values\nGSS_prop <- filter(\n  GSS,\n  !is.na(should_marijuana_be_made_legal),\n  !is.na(self_emp_or_works_for_somebody)\n)"
  },
  {
    "objectID": "R/Rcommands.html#modeling-and-inference",
    "href": "R/Rcommands.html#modeling-and-inference",
    "title": "R commands for SDA1",
    "section": "Modeling and inference",
    "text": "Modeling and inference\n\n# linear model\nm1 <- lm(highest_year_of_school_completed ~ highest_year_school_completed_spouse,\n  data = GSS\n)\nsummary(m1)\n\n\nCall:\nlm(formula = highest_year_of_school_completed ~ highest_year_school_completed_spouse, \n    data = GSS)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-16.5400  -1.3519   0.0242   1.4600   7.0242 \n\nCoefficients:\n                                     Estimate Std. Error t value Pr(>|t|)    \n(Intercept)                           5.84740    0.36316   16.10   <2e-16 ***\nhighest_year_school_completed_spouse  0.59403    0.02553   23.27   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.462 on 985 degrees of freedom\n  (1361 observations deleted due to missingness)\nMultiple R-squared:  0.3547,    Adjusted R-squared:  0.354 \nF-statistic: 541.4 on 1 and 985 DF,  p-value: < 2.2e-16\n\nrsquared(m1)\n\n[1] 0.3546884\n\npredict(m1,\n  newdata = data.frame(highest_year_school_completed_spouse = 11),\n  interval = \"confidence\"\n)\n\n       fit      lwr      upr\n1 12.38178 12.17059 12.59297\n\npredict(m1,\n  newdata = data.frame(highest_year_school_completed_spouse = 11),\n  interval = \"prediction\"\n)\n\n       fit      lwr      upr\n1 12.38178 7.546498 17.21706\n\n# bootstrapping\nbootstrap_sample <- do(1) * resample(GSS)\nboot <- do(1000) * mean(~highest_year_of_school_completed, data = resample(GSS))\nconfint(boot)\n\n  name    lower    upper level     method estimate\n1 mean 13.61371 13.85108  0.95 percentile 13.73177\n\n# one proportion\nprop.test(~self_emp_or_works_for_somebody,\n  data = GSS, success = \"Self-employed\", p = 0.1, alternative = \"less\"\n)\n\n\n    1-sample proportions test with continuity correction\n\ndata:  GSS$self_emp_or_works_for_somebody  [with success = Self-employed]\nX-squared = 0.1433, df = 1, p-value = 0.6475\nalternative hypothesis: true p is less than 0.1\n95 percent confidence interval:\n 0.0000000 0.1138167\nsample estimates:\n        p \n0.1026095 \n\n# two proportions\nprop.test(should_marijuana_be_made_legal ~ self_emp_or_works_for_somebody,\n  data = GSS_prop, success = \"Legal\"\n)\n\n\n    2-sample test for equality of proportions with continuity correction\n\ndata:  tally(should_marijuana_be_made_legal ~ self_emp_or_works_for_somebody)\nX-squared = 0.87754, df = 1, p-value = 0.3489\nalternative hypothesis: two.sided\n95 percent confidence interval:\n -0.04100264  0.12791902\nsample estimates:\n   prop 1    prop 2 \n0.6901408 0.6466827 \n\n# one mean\nt.test(~highest_year_of_school_completed, data = GSS, mu = 12, alternative = \"greater\")\n\n\n    One Sample t-test\n\ndata:  highest_year_of_school_completed\nt = 28.195, df = 2344, p-value < 2.2e-16\nalternative hypothesis: true mean is greater than 12\n95 percent confidence interval:\n 13.6307     Inf\nsample estimates:\nmean of x \n 13.73177 \n\n# two means\nt.test(highest_year_of_school_completed ~ born_in_us, data = GSS)\n\n\n    Welch Two Sample t-test\n\ndata:  highest_year_of_school_completed by born_in_us\nt = -4.8468, df = 337.79, p-value = 1.916e-06\nalternative hypothesis: true difference in means between group No and group Yes is not equal to 0\n95 percent confidence interval:\n -1.7012965 -0.7190416\nsample estimates:\n mean in group No mean in group Yes \n         12.67774          13.88791 \n\n# Chi-square\nchisq.test(tally(marital_status ~ general_happiness, data = GSS)) # independence\n\nWarning in chisq.test(tally(marital_status ~ general_happiness, data = GSS)):\nChi-squared approximation may be incorrect\n\n\n\n    Pearson's Chi-squared test\n\ndata:  tally(marital_status ~ general_happiness, data = GSS)\nX-squared = 210.13, df = 15, p-value < 2.2e-16\n\nchisq.test(tally(~general_happiness, data = GSS), p = c(0.14, 0.55, 0.30, 0.01)) # GoF\n\n\n    Chi-squared test for given probabilities\n\ndata:  tally(~general_happiness, data = GSS)\nX-squared = 16.528, df = 3, p-value = 0.0008838"
  },
  {
    "objectID": "R/Rcommands.html#probability",
    "href": "R/Rcommands.html#probability",
    "title": "R commands for SDA1",
    "section": "Probability",
    "text": "Probability\n\npnorm(1.96, lower.tail = FALSE) # normal distribution function\n\n[1] 0.0249979\n\nqnorm(0.25, mean = 100, sd = 5) # normal quantile function\n\n[1] 96.62755"
  },
  {
    "objectID": "R/FormulaSyntax.html",
    "href": "R/FormulaSyntax.html",
    "title": "Formula syntax",
    "section": "",
    "text": "Den här sidan samlar lite kommandon i den s k formula/mosaic  dialekten av R."
  },
  {
    "objectID": "R/FormulaSyntax.html#scatter-plot",
    "href": "R/FormulaSyntax.html#scatter-plot",
    "title": "Formula syntax",
    "section": "Scatter plot",
    "text": "Scatter plot\nEn vanlig scatter plot fås genom:\n\nplot(mpg ~ hp, data = mtcars, main = \"Cars fuel usage\")\n\n\n\n\nMed ggformula paketet kan man använda formel-syntax, men få plottar som liknar Tidyverse:\n\nlibrary(ggformula)\n\n\ngf_point(mpg ~ hp, data = mtcars, title = \"Cars fuel usage\")"
  },
  {
    "objectID": "hidden/stealourcourse.html",
    "href": "hidden/stealourcourse.html",
    "title": "Använd vår kurs - Creative Commons licens",
    "section": "",
    "text": "Vi som utvecklat den här kursen hoppas att andra lärare kan bli inspirerade av den, och vilja använda delar av den själva. Öppet kursmaterial ger också en transparens som hjälper till att hålla kurserna aktuella, korrekta och relevanta.\n\nAllt kursmaterial ligger öppet på GitHub i kursens github repo och kan laddas ner eller klonas. Vi vill inte att kursens material och eventuella förbättringar ska bli inlåsta bakom olika universitets undervisningplattformar. Tanken är istället att materialet förädlas av andra, som i sin tur delar vidare till allmänheten. Kursmaterialet görs därför tillgängligt under Creative Commons licensen CC BY-NC-SA vilket kortfattat innebär att:\n\n\n\n\n\n\n\n\n\n\n\nCC BY-NC-SA licens\n\n\n\nLicensen Creative Commons erkännande, icke kommersiell, dela lika (BY-NC-SA) innebär att du tillåter andra att använda, sprida, göra om, modifiera och bygga vidare, och skapa nya verk utifrån ditt. Så länge de erkänner dig som upphovsman och att de verk som skapas utifrån ditt verk ska licensieras under samma villkor. De nya verk som skapas utifrån ditt verk kommer att ha samma licens.\n\n\n\n\n\n\n\n\nRekommenderad text för att erkänna upphovspersonerna:\n\n\n\nKursen använder material från kursen Statistik och dataanalys I (https://statisticssu.github.io/SDA1/), som utvecklats vid Statistiska institutionen, Stockholms universitet, under Creative Commons licensen CC BY-NC-SA.\n\n\n\n\n\n\n\n\nCaveats\n\n\n\nDen som klonar och använder materialet ansvarar själv för eventuella fel och skador som kan uppstå. Vi som skapat kursen tar inget som helst ansvar för detta.\nMånga av kursens slides innehåller bilder som köps in från bildbanken Flaticon. Det är tillåtet för andra att fritt använda dessa slides i dess nuvarande form, t ex i undervisning, men bilderna får inte användas av andra för skapa nya media, t ex slides. Källfilerna till alla slides finns i kursens github repo, men eftersom bilderna från Flaticon inte finns i github repot kommer alla bilder som länkar till mappen /figs/flaticons/ inte visas (alternativt kommer fel uppstå i komplileringen av slides). Användaren som vill modifiera slides får då alltså ta bort eller byta ut bilderna."
  },
  {
    "objectID": "slides/KontinuerligaModeller.html#standardnormalfördelning---tabell",
    "href": "slides/KontinuerligaModeller.html#standardnormalfördelning---tabell",
    "title": "Statistik och Dataanalys I",
    "section": "Standardnormalfördelning - tabell",
    "text": "Standardnormalfördelning - tabell\n\n\n  \n\n\nAndra decimalen i \\(z\\)\n\n \n\n\nCode\nlibrary(dplyr)\nlibrary(kableExtra)\nmaxz = 2.99\nZtable = matrix(pnorm(seq(0, maxz, by = 0.01)), length(seq(0, maxz, by = 0.1)), 10, byrow = T) %>%\n  format(digits = 4) %>%\n  data.frame()\nnames(Ztable) <- as.character(format(seq(0.00, 0.09, by = 0.01), digits = 3))\nrownames(Ztable) <- as.character(format(seq(0.0, maxz, by = 0.1), digits = 2))\n\nZtable %>%\n  kbl(format= \"html\", align=\"r\") %>%\n  kable_classic(full_width = T, html_font = \"helvetica\")\n\n\n\n\n \n  \n      \n    0.00 \n    0.01 \n    0.02 \n    0.03 \n    0.04 \n    0.05 \n    0.06 \n    0.07 \n    0.08 \n    0.09 \n  \n \n\n  \n    0.0 \n    0.5000 \n    0.5040 \n    0.5080 \n    0.5120 \n    0.5160 \n    0.5199 \n    0.5239 \n    0.5279 \n    0.5319 \n    0.5359 \n  \n  \n    0.1 \n    0.5398 \n    0.5438 \n    0.5478 \n    0.5517 \n    0.5557 \n    0.5596 \n    0.5636 \n    0.5675 \n    0.5714 \n    0.5753 \n  \n  \n    0.2 \n    0.5793 \n    0.5832 \n    0.5871 \n    0.5910 \n    0.5948 \n    0.5987 \n    0.6026 \n    0.6064 \n    0.6103 \n    0.6141 \n  \n  \n    0.3 \n    0.6179 \n    0.6217 \n    0.6255 \n    0.6293 \n    0.6331 \n    0.6368 \n    0.6406 \n    0.6443 \n    0.6480 \n    0.6517 \n  \n  \n    0.4 \n    0.6554 \n    0.6591 \n    0.6628 \n    0.6664 \n    0.6700 \n    0.6736 \n    0.6772 \n    0.6808 \n    0.6844 \n    0.6879 \n  \n  \n    0.5 \n    0.6915 \n    0.6950 \n    0.6985 \n    0.7019 \n    0.7054 \n    0.7088 \n    0.7123 \n    0.7157 \n    0.7190 \n    0.7224 \n  \n  \n    0.6 \n    0.7257 \n    0.7291 \n    0.7324 \n    0.7357 \n    0.7389 \n    0.7422 \n    0.7454 \n    0.7486 \n    0.7517 \n    0.7549 \n  \n  \n    0.7 \n    0.7580 \n    0.7611 \n    0.7642 \n    0.7673 \n    0.7704 \n    0.7734 \n    0.7764 \n    0.7794 \n    0.7823 \n    0.7852 \n  \n  \n    0.8 \n    0.7881 \n    0.7910 \n    0.7939 \n    0.7967 \n    0.7995 \n    0.8023 \n    0.8051 \n    0.8078 \n    0.8106 \n    0.8133 \n  \n  \n    0.9 \n    0.8159 \n    0.8186 \n    0.8212 \n    0.8238 \n    0.8264 \n    0.8289 \n    0.8315 \n    0.8340 \n    0.8365 \n    0.8389 \n  \n  \n    1.0 \n    0.8413 \n    0.8438 \n    0.8461 \n    0.8485 \n    0.8508 \n    0.8531 \n    0.8554 \n    0.8577 \n    0.8599 \n    0.8621 \n  \n  \n    1.1 \n    0.8643 \n    0.8665 \n    0.8686 \n    0.8708 \n    0.8729 \n    0.8749 \n    0.8770 \n    0.8790 \n    0.8810 \n    0.8830 \n  \n  \n    1.2 \n    0.8849 \n    0.8869 \n    0.8888 \n    0.8907 \n    0.8925 \n    0.8944 \n    0.8962 \n    0.8980 \n    0.8997 \n    0.9015 \n  \n  \n    1.3 \n    0.9032 \n    0.9049 \n    0.9066 \n    0.9082 \n    0.9099 \n    0.9115 \n    0.9131 \n    0.9147 \n    0.9162 \n    0.9177 \n  \n  \n    1.4 \n    0.9192 \n    0.9207 \n    0.9222 \n    0.9236 \n    0.9251 \n    0.9265 \n    0.9279 \n    0.9292 \n    0.9306 \n    0.9319 \n  \n  \n    1.5 \n    0.9332 \n    0.9345 \n    0.9357 \n    0.9370 \n    0.9382 \n    0.9394 \n    0.9406 \n    0.9418 \n    0.9429 \n    0.9441 \n  \n  \n    1.6 \n    0.9452 \n    0.9463 \n    0.9474 \n    0.9484 \n    0.9495 \n    0.9505 \n    0.9515 \n    0.9525 \n    0.9535 \n    0.9545 \n  \n  \n    1.7 \n    0.9554 \n    0.9564 \n    0.9573 \n    0.9582 \n    0.9591 \n    0.9599 \n    0.9608 \n    0.9616 \n    0.9625 \n    0.9633 \n  \n  \n    1.8 \n    0.9641 \n    0.9649 \n    0.9656 \n    0.9664 \n    0.9671 \n    0.9678 \n    0.9686 \n    0.9693 \n    0.9699 \n    0.9706 \n  \n  \n    1.9 \n    0.9713 \n    0.9719 \n    0.9726 \n    0.9732 \n    0.9738 \n    0.9744 \n    0.9750 \n    0.9756 \n    0.9761 \n    0.9767 \n  \n  \n    2.0 \n    0.9772 \n    0.9778 \n    0.9783 \n    0.9788 \n    0.9793 \n    0.9798 \n    0.9803 \n    0.9808 \n    0.9812 \n    0.9817 \n  \n  \n    2.1 \n    0.9821 \n    0.9826 \n    0.9830 \n    0.9834 \n    0.9838 \n    0.9842 \n    0.9846 \n    0.9850 \n    0.9854 \n    0.9857 \n  \n  \n    2.2 \n    0.9861 \n    0.9864 \n    0.9868 \n    0.9871 \n    0.9875 \n    0.9878 \n    0.9881 \n    0.9884 \n    0.9887 \n    0.9890 \n  \n  \n    2.3 \n    0.9893 \n    0.9896 \n    0.9898 \n    0.9901 \n    0.9904 \n    0.9906 \n    0.9909 \n    0.9911 \n    0.9913 \n    0.9916 \n  \n  \n    2.4 \n    0.9918 \n    0.9920 \n    0.9922 \n    0.9925 \n    0.9927 \n    0.9929 \n    0.9931 \n    0.9932 \n    0.9934 \n    0.9936 \n  \n  \n    2.5 \n    0.9938 \n    0.9940 \n    0.9941 \n    0.9943 \n    0.9945 \n    0.9946 \n    0.9948 \n    0.9949 \n    0.9951 \n    0.9952 \n  \n  \n    2.6 \n    0.9953 \n    0.9955 \n    0.9956 \n    0.9957 \n    0.9959 \n    0.9960 \n    0.9961 \n    0.9962 \n    0.9963 \n    0.9964 \n  \n  \n    2.7 \n    0.9965 \n    0.9966 \n    0.9967 \n    0.9968 \n    0.9969 \n    0.9970 \n    0.9971 \n    0.9972 \n    0.9973 \n    0.9974 \n  \n  \n    2.8 \n    0.9974 \n    0.9975 \n    0.9976 \n    0.9977 \n    0.9977 \n    0.9978 \n    0.9979 \n    0.9979 \n    0.9980 \n    0.9981 \n  \n  \n    2.9 \n    0.9981 \n    0.9982 \n    0.9982 \n    0.9983 \n    0.9984 \n    0.9984 \n    0.9985 \n    0.9985 \n    0.9986 \n    0.9986"
  },
  {
    "objectID": "slides/KontinuerligaModeller.html#student-t-fördelningen",
    "href": "slides/KontinuerligaModeller.html#student-t-fördelningen",
    "title": "Statistik och Dataanalys I",
    "section": "Student-t fördelningen",
    "text": "Student-t fördelningen\n\nSymmetrisk fördelning över \\((-\\infty,\\infty)\\) med tunga svansar.\nTunga svansar = mycket sannolikhetsmassa för extrema observationer = galna observationer kan inträffa."
  },
  {
    "objectID": "slides/KontinuerligaModeller.html#centrala-gränsvärdessatsen",
    "href": "slides/KontinuerligaModeller.html#centrala-gränsvärdessatsen",
    "title": "Statistik och Dataanalys I",
    "section": "Centrala gränsvärdessatsen",
    "text": "Centrala gränsvärdessatsen\n\n\n\n\n\nStatistik och dataanalys I     ·     Sannolikhetsmodeller och inferens, 7.5 hp"
  },
  {
    "objectID": "stealourcourse.html",
    "href": "stealourcourse.html",
    "title": "Använd vår kurs - Creative Commons licens",
    "section": "",
    "text": "Vi som utvecklat den här kursen hoppas att andra lärare kan bli inspirerade av den, och vilja använda delar av den själva. Öppet kursmaterial ger också en transparens som hjälper till att hålla kurserna aktuella, korrekta och relevanta.\n\nAllt kursmaterial ligger öppet på GitHub i kursens github repo och kan laddas ner eller klonas. Vi vill inte att kursens material och eventuella förbättringar ska bli inlåsta bakom olika universitets undervisningplattformar. Tanken är istället att materialet förädlas av andra, som i sin tur delar vidare till allmänheten. Kursmaterialet görs därför tillgängligt under Creative Commons licensen CC BY-NC-SA vilket kortfattat innebär att:\n\n\n\n\n\n\n\n\n\n\n\nCC BY-NC-SA licens\n\n\n\nLicensen Creative Commons erkännande, icke kommersiell, dela lika (BY-NC-SA) innebär att du tillåter andra att använda, sprida, göra om, modifiera och bygga vidare, och skapa nya verk utifrån ditt. Så länge de erkänner dig som upphovsman och att de verk som skapas utifrån ditt verk ska licensieras under samma villkor. De nya verk som skapas utifrån ditt verk kommer att ha samma licens.\n\n\n\n\n\n\n\n\nRekommenderad text för att erkänna upphovspersonerna:\n\n\n\nKursen använder material från kursen Statistik och dataanalys I (https://statisticssu.github.io/SDA1/), som utvecklats vid Statistiska institutionen, Stockholms universitet, under Creative Commons licensen CC BY-NC-SA.\n\n\n\n\n\n\n\n\nCaveats\n\n\n\nDen som klonar och använder materialet ansvarar själv för eventuella fel och skador som kan uppstå. Vi som skapat kursen tar inget som helst ansvar för detta.\nMånga av kursens slides innehåller bilder som köps in från bildbanken Flaticon. Det är tillåtet för andra att fritt använda dessa slides i dess nuvarande form, t ex i undervisning, men bilderna får inte användas av andra för skapa nya media, t ex slides. Källfilerna till alla slides finns i kursens github repo, men eftersom bilderna från Flaticon inte finns i github repot kommer alla bilder som länkar till mappen /figs/flaticons/ inte visas (alternativt kommer fel uppstå i komplileringen av slides). Användaren som vill modifiera slides får då alltså ta bort eller byta ut bilderna."
  },
  {
    "objectID": "Del2.html",
    "href": "Del2.html",
    "title": "Del II - Sannolikhetsmodeller och Inferens, 7.5 hp",
    "section": "",
    "text": "I kursens andra momentet behandlas inledningsvis sannolikheter, slumpvariabler och sannolikhetsfördelningar. En central del i momentet är inferens, dvs. statistiska metoder för att dra slutsatser om olika fenomen från data, bl a samband från regressionsanalys. Kursen avslutas med en introduktion till beslutsfattade under osäkerhet.\n\nFörkortningen SDM står för kursboken Stats: Data and Models 5:e upplagan, global edition.\nUnder vissa föreläsningar länkar vi till Extramaterial. Det är material som inte krävs för att klara kursen, men som den nyfikne kan läsa för att få en djupare förståelse.\n\nFöreläsningar\nFöreläsning 12 - Osäkerhet och Sannolikhet.\nLäs: SDM Kapitel 12 och 13 | Slides\nInteraktivt: slantsingling\nExtramaterial: TedTalk om sannolikheter\nFöreläsning 13 - Betingade sannolikheter och Bayes sats.\nLäs: SDM Kapitel 13 | Slides\nInteraktivt: bayessats\nExtramaterial: Artikel om Bayes sats och snabbtest för Covid-19\nFöreläsning 14 - Slumpvariabler och deras egenskaper.\nLäs: SDM Kapitel 14 | Slides\nInteraktivt: normalfördelningen\nFöreläsning 15 - Diskreta sannolikhetsmodeller.\nLäs: SDM Kapitel 15.1, 15.2, 15.3, 15.6 | Slides\nInteraktivt: geometrisk fördelning | binomialfördelningen | Poissonfördelningen | maximum likelihood - Poisson\nKod: geometric.R\nFöreläsning 16 - Kontinuerliga sannolikhetsmodeller.\nLäs: SDM Kapitel 5.3, 14.4, 15.7 | Slides\nInteraktivt: student-t | exponential\nExtramaterial: Notebook - student-t\nFöreläsning 17 - Samplingfördelningar och konfidensintervall för en andel.\nLäs: SDM Kapitel 16 | Slides\nFöreläsning 18 - Konfidensintervall för ett väntevärde. Stora talens lag. Centrala gränsvärdessatsen.\nLäs: SDM Kapitel 17 | Slides\nInteraktivt: stora talens lag | centrala gränsvärdessatsen\nExtramaterial: Notebook - stora talens lag | Notebook - centrala gränsvärdessatsen\nFöreläsning 19 - Hypotestest.\nLäs: SDM Kapitel 18 | Slides\nFöreläsning 20 - Hypotestest och jämföra grupper.\nLäs: SDM Kapitel 19, 20.4, 20.5 | Slides\nFöreläsning 21 - Jämföra grupper och \\(\\chi^2\\)-test.\nLäs: SDM Kapitel 21.1, 21.2 | Slides\nInteraktivt: chi2-fördelningen\nFöreläsning 22 - Inferens i multipel regression.\nLäs: SDM Kapitel 23 | Slides\nVideoföreläsning - Maximum likelihood och Bayesiansk inferens.\nLäs: Slides\nInteraktivt: betafördelningen\nFöreläsning 23 - Optimala beslut under osäkerhet.\nLäs: Slides\nFöreläsning 24 - Sammanfattning.\nLäs: Slides\n\n\nRäkneövningar\nÖvningarna i kursboken Stats: Data and Models (SDM) hänvisas till med kapitelnummer följt av övningsnummer.\nÖvning 7 - Sannolikheter för händelser. Kombinatorik.\nUppgifter: SDM 12.2, 12.5, 12.7, 12.9, 12.12, 12.16, 12.21, 12.27, 12.29, 12.31, 12.34, 12.36, 12.39, 12.41, 12.49, 12.52.\nÖvning 8 - Oberoende händelser. Betingning och Bayes sats.\nUppgifter: SDM 13.1, 13.5, 13.7, 13.10, 13.12, 13.14, 13.18, 13.21, 13.24, 13.31, 13.47, 13.49.\nÖvning 9 - Slumpvariabler, väntevärde och standardavvikelse.\nUppgifter: SDM 14.1, 14.3, 14.9a, 14.11, 14.13, 14.21, 14.26, 14.33, 14.36, 14.43, 14.54.\nÖvning 10 - Diskreta sannolikhetsfördelningar.\nUppgifter: SDM 15.1, 15.3, 15.5, 15.7, 15.18, 15.19, 15.21, 15.28, 15.29, 15.31, 15.41, 15.45, 15.49, 15.59.\nÖvning 12 - Kontinerliga sannolikhetsfördelningar.\nUppgifter: SDM 15\nÖvning 13 - Samplingfördelningar och konfidensintervall för en andel.\nUppgifter: SDM 16\nÖvning 14 - Konfidensintervall för ett väntevärde.\nUppgifter: SDM 17\nÖvning 13 - Hypotestest.\nUppgifter: SDM 18\nÖvning 14 - Hypotestest och p-värde.\nUppgifter: SDM 18\nÖvning 13 - Jämföra grupper.\nUppgifter: SDM 20-21.\nÖvning 14 - Inferens för regression.\nUppgifter: SDM 23\n\n\nDatorlaborationer\nDatorlaboration 5 - Simulering för att utforska slumpvariabler och deras egenskaper.\nUppgifter: Datorlab 5\nDatorlaboration 6 - Samplingfördelningar, standardfel och konfidensintervall.\nUppgifter: Datorlab 6\nDatorlaboration 7 - Multipel linjär regression - inferens.\nUppgifter: Datorlab 7"
  },
  {
    "objectID": "assignments/assignment1/Assignment1.html",
    "href": "assignments/assignment1/Assignment1.html",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "",
    "text": "Varning\n\n\n\nDen här inlämningsuppgiften förutsätter att följande paket finns installerade:\n\nmosaic\ndplyr\ngeosphere\nleaflet\n\nPaket kan installeras via kommandot install.packages('packagename'), där 'packagename' är namnet på paketet, t.ex 'mosaic'."
  },
  {
    "objectID": "assignments/assignment1/Assignment1.html#introduktion",
    "href": "assignments/assignment1/Assignment1.html#introduktion",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "Introduktion",
    "text": "Introduktion\nI den första inlämningsuppgiften ska ni självständigt i grupper om tre analysera ett dataset i programmeringsspråket R. Till skillnad från datorlaborationerna finns det minimalt med kodexempel. Datorlaborationerna går igenom de flesta momenten som behandlas i inlämningsuppgiften, så se till att göra klart dessa innan.\n\n\n\n\n\n\n\nInstruktioner\n\n\n\nI denna inlämningsuppgift ska ni analysera ett datamaterial som innehåller en mängd olika variabler från en totalundersökning1 i Boston 1970 som aggregerats till ca 500 censusdistrikt. Datasetet förekommer i många olika varianter. Här använder vi en modifierad version2 av originaldata3 som använts i en studie4 där författarna predikterar medianhuspriset i ett censusdistrikt givet en uppsättning förklarande variabler.\nFöljande variabler finns i datasetet boston_census_data.Rdata (ladda ner) för 480 observationer. Notera att en observation motsvarar ett censusdistrikt:\n\ntown: Stadsdel.\nlongitude: Longitud koordinat.\nlatitude: Latitud koordinat.\nmedian_home_value: Medianhuspriset (enhet 1K USD).\ncrime_rate: Brott (per 1000 invånare).\nzoned_25k_p: Andel av stadsdelens bostadsmark ämnad för marklotter större än 25000 kvadratfot.\nindust_p: Andel tunnland ägd av företag utanför detaljhandel.\nborders_charles: Charles River dummy variabel (= 1 om området gränsar till floden, 0 annars).\nNOx: Koncentration av kväveoxider (andelar per 10 miljon).\nn_rooms_avg: Genomsnitt antal rum i ägda bostäder.\nbefore_1940_p: Andel ägda bostäder byggda före 1940.\nemploy_dist: Viktat avstånd till fem arbetsförmedlingscentra i Boston.\nradial_access: Index som mäter tillgång till stadsmotorvägar.\ntax_rate: Fastighetsskatt per 10000 USD.\npupil_teacher_ratio: Lärartäthet mätt som elev per lärare.\nlower_stat_pct: Procentandel underklass definerad som en av två: (i) andel vuxna utan gymnasieutbildning eller (ii) andel män som genomför okvalificerat arbete.\n\nBland de förklarande variablerna som använts i studien (ej med i datasetet) finns en icke-linjär interaktion av latitud och longitud koordinaterna för att modellera medianhuspriset spatiellt (dvs deras modell använder censusdistriktens geografiska platser för att fånga den spatiella variationen i huspriser, dvs geografisk variation). Det här sättet att modellera spatiellt beroende är överkurs5, så ni kommer att få göra följande förenkling för att fånga det geografiska beroendet i medianhuspriset. Genom att använda latitud och longitud koordinaterna kan ni beräkna avståndet till en central plats i Boston. Ni kan sedan inkludera detta avstånd som en förklarande variabel i en regressionsmodell, för att se om den förklarar variation i medianhuspriserna.\nI sista uppgiften ska ni föreslå en prognosmodell för medianhuspriset där ni får välja vilka förklaringsvariabler ni vill ha med (ni vår välja bland en delmängd av de som listas ovanför, se Uppgift 5.4). Ni ska sedan använda er modell för att prognostisera medianhuspriset för tio censusdistrikt i datasetet boston_districts_to_predict.Rdata (ladda ner). Det här datasetet har endast de förklarande variablerna, dvs alla de variabler ni får använda förutom medianhuspriset. När vi rättar era inlämningsuppgifter kommer vi att jämföra prognoserna mot de faktiska värden (vi har tillgång till dessa). De tre bästa prognosmakarna kommer att publiceras på hemsidan.\nInlämningsuppgiften ska lämnas in i form av ett html dokument genererat av Quarto. Kontrollera noga att du inte har några felmeddelande och att dokumentet kompileras utan problem. Använd tydliga figurer och namnge axlarna med tydliga variabelnamn. Glöm inte att skriva era namn ovanför istället för Namn 1, Namn 2 och Namn 3."
  },
  {
    "objectID": "assignments/assignment1/Assignment1.html#ladda-in-data",
    "href": "assignments/assignment1/Assignment1.html#ladda-in-data",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "0. Ladda in data",
    "text": "0. Ladda in data\n\n💪 Uppgift 0.1\nLadda in dataseten Boston_census_data.Rdata och Boston_districts_to_predict.Rdata (länkar för att ladda ner data finns i Instruktioner avsnittet ovan).\n\n\n\n\n\n\nUppgift 0.1 - Svar\n\n\n\n\n# Write your code here\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/assignments/assignment1/Boston_census_data.RData?raw=true\"))"
  },
  {
    "objectID": "assignments/assignment1/Assignment1.html#kriminalitet-i-boston",
    "href": "assignments/assignment1/Assignment1.html#kriminalitet-i-boston",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "1. Kriminalitet i Boston",
    "text": "1. Kriminalitet i Boston\nI detta avsnitt ska ni analysera kriminaliteten i Boston med hjälp av variabeln crime_rate.\n\n💪 Uppgift 1.1\nVad kan man generellt säga om kriminaliteten i censusdistrikten? Använd lämpliga figurer samt fördelningsmått som underlag.\n\n\n\n\n\n\nUppgift 1.1 - Svar\n\n\n\nSkriv svaret här. Vid behov skrivs matematiska symboler inom dollartecken, till exempel \\(\\overline{y} = \\sum^{n}_{i=1} y_i\\). Koden skrivs i R-rutan nedanför.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 1.2\nVarierar brottsligheten i Boston beroende på den kategoriska variabeln town? Det finns 88 olika utfall av town (dvs 88 olika stadsdelar). Välj ut Boston East Boston, Boston Downtown,Cambridge, samt två valfria stadsdelar för att besvara frågan. Frågan besvaras med hjälp av lämpligt valda figurer och statistiska mått.\n\n\n\n\n\n\nTips\n\n\n\nSkapa en ny data frame som filtrerar Boston_census_data (till exempel genom filter() funktionen) utefter de stadsdelarna ni är intresserade utav innan ni påbörjar analysen.\n\n\n\n\n\n\n\n\nUppgift 1.2 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 1.3\nVilka tre variabler i datasetet Boston_census_data korrelerar mest med brottslighet? Beskriv det parvisa sambandet mellan brottslighet och vardera av dessa tre variabler.\n\n\n\n\n\n\nTips\n\n\n\nKom ihåg att korrelation är ett beroendemått för numeriska variabler.\n\n\n\n\n\n\n\n\nUppgift 1.3 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here"
  },
  {
    "objectID": "assignments/assignment1/Assignment1.html#fastighetsskatt-i-boston",
    "href": "assignments/assignment1/Assignment1.html#fastighetsskatt-i-boston",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "2. Fastighetsskatt i Boston",
    "text": "2. Fastighetsskatt i Boston\nI detta avsnitt ska ni analysera fastighetsskatten i Boston med hjälp av variabeln tax_rate.\n\n💪 Uppgift 2.1\nVad kan man generellt säga om fastighetsskatten i censusdistrikten? Använd lämpliga figurer samt fördelningsmått som underlag.\n\n\n\n\n\n\nUppgift 2.1 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 2.2\nLåt oss skapa en ny variabel cat_tax som anger om ett censusdistrikt betalar låg (low), medel (medium), eller hög (high) fastighetsskatt. Vi definerar skattekategorierna enligt\n\nlow: tax_rate \\(\\leq\\) 250,\nmedium: 250 \\(<\\) tax_rate \\(\\leq\\) 400,\nhigh: tax_rate \\(>\\) 400.\n\nFöljande kod skapar och lägger till variabeln cat_tax i Boston_census_data\n\nBoston_census_data$cat_tax <- cut(Boston_census_data$tax_rate, \n              breaks=c(0, 250, 400, 800),\n              labels=c('Low', 'Medium', 'High'))\n\nFinns det ett samband mellan vilken skattekategori ett censusdistrikt tillhör och dess angränsning till Charles River? Förklara med hjälp av lämplig tabell samt figur.\n\n\n\n\n\n\nUppgift 2.2 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 2.3\nHur många procent av alla censusdistrikt ligger i angränsning till Charles River och tillhör en hög skattekategori? Hur stor andel av censusdistrikten med hög skatt ligger inte i angränsning till Charles River?\n\n\n\n\n\n\nUppgift 2.3 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 2.4\nVilka två variabler i datasetet Boston_census_data korrelerar mest med tax_rate? Beskriv det parvisa sambandet mellan tax_rate och vardera av dessa två variabler. Är dessa korrelationssamband eller kausala samband?\n\n\n\n\n\n\nTips\n\n\n\nKom ihåg att korrelation är ett beroendemått för numeriska variabler.\n\n\n\n\n\n\n\n\nUppgift 2.4 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here"
  },
  {
    "objectID": "assignments/assignment1/Assignment1.html#avstånd-till-fenway-park",
    "href": "assignments/assignment1/Assignment1.html#avstånd-till-fenway-park",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "3. Avstånd till Fenway park",
    "text": "3. Avstånd till Fenway park\nI detta avsnitt ska ni skapa en ny variabel som mäter avståndet till Fenway park (stadion där basebollslaget Boston Red Sox spelar sina hemmamatcher). Genom variablerna latitude och longitude kan vi beräkna det så kallade cirkelavståndet6 till Fenway park för varje distrikt. Formeln för cirkelavståndet är ganska komplicerad, men den finns implementerad i funktionen distHaversine() i R-paketet geosphere. Följande kod beräknar avståndet till Fenway park för varje censusdistrikt och sparar den som en ny variabel dist_fenway_park i Boston_census_data.\n\nlibrary(geosphere) # Install if not available\nlat_long <- cbind(Boston_census_data$latitude, Boston_census_data$longitude)\nfenway_park_lat_long <- c(42.346462, -71.097250) # latitude and longitude for Fenway_park\nBoston_census_data$dist_fenway_park <- distHaversine(lat_long, fenway_park_lat_long)\n\nVi kan visualisera Fenway park samt censusdistrikten i en interaktiv karta med hjälp av R-paketet leaflet. Följande kod visualiserar Fenway park samt censusdistrikten för observationerna 30 och 45.\n\nlibrary(leaflet) # Install if not available\nBoston_map <- leaflet() %>% \n  addTiles() %>%\n  addMarkers(lat = fenway_park_lat_long[1], lng = fenway_park_lat_long[2], popup=\"Fenway park\") %>%\n  addMarkers(lat = Boston_census_data$latitude[30], lng = Boston_census_data$longitude[30], popup=\"Observation 30\") %>%\n  addMarkers(lat = Boston_census_data$latitude[45], lng = Boston_census_data$longitude[45], popup=\"Observation 45\") \n\nBoston_map # Show interactive map\n\n\n\n\n\n\n💪 Uppgift 3.1\nGör ett histogram för variabeln dist_fenway_park. Vilket av censusdistrikten har längst respektive kortast avstånd till Fenway park? Markera ut dessa distrikt i en interaktiv karta tillsammans med Fenway park.\n\n\n\n\n\n\nTips\n\n\n\nNär ni vet vad det längsta respektive kortaste avståndet är så kan ni använda filter() funktionen för att filtrera Boston_census_data på ett lämpligt sätt.\n\n\n\n\n\n\n\n\nUppgift 3.1 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 3.2\nFinns det ett samband mellan dist_fenway_park och median_home_value?\n\n\n\n\n\n\nUppgift 3.2 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 3.3\nFinns det ett samband mellan dist_fenway_park och crime_rate?\n\n\n\n\n\n\nUppgift 3.3 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here"
  },
  {
    "objectID": "assignments/assignment1/Assignment1.html#enkel-linjär-regression",
    "href": "assignments/assignment1/Assignment1.html#enkel-linjär-regression",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "4. Enkel linjär regression",
    "text": "4. Enkel linjär regression\nI detta avsnitt ska ni anpassa och tolka några enkla linjära regressionsmodeller.\n\n💪 Uppgift 4.1\nAnpassa en linjär regression med responsvariabel NOx och förklarande variabel employ_dist. Rita den anpassade regressionslinjen tillsammans med data i en lämplig figur. Beskriv resultaten och tolka modellen. Utför en modellvalidering via en residualanalys och kommentera modellens lämplighet. Om modellen inte anses lämplig, vilka antaganden har inte varit uppfyllda?\n\n\n\n\n\n\nUppgift 4.1 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 4.2\nAnvänd modellen i Uppgift 4.1 för att prediktera genomsnittsutsläppet för observation 10 med employ_dist=10.5857 och beräkna dess residual.\n\n\n\n\n\n\nUppgift 4.2 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 4.3\nAnvänd Tukeys cirkel för att transformera variablerna i Uppgift 4.1 (avgör själv vilken eller vilka av de två som behöver transformeras). Anpassa en ny linjär regression på de transformerade data. Utför en modellvalidering (efter transformation) via en residualanalys och kommentera modellens lämplighet jämfört med modellen i Uppgift 4.1. Plotta den anpassade regressionen i icke-transformerad skala tillsammans med data (också i icke-transformerad skala) i en lämplig figur.\n\n\n\n\n\n\nTips\n\n\n\nTänk på att ta hänsyn till eventuella transformationer!\n\n\n\n\n\n\n\n\nUppgift 4.3 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 4.4\nAnvänd modellen i Uppgift 4.3 för att prediktera genomsnittsutsläppet för observation 10 med employ_dist=10.5857 och beräkna dess residual. Kommentera resultaten jämfört med Uppgift 4.2.\n\n\n\n\n\n\nTips\n\n\n\nTänk på att ta hänsyn till eventuella transformationer!\n\n\n\n\n\n\n\n\nUppgift 4.4 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here"
  },
  {
    "objectID": "assignments/assignment1/Assignment1.html#multipel-linjär-regression",
    "href": "assignments/assignment1/Assignment1.html#multipel-linjär-regression",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "5. Multipel linjär regression",
    "text": "5. Multipel linjär regression\nI detta avsnitt ska ni studera multipel linjära regression.\n\n💪 Uppgift 5.1\nAnpassa en linjär regression med responsvariabel logaritmerad median_home_value samt förklarande variabler lower_stat_pct och dummy-variabeln borders_charles. Tolka koefficienten för borders_charles.\n\n\n\n\n\n\nUppgift 5.1 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 5.2\nAnpassa en linjär regression med responsvariabel NOx samt förklarande variabler lower_stat_pct och dummy-variabeln borders_charles. Vad tror ni om den statistiska signifikansen för respektive förklarande variabel?\n\n\n\n\n\n\nUppgift 5.2 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 5.3\nAnvänd modellen i Uppgift 5.1 för att prediktera median_home_value för observation 30 och beräkna dess residual.\n\n\n\n\n\n\nTips\n\n\n\nTänk på att ta hänsyn till log-transformationen i den anpassade modellen!\n\n\n\n\n\n\n\n\nUppgift 5.3 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 5.4\nNi ska nu utveckla en prognosmodell för medianhuspriset median_home_value. Ni får endast välja mellan följande förklarande variabler samt godtyckliga transformationer av dom (ni får även transformera responsen):\n\nbefore_1940_p\ncrime_rate\nradial_access\nNOx\ndist_fenway_park (som skapades i Avsnitt 3).\n\nDet finns \\(2^5 = 32\\) olika sätt att inkludera de olika förklarande variabler och därmed 32 olika modeller man kan testa, plus i princip hur många som helst om vi också transformerar. Vi förväntar oss naturligtvis inte att ni går igenom varje möjlig modell, men vi förutsätter att ni testar er fram metodiskt.\nFör att utvärdera mellan olika modeller kan ni använda justerat R-kvadrat samt korsvalidering med 4 folds. Sortera inte `boston_census_data.Rdata slumpmässigt när ni korsvaliderar (data ligger redan i slumpmässig ordning). Dela upp datasetet i fyra delar när ni korsvaliderar (del 1: observationer 1-120, del 2: observationer 121-240, del 3: observationer 241-360, del 4: observationer 361-480).\n\n\n\n\n\n\nTips\n\n\n\nTänk på att ta hänsyn till eventuell transformation av responsvariabeln när ni utför korsvalideringen. Korsvalideringen använder prediktionen \\(\\hat{y}\\) som är prediktionen av \\(y\\). Exempelvis, om ni har valt transformationen \\(\\log(y)\\) är modellens prediktion av responsen \\(\\widehat{\\log(y)}\\). När ni korsvaliderar blir då \\(\\hat{y}=\\exp\\left(\\widehat{\\log(y)}\\right)\\) prediktionen av \\(y\\).\nOm ni använder reg_crossval() funktionen från kurspaketet sdakurs tänk då på två saker:\n\nAnvänd argumentet obs_order = 1:480 för att inte data ska sorteras slumpmässigt.\nFunktionen kan inte hantera en transformerad respons.\n\nVill man transformera responsen kan man följa korsvalideringsexemplet (med transformerad respons) i Lab 4.\n\n\n\n\n\n\n\n\nUppgift 5.4 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 5.5\nGör en residualanalys av den valda modellen i Uppgift 5.3.\n\n\n\n\n\n\nUppgift 5.5 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 5.6\nAnvänd modellen i Uppgift 5.4 för att prediktera medianhuspriset för observationerna i datasetet Boston_districts_to_predict.RData. Skriv ut resultatet så att vi enkelt kan jämföra dina prognoser när vi rättar.\n\n\n\n\n\n\nTips\n\n\n\nTänk på att ta hänsyn till eventuella transformationer av de förklarande variablerna! Om ni har dist_fenway_park med i er prognosmodell behöver ni räkna ut dess värde för observationerna i datasetet Boston_districts_to_predict.RData (genom att använda latitud och longitud variablerna såsom i Avsnitt 3).\n\n\n\n\n\n\n\n\nUppgift 5.6 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here"
  },
  {
    "objectID": "interaktiv.html",
    "href": "interaktiv.html",
    "title": "Interaktivt lärande",
    "section": "",
    "text": "Här samlar vi alla interaktiva grafer (widgets) som vi länkar till från slides.\nExtramaterial: till varje interaktiv graf finns en interaktiv/reaktiv notebook med mer information, här finns en lista med alla notebooks. Dessa notebook ingår inte i kursen, men länkas här för den nyfikne studenten som vill läsa lite mer för en djupare förståelse.\n\nDel 1 - Dataanalys och Regression\nFöreläsning 3 - Val av antal bins i histogram:  widget | notebook\nFöreläsning 8 - Enkel linjär regression  widget - utan population\nwidget - med population | notebook\nFöreläsning 9 - Icke-linjär regression:  widget | notebook\n\n\nDel 2 - Sannolikhetsmodeller och Inferens\nFöreläsning 12 - Slantsingling och stora talens lag:  slantsingling - widget | slantsingling - notebook\nFöreläsning 13 - Bayes sats:  widget | notebook\nFöreläsning 14 - Normalfördelningen:  widget | notebook\nFöreläsning 15 - geometrisk fördelning:  widget\nFöreläsning 15 - binomialfördelning:  widget\nFöreläsning 15 - Poissonfördelning:  widget\nFöreläsning 15 - Maximum likelihoodskattning - Poissonfördelning:  widget\nFöreläsning 16 - likformig fördelning:  widget | notebook\nFöreläsning 16 - exponentialfördelning:  widget | notebook\nFöreläsning 16 - Student-t fördelning:  widget | notebook\nFöreläsning 16 - Allmän student-t fördelning:  widget | notebook\nFöreläsning 18 - Stora talens lag:  normalpopulation - widget | normalpopulation - notebook\nFöreläsning 18 - Centrala gränsvärdessatsen:  widget | notebook\nFöreläsning 21 - Chi2-fördelning:  widget\nVideoföreläsning - Beta-fördelning:  widget"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "",
    "text": "Kursens innehåll\n\nData finns numera överallt i samhället. Kursen Statistik och dataanalys I ger dig grunderna för att förstå och använda data, både som samhällsmedborgare och som avancerad dataanalytiker.\n\nKursen ger dig en översikt av metoder för statistisk dataanalys och dess många tillämpningar. En introduktion till dataanalys följs av praktisk datahantering i det populära statistiska programspråket R. Samband mellan variabler analyseras, och du tränas i hur statistiska modeller kan användas för att förutsäga nya data. Slutsatser från data är alltid osäkra och en viktig del av kursen är därför sannolikhetsberäkningar. Sannolikhetsteorin används sedan i de inferensmetoder som gör det möjligt att dra korrekta slutsatser från data och fatta optimala beslut under osäkerhet.\nDu lär dig att utföra dataanalyser i praktiken, bl a genom datorlaborationer och två inlämningsuppgifter, men kursen ger dig även en kritisk blick på statistik som gör att du kan ifrågasätta, tolka och söka ny information för att bättre svara på olika frågeställningar.\nKursen består av två delar:\n\nDataanalys och regression, 7.5 hp. I det här momentet ingår insamling, bearbetning, visualisering och sammanfattning av data i programspråket R. En stor del av momentet behandlar sambands- och regressionsanalys som utmynnar i metoder för prediktion.\nSannolikhetsmodeller och inferens, 7.5 hp. I kursens andra momentet behandlas sannolikheter, slumpvariabler och sannolikhetsfördelningar. En central del i momentet är inferens, dvs. statistiska metoder för att dra slutsatser om olika fenomen från data. Kursen avslutas med en introduktion till beslutsfattade under osäkerhet.\n\n\n\nKurslitteratur\n\nDe Veaux, R., Velleman, P. och Bock, D. (2021). Stats: Data and Models, 5:e upplagan, Pearson Global Edition, ISBN 9781292362212. Boken förkortas SDM nedan. Boken finns att köpa som fysisk bok på Akademibokhandeln Frescati eller City, eller online på Adlibris och Bokus. En digital version finns att köpa här.\nYtterligare kompletterande material som delas ut under kursens gång.\n\n\n\nKursstruktur\nKursen består av föreläsningar, räkneövningar och datorlaborationer. Se respektive del av kursen för detaljer: Dataanalys och regression, 7.5 hp. och Sannolikhetsmodeller och inferens, 7.5 hp..\n\n\n\nSchema\nKursens schema finns på TimeEdit. Ett tips är att välja Prenumerera i övre högra hörnet på TimeEdit och sen klistra in länken i ditt kalenderprogram på mobilen.\n\n\nFormel- och tabellsamlingar\n\nFormel- och tabellsamling innehåller de flesta av kursens formler och tabeller och kommer att delas ut under salstentamen.\nTabellsamling är en webb-version av tabellerna i Formel- och tabellsamling.\n\n\n\nInteraktivt material\nPå vissa delar av kursen använder vi interaktivt material för att underlätta lärandet. De interaktiva applikationerna kommer vara länkade från föreläsningsslides och under respektive föreläsning. En sida med alla applikationer finns här.\n\n\nLärare\n\n\n\n\nMattias VillaniKursansvarig och FöreläsareProfessor\n\n\n\nMatias QuirozFöreläsareUniversitetslektor\n\n\n\n\n\nMona SfaxiÖvningar, Datorövningar och JourMasterexamen i Statistik\n\n\n\nJon LachmannDatorövningarMasterexamen i Statistik\n\n\n\n\n\nGamla tentor med lösningar\n\n2023-02-10 [Obs! visas inte för studenter!]"
  },
  {
    "objectID": "R.html",
    "href": "R.html",
    "title": "R",
    "section": "",
    "text": "Kursen använder det populära statistiska programmeringsspråket R. Programmet är helt gratis och kan laddas ner på alla datorer."
  },
  {
    "objectID": "R.html#rstudio",
    "href": "R.html#rstudio",
    "title": "R",
    "section": "RStudio",
    "text": "RStudio\nR är lättast att jobba i från programmet RStudio. RStudio är en slags arbetsmiljö byggd kring R. Även RStudio är gratis."
  },
  {
    "objectID": "R.html#ladda-ner-r-och-rstudio",
    "href": "R.html#ladda-ner-r-och-rstudio",
    "title": "R",
    "section": "Ladda ner R och RStudio",
    "text": "Ladda ner R och RStudio\nDu måste först installera R och sen RStudio:\n\nR kan laddas ner här.\nRStudio kan laddas ner här.\n\nDen här YouTube videon går igenom alla steg i installationen.\nHär är våra egna steg-efter-steg instruktioner:\n\nWindows\nApple/Mac"
  },
  {
    "objectID": "R.html#tre-dialekter-av-r",
    "href": "R.html#tre-dialekter-av-r",
    "title": "R",
    "section": "Tre dialekter av R",
    "text": "Tre dialekter av R\nMan kan dela upp R’s språk i tre slags dialekter, dvs tre olika kommandon (syntax) för att göra ungefär samma sak:\n\nBase-R - (den ursprungliga) med dess s k dollar sign $ syntax\nFormula - syntax som via paketet Mosaic har utvecklats för undervisning i statistik\nTidyverse - en alternativ syntax utvecklat av personerna bakom RStudio.\n\n\n    \n\n\nI SDA1 kommer vi försöka använda Formula syntax som mycket som möjligt, med inslag av Base-R. Tidyverse-kod kan ofta vara extremt effektiv, men tar för lång tid att lära sig på en grundkurs i statistik. Vi kommer ibland visa hur man gör samma sak i de olika dialekterna, men på ett sätt som inte stör flödet för den student som helst vill hålla sig till ett sätt. Vi använder ikoner i marginalen som man kan klicka på för att se ett kommando i olika dialekter. Se t ex avsnittet om cheatsheets på denna sida för ett exempel (prova att klicka ikonerna i höger-marginalen)."
  },
  {
    "objectID": "R.html#guidertutorials",
    "href": "R.html#guidertutorials",
    "title": "R",
    "section": "Guider/Tutorials",
    "text": "Guider/Tutorials\n\nEn snabbtur i RStudio: video\nEn sammanfattning av R funktioner för SDA1.\nTutorial om hur man läser in data från Excel och text-filer. 🇬🇧\nQuarto för att skriva kompletta rapporter med kod. 🇬🇧\nhtml | pdf | video på Athena\nDet kan bli lite trassel med svenska åäö när man skriver R kod eller arbetar med Quarto. Här är en guide om hur man ändrar s k teckenkodning i RStudio så R klarar av dessa svenska bokstäver."
  },
  {
    "objectID": "R.html#cheat-sheets",
    "href": "R.html#cheat-sheets",
    "title": "R",
    "section": "Cheat sheets",
    "text": "Cheat sheets\n\nMosaic-paketet  i R med dess sk formula syntax används mycket under kursen och innehåller grundläggande statistiska metoder och grafik. Detta s k cheat sheet för mosaic sammanfattar de viktigaste metoderna i mosaic paketet. Klicka på ikonerna i marginalen om du är nyfiken på motsvarande cheatsheets för de andra två dialekterna av R. Om du vill jämföra de olika dialekterna sida vid sida kan du titta på R Syntax Comparison cheat sheet.\n\n\n\n  \n\nDenna RStudio cheat sheet är rätt rörig, men kan kanske vara användbar efter att man själv bekantat sig lite med RStudio.\nKursens egna R-paket sda1 (se nedan) har också ett cheat sheet."
  },
  {
    "objectID": "R.html#datamaterial",
    "href": "R.html#datamaterial",
    "title": "R",
    "section": "Datamaterial",
    "text": "Datamaterial\n\nKursboken Stats: Data and Models kommer med över 500 olika datamaterial som hittas här. Datamaterialen är i ofta i Excel-format, se denna guide om hur man läser in data från Excel i R.\nKursens R-paket sda1 (se nedan) innehåller också några datamaterial som kommer användas under kursen."
  },
  {
    "objectID": "R.html#kursens-r-paket",
    "href": "R.html#kursens-r-paket",
    "title": "R",
    "section": "Kursens R-paket",
    "text": "Kursens R-paket\nKursen har ett eget R-paket sda1 med några hjälpfunktioner och datamaterial som används på kursen.\ncheat sheet | manual\n\n\n\n\n\n\n\n\nInstallera kurspaketet\n\ninstall.packages(\"remotes\") \nlibrary(remotes)\ninstall_github(\"StatisticsSU/sda1paket\") \nlibrary(sda1)"
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.html#introduktion",
    "href": "datorlab/lab4/DatorLab4.html#introduktion",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "Introduktion",
    "text": "Introduktion\n\nI den här datorlabben kommer vi att beskriva samband mellan två numeriska variabler via punktdiagram och korrelation. Vi kommer också att modellera samband via både enkel och multiple linjär regression och lära oss tolka resultaten samt modellvalidering. Vi kommer att lära oss prediktion i linjär regression och hur man kan genomföra modellval genom korsvalidering. När data inte uppvisar ett linjärt samband ska vi lära oss hur man kan transformera data och anpassa en icke-linjär regression. Icke-linjär regression är svårare att tolka, men har klart bättre prediktionsförmåga om det finns icke-linjära samband mellan variabler. För de studenterna som är intresserade så finns det ett extra avsnitt som dyker lite djupare i R.\n\n\n💪 Uppgift 0.1\nSe till att paketen ovan är installerade innan du fortsätter med resten.\n\n\n💪 Uppgift 0.2\nSkapa en mapp Lab4 i din kursmapp SDA1 (såsom ni gjorde i Lab 1). Ladda ner Quarto-filen för denna lab genom att högerklicka här och välj ‘Spara länk’ eller något likande från menyn som dyker upp. Spara filen i din nya Lab4 mapp. Öppna Quarto-filen i RStudio. Du kan nu fortsätta med denna laboration direkt i Quarto-dokumentet, där du också fyller i svaren på dina laborationsövningar. Du kan alltså lämna den här webbsidan nu och fortsätta arbetet i RStudio.\nVäl inne i RStudio med öppnat Quarto-dokument i ‘Editor’ kan ni gå över till ‘Source mode’ genom att klicka på ‘Source’ i det vänstra hörnet av din ‘Editor’. Source mode är detaljerat och bra att skriva kod i eftersom man har full kontroll på dokumentet, men det är svårt att få en översikt av dokumentet. Prova nu att gå över till ‘Visual mode’ genom att klicka på ‘Visual’ i det vänstra hörnet av din ‘Editor’. Vi rekommenderar att ni mestadels arbetar i Visual mode, men att gå över till Source mode när man verkligen vill få till någon detalj som är svår att ändra i Visual mode. ´\n\n\n💪 Uppgift 0.3\nKlicka på knappen Render i Editor-fönstret för att kompilera filen till en webbsida (html). Webbsidan kommer antingen att visas i Viewer-fönstret i RStudio eller i webbläsaren på din dator. Om din webbsida visas i webbläsaren rekommenderar vi att du ändrar inställningarna i RStudio så webbsidan visas i Viewer-fönstret. Du ställer in detta på menyn Tools/Global Options… och sen väljer du Viewer Pane vid Show output preview in:\n\n\n\n\n\n\n\n💪 Uppgift 0.4\nQuarto säkerställer att man befinner sig i korrekt arbetsmapp när koden i dokumentet exekveras. Med korrekt arbetsmapp menas den mappen ni sparade .qmd filen i. Vill du komma åt dataseten via load() kommandot måste dataseten vara sparade i samma mapp.\nEtt vanligt arbetssätt är att man jobbar i RStudio i en separat .R fil, där man kan testa att köra kod innan den kopieras över till Quarto dokumentet. Den .R filen kommer inte att ha samma ‘working directory’ som Quarto filen. Du måste då använda setwd() funktionen i .R filen för att ställa in ‘working directory’. Notera att man också välja att skriva kod i Console som finns längst ner i RStudio. Där måste du också ställa in rätt ‘working directory’. Det är inte rekommenderat att använda Console eftersom koden inte sparas där. Du kanske kommer på något jättesmart som du glömmer att kopiera över till Quarto dokumentet och kan senare inte hitta det du skrev.\n\n\n\n\n\n\nRStudios Editor ändras beroende på vilken sorts fil du har öppen\n\n\n\nNotera att ikonerna i Editor är annorlunda när du har ett Quarto-dokument öppet jämfört med tidigare när vi hade en fil med ren R-kod (dvs en .R fil) öppen.\n\n\nSkapa en ny .R som du döper till Lab4_test_code.R och sparar i din Lab 4 mapp. Ställ in ‘working directory’ till den nya mappen genom att följa anvisningarna från Lab 1.\n\n\n💪 Uppgift 0.5\nLadda ner CAPM_data.RData (här), FevChildren.RData (här), RealEstate.RData (här), och Penguins.RData (här). Filerna kommer automatiskt att sparas ner, oftast i download mappen på datorn ni sitter vid. Kopiera över filerna till Lab4 mappen ni skapade ovan.\nSom vi gick igenom i Lab 3 finns det olika sätt att läsa in .RData filer genom load() funktionen. Ett sätt är att skriva t.ex load(\"FevChildren.RData\"). Notera att om du gör detta i Lab4_test_code.R förutsätter det att FevChildren.RData ligger i den arbetsmappen man angivit genom setwd() funktionen. Ett annat sätt att ladda in en .RData fil är att läsa in den direkt från webben med en kombination av load() funktionen och url() funktionen.\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab3/FevChildren.RData?raw=true\"))\nFevChildren_from_URL <- FevChildren\n\nArgumentet till url() funktionen är en sträng som innehåller länken till kurshemsidans git repository där FevChildren.RData finns lagrad. I raden efter har vi sparat dataframen i en variabel som heter FevChildren_from_URL så att du i nästa uppgift kan jämföra mot den du läser in från din lokala fil som du sparade ovan i i Lab3 mappen.\n\n\n💪 Uppgift 0.6\nAnvänd load() funktionen (utan url() funktionen) för att läsa in FevChildren.RData lokalt från din dator. Jämför den lokalt inlästa filen med den du läste in från webben (finns sparad i FevChildren_from_URL).\n\n# Write your code here\n\n\n\n\n\n\n\nTips\n\n\n\nFör att jämföra dataseten här räcker det att använda str() och head().\n\n\nDet är viktigt att ni vet hur man läser in .RData filer lokalt. Det kan vara så att github är tillfälligt nere, eller att ni temporärt jobbar utan tillgång till internet. I resten av labben så läses filerna in från webben, men nu vet ni hur ni kan göra om webben av någon anledning skulle vara nere."
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.html#samband-mellan-två-numeriska-variabler",
    "href": "datorlab/lab4/DatorLab4.html#samband-mellan-två-numeriska-variabler",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "1. Samband mellan två numeriska variabler",
    "text": "1. Samband mellan två numeriska variabler\nNumeriska variabler är variabler vars utfall är numeriska värden som har betydelse. En kategorisk variabel kan visserligen vara kodad som ett numeriskt värde, men värdet är godtyckligt. Ett exempel är variabeln smoking i FevChildren.RData, där ja är kodat som 1 och nej kodat som 0. Vi skulle lika gärna ha kodat ja som 0 och nej som 1. Eller till och med ja som -1 och nej som 1. Det är således viktigt att förstå att även kategoriska variabler kan ha numeriska utfall, men de räknas inte som numeriska variabler för det.\nEtt vanligt sambandsmått mellan två numeriska variabler är korrelation. Korrelation mäter det linjära sambandet mellan variablerna. Stickprovskorrelationen räknas enligt \\[r_{xy}=\\frac{\\sum z_xz_y}{n-1},\\]\ndär \\(z_x\\) och \\(z_y\\) är z-värden för \\(x\\) och \\(y\\), respektive. Som vanligt räknas dessa som \\[z_x=\\frac{x-\\overline{x}}{s_x}\\,\\,\\text{och} \\,\\,z_y=\\frac{y-\\overline{y}}{s_y},\\] där \\(\\overline{x}\\) och \\(\\overline{y}\\) är stickprovsmedelvärden samt \\(s_x\\) och \\(s_y\\) är stickprovsstandardavvikelser. Boken använder notationen \\(r\\) istället för \\(r_{xy}\\) i ekvationen ovan. Notationen \\(r_{xy}\\) betonar att man räknar korrelationen mellan de två variablerna \\(x\\) och \\(y\\).\nI Lab 3 introducerades datasetet CAPM_data.RData, som innehåller tidsserier över månadsavkastningar för olika finansiella tillgångar samt makroekonomiska variabler. Lab 3 innehåller detaljerad information om datasetet CAPM_data.RData. Vi ska illustrera korrelationsbegreppet med hjälp av det här datasetet, men det är viktigt att förstå att korrelation är ett allmänt mått för det linjära sambandet mellan två variabler, oavsett om variablerna är tidsserier eller inte! Den enda förutsättningen för att beräkna korrelationen är att variablerna är numeriska.\nLåt oss räkna korrelationen mellan två tillgångar, till exempel IBM och CITCRP med hjälp av funktionen cor() i mosaic-paketet.\n\nsuppressMessages(library(mosaic))\n\nWarning: package 'mosaic' was built under R version 4.2.2\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab3/CAPM_data.RData?raw=true\"))\ncor(IBM ~ CITCRP, data = CAPM)\n\n[1] 0.4237027\n\n\nVi ser att korrelationen är positiv och har ett värde runt 0.43.\n\n💪 Uppgift 1.1\nBeräkna den omvända korrelationen, dvs korrelationen CITCRP och IBM. Kan du förklara varför svaret är samma som ovan?\n\n\n\n\n\n\nTips\n\n\n\nBetrakta formeln för \\(r_{xy}\\) ovan. Vad händer om man istället räknar \\(r_{yx}\\), dvs kastar om ordningen på \\(x\\) och \\(y\\)?\n\n\n\n# Write your code here\n\nEftersom korrelation endast beskriver ett linjärt samband, antas det att variablerna förhåller sig approximativt linjärt till varandra för att den ska anses vara ett lämpligt sambandsmått. Vi kan göra ett punktdiagram för att validera antagandet.\n\nplot(IBM ~ CITCRP, data = CAPM, col = \"cornflowerblue\")\n\n\n\n\nVi ser inga tydliga avvikelser från det linjära antagandet och således är korrelationen ett rimligt mått på sambandet. Figuren visar ett positivt samband mellan variablerna.\nAntag att vi vill räkna den parvisa korrelationen mellan flera variabler. Vi skulle kunna repetera koden cor(IBM ~ CITCRP, data = CAPM), där vi byter ut IBM och CITCRP mot alla parvisa kombinationer av de variablerna vi är intresserade utav. Mer elegant (och mindre tidskrävande!) så kan vi skapa en såkallad korrelationsmatris. För att illustrera korrelationsmatrisen, låt oss betrakta följande variabler: MARKET, RKFREE, WEYER, BOISE, CONED, CITCRP DATGEN, DEC,DELTA och CPI. Alla dessa förutom MARKET, RKFREE och CPI är månadsavkastningar för stora börsnoterade företag. MARKET är marknadens månadsavkastning, RKFREE är avkastningen på en riskfri tillgång (statsobligationsränta) och CPI är konsumentprisindex. Låt oss skapa en ny dataframe där vi enbart behåller variablerna av instresse.\n\nCAPM_10_variables <- CAPM[, c(\"MARKET\", \"RKFREE\", \"WEYER\", \"BOISE\", \"CONED\", \"CITCRP\", \"DATGEN\", \"DEC\", \"DELTA\", \"CPI\")]\nhead(CAPM_10_variables)\n\n  MARKET  RKFREE  WEYER  BOISE  CONED CITCRP DATGEN    DEC  DELTA   CPI\n1 -0.045 0.00487 -0.116 -0.079 -0.079 -0.115 -0.084 -0.100 -0.028 166.7\n2  0.010 0.00494 -0.135  0.013 -0.003 -0.019 -0.097 -0.063 -0.033 167.1\n3  0.050 0.00526  0.084  0.070  0.022  0.059  0.063  0.010  0.070 167.5\n4  0.063 0.00491  0.144  0.120 -0.005  0.127  0.179  0.165  0.150 168.2\n5  0.067 0.00513 -0.031  0.071 -0.014  0.005  0.052  0.038 -0.031 169.2\n6  0.007 0.00527  0.005 -0.098  0.034  0.007 -0.023 -0.021  0.023 170.1\n\n\nVi kan nu skapa och spara korrelationsmatrisen i en variabel correlation_matrix_CAPM genom cor(). Notera att input till funktionen är den nya dataframen vi har skapat och att ingen formula-syntax används.\n\ncorrelation_matrix_CAPM <- cor(CAPM_10_variables)\nround(correlation_matrix_CAPM, 3)\n\n       MARKET RKFREE  WEYER  BOISE CONED CITCRP DATGEN    DEC  DELTA    CPI\nMARKET  1.000 -0.100  0.656  0.652 0.124  0.564  0.551  0.581  0.349 -0.060\nRKFREE -0.100  1.000 -0.142 -0.176 0.057  0.001 -0.102 -0.139  0.007 -0.456\nWEYER   0.656 -0.142  1.000  0.751 0.158  0.540  0.481  0.590  0.490  0.067\nBOISE   0.652 -0.176  0.751  1.000 0.209  0.590  0.534  0.552  0.454  0.059\nCONED   0.124  0.057  0.158  0.209 1.000  0.269  0.096  0.108  0.092  0.054\nCITCRP  0.564  0.001  0.540  0.590 0.269  1.000  0.533  0.489  0.397  0.090\nDATGEN  0.551 -0.102  0.481  0.534 0.096  0.533  1.000  0.576  0.330 -0.048\nDEC     0.581 -0.139  0.590  0.552 0.108  0.489  0.576  1.000  0.429  0.029\nDELTA   0.349  0.007  0.490  0.454 0.092  0.397  0.330  0.429  1.000 -0.034\nCPI    -0.060 -0.456  0.067  0.059 0.054  0.090 -0.048  0.029 -0.034  1.000\n\n\nOvan har round() funktionen använts för avrunda till tre decimaler så att utskriften blir tydligare. Korrelationsmatrisen anger korrelationen för alla parvisa kombinationer av variabeln. Exempelvis, om vi kollar på rad 4 och kolumn 7 så återfinns korrelationen mellan BOISE och DATGEN i den cellen, som har värdet 0.534. Korrelationsmatrisen är symmetrisk: om vi kollar på rad 7 och kolumn 4 hittar vi också värdet 0.534, eftersom korrelationen inte tar hänsyn till ordningen.\n\n\n💪 Uppgift 1.2\nVarför är diagonalelementen i korrelationsmatrisen 1?\n\n\n💪 Uppgift 1.3\nAnvänd cor() med formula-syntax för att beräkna korrelationen mellan DELTA och DEC. Stäm av att resultatet är densamma som korrelationsmatrisen visar (tänk på att vi avrundade, så resultaten kommer inte stämma exakt).\n\n# Write your code here\n\nInformationen i en korrelationsmatris kan vara svår att utläsa pga alltför många siffror. En korrelationsplot illustrerar korrelationerna med färgskalor och är mycket enklare att utläsa. Funktionen corrplot() från corrplot-paketet tar en korrelationsmatris som argument för att skapa plotten. Vi skapade korrelationsmatrisen ovan (correlation_matrix_CAPM).\n\nsuppressMessages(library(corrplot))\n\nWarning: package 'corrplot' was built under R version 4.2.2\n\ncorrplot(correlation_matrix_CAPM)\n\n\n\n\n\n\n💪 Uppgift 1.4\nSvara på följande frågor:\n\nHitta två variabler som har en svag negativ korrelation på ungefär -0.2. Använd plot() för att plotta variablerna mot varandra.\nHitta två variabler som har en svag positiv korrelation på ungefär 0.2. Använd plot() för att plotta variablerna mot varandra.\nHitta de två variabler som har starkast negativ korrelation. Är det rimligt att dessa variabler är negativt korrelerade?\n\n\n# Write your code here\n\nBara för att en korrelation mellan två variabler är nära noll betyder det inte att det inte finns något samband. Låt oss illustrera detta med ett exempel där vi använder slumptal för att skapa två variabler \\(x\\) och \\(y\\) som har ett icke-linjärt samband, men en korrelation som är nära noll. Simulering av slumptal tas upp i andra delen av kursen. Ni behöver inte förstå koden nu, men det är viktigt att ni förstår slutsatsen som snart att presenteras.\n\nset.seed(10) # Same random numbers generated every run\nx <- rnorm(n = 1000, sd = 1) # Simulate a normal variable with standard deviation 1\ny <- -5*x^2 + rnorm(n = 1000)\nplot(x, y, col = \"cornflowerblue\")\n\n\n\n\nDet finns ett uppenbart kvadratiskt samband mellan \\(y\\) och \\(x\\). Låt oss beräkna korrelationen.\n\ncor(x, y)\n\n[1] -0.003297157\n\n\nKorrelationen är nästan noll! Slutsatsen är att om vi bara hade hade fokuserat på korrelationen, utan att plotta \\(y\\) mot \\(x\\), så hade vi alltså missat detta uppenbara samband.\nI korrelationsplotten ovan är det många korrelationer som är nära noll och vi måste försäkra oss om att vi inte har missat några uppenbara icke-linjära samband. Vi kan plotta alla parvisa kombinationer av de variablerna vi är intresserade utav med hjälp av plot() funktionen. Mer elegant (och mindre tidskrävande!) så kan vi använda funktionen pairs() som gör punktdiagram av alla parvisa kombinationer av variablerna i en dataframe.\n\npairs(CAPM_10_variables, col = \"cornflowerblue\")\n\n\n\n\n\n\n💪 Uppgift 1.5\nFinns det uppenbara icke-linjära samband för de variablerna som hade nära noll korrelation enligt korrelationsplotten?\n\n\n💪 Uppgift 1.6\nStudera plottarna för variablerna som var korrelerade enligt korrelationsplotten. Kan ni utläsa tecknena på korrelationerna (positiva eller negativa) utifrån punktdiagrammen?"
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.html#enkel-linjär-regression",
    "href": "datorlab/lab4/DatorLab4.html#enkel-linjär-regression",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "2. Enkel linjär regression",
    "text": "2. Enkel linjär regression\nEn linjär regression är användbar för att beskriva det linjära sambandet mellan en responsvariabel \\(y\\) och en förklarande variabel \\(x\\). Med en anpassad linjär regressionsmodell kan man, likt Avsnitt 1, beräkna korrelationen mellan \\(y\\) och \\(x\\). Men en linjär regressionsmodell erbjuder mer än så. Vi kan t.ex kvantifiera hur en förändring i \\(x\\) är associerad med en förändring i \\(y\\). Och kanske viktigast (och roligast!) av allt: vi kan givet ett nytt \\(x\\) prediktera det genomsnittliga värdet på \\(y\\).\nLåt oss illustrera enkel linjär regression med hjälp av datasetet FevChildren.RData som illustrerades i Lab 3. Vi anpassar en enkel linjär regression med responsvariabel utandningsvolymen (fev) och förklarande variabel längd (height) med hjälp av funktionen lm() som står för linear model och sparar resultatet i en variabel vi döper till lm_fev_vs_height.\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab3/FevChildren.RData?raw=true\"))\nlm_fev_vs_height <- lm(fev ~ height, data = FevChildren)\n\nVi ser ovan att lm() funktionen använder samma alternativa formula-syntax som plot() funktionen, dvs av typen y ~ x.\n\n\n\n\n\n\nExtra material för de nyfikna studenterna (detta avsnitt kan skippas)\n\n\n\nFunktionen lm() returnerar ett objekt som är en instans (en realiserad kopia) av klass lm. En klass är enkelt beskrivet en abstrakt kodmall där det anges vilka variabler som lagras i objektet, så kallade attribut, och vilka funktioner som går att använda på objektet. Vi kan se klasstypen genom att anropa class() funktionen.\n\nclass(lm_fev_vs_height)\n\n[1] \"lm\"\n\n\nInnehållet i objektet kan visas med anropet str(lm_fev_vs_height), som visar objektets struktur på ett kompakt sätt.\n\n💪 Extra Uppgift 1\nAnvänd str() enligt ovan för att få en översikt av innehållet i objektet lm_fev_vs_height. Känner du igen några av namnen (som följer efter $-tecknet) från föreläsningarna?\n\n# Write your code here\n\nVi har stött på $-tecknet i samband med att vi hämtade ut en variabel från en dataframe i Lab 3: Om my_data är en dataframe som innehåller en variabel x kommer vi åt den via my_data$x. Vi återkommer snart till $-tecknet, men låt oss först dyka lite djupare i R.\nVi nämnde inte det i Lab 3, men my_data är också ett objekt! Den är en instans av klassen dataframe. I själva verket är allt i R objekt! R är vad man kallar ett objektorienterat programmeringsspråk. Allt vi skapar i R, vare sig det är en variabel, funktion eller till och med en tabell, är objekt, dvs instanser av olika klasser.\n\nx <- -3\nclass(x)\n\n[1] \"numeric\"\n\nf <- function(x) {x^2} # Simple function that squares a number.\nclass(f)\n\n[1] \"function\"\n\nt <- tally(age.group ~ smoking, data = FevChildren)\nclass(t)\n\n[1] \"table\"\n\n\n\n\n💪 Extra Uppgift 2\nAnvänd funktionen ‘f()’ ovan för att räkna ut \\(3^2\\) och spara resultatet i en variabel y. Vilken klass är objektet y en instans av? Fundera på svaret innan ni tar reda på det med hjälp av funktionen class().\n\n# Write your code here\n\nDet går att dyka djupare i Rs objektorienterade värld, men vi låter bli och hänvisar istället till institutionens Introduktionskurs i R-programmering.\nÅter till användandet av $-tecknet. Vi använder $-tecknet för att hämta ett objekts attribut (en variabel som lagras i objektet). Funktionen attributes() listar namnen på de olika attributen.\n\nattributes(lm_fev_vs_height)\n\n$names\n [1] \"coefficients\"  \"residuals\"     \"effects\"       \"rank\"         \n [5] \"fitted.values\" \"assign\"        \"qr\"            \"df.residual\"  \n [9] \"xlevels\"       \"call\"          \"terms\"         \"model\"        \n\n$class\n[1] \"lm\"\n\n\nExempelvis så lagras minsta kvadratskattningarna i attributet coefficients.\n\nlm_fev_vs_height$coefficients\n\n(Intercept)      height \n-5.74145229  0.05380877 \n\n\n\n\n💪 Extra Uppgift 3\nGör ett histogram för residualerna för den anpassade modellen ovan.\n\n# Write your code here.\n\n\n\n\nFunktionen lm() returnerar ett såkallat objekt (som vi sparat i variabeln lm_fev_vs_height) av klass lm som förklaras i extra materialet ovan. Vi behöver inte veta detaljerna, men en viktig sak att veta är att det finns många användbara funktioner vi kan applicera på vårt objekt. En sådan funktion är summary() som skriver ut resultaten från regressionen i ett snyggt format.\n\nsummary(lm_fev_vs_height)\n\n\nCall:\nlm(formula = fev ~ height, data = FevChildren)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1.76006 -0.25417  0.00064  0.23903  2.10393 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) -5.741452   0.210370  -27.29   <2e-16 ***\nheight       0.053809   0.001337   40.25   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.4327 on 604 degrees of freedom\nMultiple R-squared:  0.7284,    Adjusted R-squared:  0.7279 \nF-statistic:  1620 on 1 and 604 DF,  p-value: < 2.2e-16\n\n\nEfter Del 2 av kursen kommer ni känna igen i princip allt i utskriften ovan. Det vi har gått på Del 1 är:\n\nResiduals: Visar fördelningsmåtten för residualerna, samt minsta och största värde.\nCoefficients: Estimate kolumnen visar minsta kvadratskattningarna. Intercept och height betecknar vi med, respektive, \\(b_0\\) och \\(b_1\\) på föreläsningarna.\nResidual standard error: Residualernas standardavvikelse som vi betecknar med \\(s_e\\) på föreläsningarna.\nMultiple R-squared: R-kvadrat som vi betecknar med \\(R^2\\) på föreläsningarna.\nAdjusted R-squared: Justerat R-kvadrat som vi betecknar med \\(R_{\\mathrm{adj}}^2\\) på föreläsningarna.\n\nLåt oss tolka resultaten ovan. 72.84% av variationen i forcerad utadningsvolym förklaras av variabeln längd. Minsta kvadratanpassningen är \\[\\widehat{fev} = b_0 + b_1height =-5.741 + 0.054height.\\] Tolkningen för \\(b_0=-5.741\\) är den predikterade genomsnittliga forcerade utandningsvolymen för barn och ungdomar som är 0 cm långa, vilket inte är meningsfullt. Vi kan inte göra en kausal tolkning för \\(b_1\\) eftersom det inte är så att längden medför bättre eller sämre lugnkapacitet. Istället säger vi att barn och ungdomar som är 1 cm längre tenderar att i genomsnitt ha \\(b_1=0.054\\) fler enheter forcerad utandningsvolym (än de som är 1 cm kortare). Vi kan också använda oss av \\(b_1\\) för att till exempel säga att barn och ungdomar som är 10 cm längre tenderar att ha \\(10\\cdot b_1 = 0.54\\) fler enheter forcerad utandningsvolym (än de som är 10 cm kortare).\nVårt dataset innehåller forcerad utandningsvolym och längd hos 606 individuella barn och ungdomar. Vår anpassade modell ger oss 606 prediktioner av de genomsnittliga forcerade utandningsvolymerna, dvs en prediktion \\(\\hat{y}_i\\) (fev) för varje \\(x_i\\) (height) i datasetet. Dessa kan fås genom funktionen predict(). Låt oss plotta data tillsammans med de predikterade värden i samma figur med hjälp av funktionen lines() som användes i Lab 3. Vi använder också funktionen abline() som ritar den räta linjen (minsta kvadratanpassningen).\n\nplot(fev ~ height, data = FevChildren, col = \"cornflowerblue\", ylim = c(0, 7))\ny_hat <- predict(lm_fev_vs_height)\nhead(y_hat)\n\n       1        2        3        4        5        6 \n2.048981 3.484061 1.707295 1.502284 2.048981 2.595678 \n\nlines(FevChildren$height, y_hat, type = \"p\", col = \"lightcoral\")\nabline(lm_fev_vs_height, col = \"lightcoral\")\nlegend(x = \"topleft\", pch = c(1, 1, NA), lty = c(NA, NA, 1), col = c(\"cornflowerblue\", \"lightcoral\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\", \"Fitted line\"))\n\n\n\n\nDet enda argumentet ni inte har stött på tidigare är pch = c(1, 1, NA) som anger att de två första ska vara cirkelsymboler i legendtexten och anger ingen cirkelsymbol för den sista. Argumentet lty = c(NA, NA, 1) anger en linje för den sista men ingen linje för de två första.\nAntag att vi vill prediktera genomsnittliga forcerade utandningsvolymen för längder som inte finns med bland de 606 observationerna, exempelvis \\(x=150\\) och \\(x=160\\). Vi kan använda predict() funktionens argument newdata som är en dataframe med samma variabelnamn som vi använde när vi anpassade modellen (height) i vårt fall. Följande kod skapar dataframen i en variabel vi väljer att kalla new_x och predikterar de genomsnittliga forcerade utandningsvolymerna för de nya \\(x\\) värden ovan.\n\nnew_x <- data.frame(height = c(160, 170))\npredict(lm_fev_vs_height, newdata = new_x)\n\n       1        2 \n2.867951 3.406038 \n\n\nExempelvis ser vi att ett barn (eller en ungdom) på 170 cm har i genomsnitt ett fev-värde på ca 3.4.\n\n💪 Uppgift 2.1\nPrediktera responsen för \\(x=180\\) och \\(x=190\\). Tolka resultaten.\n\n# Write your code here\n\nFör att kolla modellens rimlighet kan vi göra en residualanalys. Följande tre kriterier är viktiga:\n\nResidualerna ska bete sig slumpmässigt, dvs de ska inte uppvisa ett mönster.\nResidualernas varians ska vara konstant, dvs inte bero på \\(x\\).\nResidualerna ska vara approximativt normalfördelade.\n\nDe två senare kriterierna blir viktiga när vi gör inferens i regressionsmodellen (Del 2) av kursen. När första kriterier inte är uppfyllt betyder det ofta att sambandet i data är icke-linjärt.\nResidualerna kan fås genom funktionen residuals():\n\nresid <- residuals(lm_fev_vs_height)\nhead(resid)\n\n          1           2           3           4           5           6 \n-0.34098108 -1.76006091  0.01270459  0.05571600 -0.15398108 -0.25967816 \n\n\nFöljande kod gör residualanalysen.\n\nplot(FevChildren$height, resid, xlab= \"height\", ylab='Residuals', col = \"cornflowerblue\") \n\n\n\nqqnorm(resid, col = \"cornflowerblue\") # Create normal probability plot for residuals\nqqline(resid, col = \"red\") # Add a straight line to normal probability plot \n\n\n\n\nFörsta plotten visar att residualerna inte ter sig slumpmässigt — de visar ett, om än svagt, kvadratiskt samband. Plotten visar också en tydlig indikation på att residualernas varians inte är konstant, eftersom de varierar mer ju större height blir.\nDessa resultat är inte överraskande om vi noga betraktar punktdiagrammet fev mot height igen samt den anpasssade linjen.\n\nplot(fev ~ height, data = FevChildren, col = \"cornflowerblue\")\nabline(lm_fev_vs_height, col = \"lightcoral\")\n\n\n\n\nResidualerna beräknas som avståndet mellan observationerna och dess predikterade värden (som ligger på linjen). Större avvikelser förekommer för större värden på height jämfört med mindre värden, därav en högre residualvarians. Data verkar inte heller följa den räta linjen eftersom en liten grad av icke-linjaritet verkar finnas. I Avsnitt 3 går vi i igenom hur vi kan anpassa en icke-linjär regression för att få bättre resultat.\n\n\n💪 Uppgift 2.2\nExemplet ovan visar hur man anpassar en enkel linjär regression, tolkar resultaten, predikterar responsen för nya \\(x\\) värden och slutligen hur man validerar modellen. Gör en regressionsanalys med responsvariabel IBM och förklarande variabel MARKET i CAPM_data.RData som inkluderar dessa steg. För prediktion, antag att vi vill förutspå vad som händer med IBM aktien om det sker en börskrasch och marknadsportföljen faller med 15% under en månad. Vad kan man förutsäga om IBM aktiens månadsavkastning i ett sådant scenario?\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.html#enkel-icke-linjär-regression",
    "href": "datorlab/lab4/DatorLab4.html#enkel-icke-linjär-regression",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "3. Enkel icke-linjär regression",
    "text": "3. Enkel icke-linjär regression\nI Avsnitt 2 såg vi att regressionslinjen \\[\\widehat{fev} = b_0 + b_1height\\] inte var tillräcklig. Vi kan använda icke-linjär regression för att få en bättre anpassning till data. Icke-linjär regression transformerar data så att sambandet blir linjärt efter att transformering. Tranformationerna syfte är alltså att “räta ut” data och vi kan visuellt inspektera om så är fallet. Ett annat syfte med transformationer är att de ibland gör antagandet om konstant residualvarians mer troligt, vilket också kan studeras visuellt.\nVi använder oss av den så kallade ladder of powers (stege av potenstransformationer) för att “räta ut” data med hjälp av potenstransformationer. Stegen av potenstransformationer visas nedan.\n\nPotenstransformationer för \\(y\\) och \\(x\\).\n\n\nStegnivå\n\\(y\\)\n\\(x\\)\n\n\n\n\n1\n\\(y^2\\)\n\\(x^2\\)\n\n\n2\n\\(y\\)\n\\(x\\)\n\n\n3\n\\(y^{1/2}\\)\n\\(x^{1/2}\\)\n\n\n4\n\\(\\log(y)\\)\n\\(\\log(x)\\)\n\n\n5\n\\(-y^{-1/2}\\)\n\\(-x^{-1/2}\\)\n\n\n6\n\\(-y^{-1}\\)\n\\(-x^{-1}\\)\n\n\n\nTukeys cirkel är en tumregel för hur vi flyttar oss upp och ner i stegen.\n\n\n\nTukeys cirkel.\n\n\nVi börjar med att både \\(y\\) och \\(x\\) befinner sig på stegnivå 2 och flyttar sig sedan uppåt eller nedåt beroende på var i Tukeys cirkel vi befinner oss. Plotten fev mot height indikerar att vi befinner oss i fjärde kvadranten i Tukeys cirkel. Vi ska alltså gå ner i stegen för \\(y\\) och/eller upp i stegen för \\(x\\) tills förhållandet ser mer linjärt ut. Och/eller här betyder att man “flyttar båda”/“flyttar enbart en”. Notera också att en av variablerna kan stanna i stegen medan man flyttar den andra uppåt eller nedåt fler än ett steg.\n\nplot(fev ~ height, data = FevChildren, col = \"cornflowerblue\")  # Starting point: Both y and x  untransformed (Step 2 in the ladder of powers) \n\n\n\nplot(sqrt(fev) ~ height, data = FevChildren, col = \"cornflowerblue\") # y down in the ladder of powers\n\n\n\nplot(fev ~ I(height^2), data = FevChildren, col = \"cornflowerblue\") # x up in the ladder of powers\n\n\n\nplot(sqrt(fev) ~ I(height^2), data = FevChildren, col = \"cornflowerblue\") # y down and x up in the ladder of powers\n\n\n\nplot(log(fev) ~ I(height), data = FevChildren, col = \"cornflowerblue\") # y down two steps\n\n\n\n\nVi kommenterar den mystiska funktionen I() som dyker upp i högerledet på formula-syntaxen y ~ I(x^2) i rutan nedan. Man kan hoppa över rutan, det enda viktiga är att veta att funktionen I() behöver användas i högerledet av formula-syntax om man vill transformera x för att inga misstolkningar ska ske.\n\n\n\n\n\n\nExtra förklaring för de nyfikna studenterna (detta avsnitt kan skippas)\n\n\n\nFormula-syntaxen tillåter att man applicerar en transformation i vänsterledet utan att använda I(), dvs vi kan skriva till exempel sqrt(y) ~ x istället för I(sqrt(y)) ~ x. Detsamma gäller inte högerledet eftersom i formula-syntax så har vissa operationer en annan betydelse när de utförs på den förklarande variabeln. Till exempel anpassar lm(y ~ x*z) en linjär regression med så kallade interakationseffekter1 mellan de förklarande variablerna \\(x\\) och \\(z\\), vilket har formen \\[\\hat{y} = b_0 + b_1x + b_2 z  + b_3xz.\\] När man använder funktionen I() i högerledet undgår man att formula-syntax tolkar fel.\n\n\nVi skulle kunna utvärdera vilken av transformationerna är att föredra med korsvalidering (se Avsnitt 5). Här nöjer vi oss med en utvärdering baserad på grafernas utseende. Vi ser att alla transformationerna resulterar i ett mer linjärt förhållande jämfört med ursprungsdatan (innan transformationerna). Visuellt konstaterar vi att de två sista transformationerna verkar rätar ut data bäst. Vi väljer den sista transformationen eftersom den verkar uppnå en jämnare spridning runt linjen, vilket kommer resultera i residualer med en mer konstant varians.\nDen anpassade linjen har formen \\[\\widehat{\\log(fev)} = b_0 + b_1height,\\] där vi snart ska använda lm() för att beräkna koefficienterna \\(b_0\\) och \\(b_1\\). Men först en viktig varning.\n\n\n\n\n\n\nVarning\n\n\n\nI linjär regression tolkade vi \\(b_1\\) som förändringen i responsvariablen \\(y\\) som är associerad med en en-enhets förändring i den förklarande variabeln \\(x\\).\nNär man transformerar \\(x\\) så finns det inga enkla tolkningar av \\(b_1\\), oavsett om \\(y\\) är transformerad eller inte!\nNär man enbart transformerar \\(y\\) men inte \\(x\\) är tolkningen i den transformerade skalan. I vårt exempel är \\(b_1\\) den förändringen i \\(\\log(y)\\) som är associerad med en en-enhets förändring i den förklarande variabeln \\(x\\). Man kan ibland, beroende på transformationen av \\(y\\), använda \\(b_1\\) för att få en enkel tolkning även i den originala skalan. Vi går inte igenom sådana tolkningar av \\(b_1\\) för icke-linjär regression i den här kursen2.\n\n\nÄr det ens värt att anpassa en modell där koefficienterna inte går att tolka på ett enkelt sätt? Om målet med modellen är att prediktera bättre (jämfört med en linjär regression) så är svaret definitivt ja3.\nPrecis som i Avsnitt 2 kan vi använda minsta kvadratmetoden (genom lm()) för att anpassa modellen på de transformerade data. När vi använder prediktion måste vi tänka på att vi har transformerat variablerna. I det här specifika exemplet med tranformationen log(fev) kommer funktionen predict() att prediktera den genomsnittliga \\(\\log(fev)\\) nivån. Vi vill prediktera i originalskala, dvs responsvariabeln \\(y\\) (fev) och inte \\(\\log(y)\\) (log(fev)). Men vi kan använda prediktionen för \\(\\log(y)\\) och “reversera transformationen”, dvs få transformationen ogjord, för att beräkna prediktionen för \\(y\\). En funktion som reverserar en transformation kallas för en inverstransformation. Tabellen nedan anger inversetransformationerna (kolumnen till höger) vi kan använda oss av när vi predikterar i originalskala. Transformationerna motsvarar de i ladder of powers.\n\nPrediktion i originalskala (kolumn till höger) för olika transformerade responser (kolumn till vänster).\n\n\nTransformation av responsen\nPrediktion i \\(y\\)-skala (\\(\\widehat{y}\\))\n\n\n\n\n\\(y^2\\)\n\\(\\left(\\widehat{y^2}\\right)^{1/2}\\)\n\n\n\\(y\\)\n\\(\\widehat{y}\\)\n\n\n\\(y^{1/2}\\)\n\\(\\left(\\widehat{y^{1/2}}\\right)^2\\)\n\n\n\\(\\log(y)\\)\n\\(\\exp\\left(\\widehat{\\log(y)}\\right)\\)\n\n\n\\(-y^{-1/2}\\)\n\\(\\left(\\widehat{-y^{-1/2}}\\right)^2\\)\n\n\n\\(-y^{-1}\\)\n\\(-\\left(\\widehat{-y^{-1}}\\right)^{-1}\\)\n\n\n\n\n\n\n\n\n\nExtra förklaring för de nyfikna studenterna (detta avsnitt kan skippas)\n\n\n\nLåt transformationen av \\(y\\) betecknas \\(\\tilde{y}\\). Vi kan härleda den inversa transformationen genom att lösa för \\(y\\) i ekvationen \\(\\tilde{y}=g(y)\\) där \\(g()\\) är transformationen.\nLåt oss härleda den inversa transformationen av log-transformationen. Eftersom \\(\\tilde{y}=\\log(y)\\) så är \\[\\exp\\left( \\tilde{y} \\right) = \\exp(\\log(y)) \\implies y = \\exp\\left( \\tilde{y} \\right),\\] dvs exponential-funktionen är den inversa transformen.\nNotera att när vi predikterar \\(y\\) (responsen i originalskala) så sker det i två steg. I det första steget använder vi regressionen för att prediktera \\(\\tilde{y}\\) (responsen i transformed skala, log-skala i exemplet ovan), vilket ger prediktionen \\(\\widehat{\\tilde{y}}\\) (\\(\\widehat{\\log(y)}\\) i exemplet ovan). I andra steget applicerar vi den inversa transformen (\\(\\exp()\\) för log-transformationen) på \\(\\widehat{\\tilde{y}}\\) för att få \\(\\widehat{y}\\) (\\(\\exp\\left(\\widehat{\\log(y)}\\right)\\) i exemplet ovan) som är prediktionen av \\(y\\) (originalskala).\n\n💪 Extra Uppgift 4\nHärled alla de övriga (eller så många du orkar) inversa transformationerna i tabellen ovan.\n\n\n\nVi är nu redo att anpassa den nya regressionen \\[\\widehat{\\log(fev)} = b_0 + b_1height,\\] samt prediktera och genomföra en residualanalys.\n\nlm_logfev_vs_height <- lm(log(fev) ~ height, data = FevChildren)\nsummary(lm_logfev_vs_height)\n\n\nCall:\nlm(formula = log(fev) ~ height, data = FevChildren)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.69706 -0.09037  0.01058  0.08988  0.43795 \n\nCoefficients:\n              Estimate Std. Error t value Pr(>|t|)    \n(Intercept) -2.2227934  0.0717623  -30.97   <2e-16 ***\nheight       0.0202071  0.0004561   44.31   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1476 on 604 degrees of freedom\nMultiple R-squared:  0.7647,    Adjusted R-squared:  0.7643 \nF-statistic:  1963 on 1 and 604 DF,  p-value: < 2.2e-16\n\n\nMinsta kvadratskattningarna är nu \\(b_0=-2.222\\) och \\(b_1=0.020\\). \\(R^2=0.76145\\) betyder att ca 76% av variationen i log(fev) (observera log i tolkningen!) förklaras av height.\n\nlogy_hat <- predict(lm_logfev_vs_height) # log scale prediction\ny_hat <- exp(logy_hat) # original scale prediction\nhead(logy_hat)\n\n        1         2         3         4         5         6 \n0.7027882 1.2417111 0.5744732 0.4974842 0.7027882 0.9080922 \n\nhead(y_hat)\n\n       1        2        3        4        5        6 \n2.019375 3.461531 1.776195 1.644579 2.019375 2.479587 \n\nplot(fev ~ height, data = FevChildren, col = \"cornflowerblue\", ylim = c(0, 7)) # Data on original scale\nlines(FevChildren$height, y_hat, type = \"p\", col = \"lightcoral\")\nlegend(x = \"topleft\", pch = c(1, 1), col = c(\"cornflowerblue\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\"))\n\n\n\n\nNotera att till skillnad från när vi anpassade fev ~ height så använder vi här inte abline() (som ritar en rät linje), eftersom regressionen är icke-linjär. Vi nöjer oss med att markera ut de enskilda prediktionsvärden, men se rutan nedanför på hur man kan göra om man vill rita en kurva.\n\n\n\n\n\n\nExtra: Rita den anpassade kurvan i icke-linjär regression\n\n\n\nNotera att eftersom observationerna inte ligger i ordning för \\(x\\) variabeln så kan vi inte binda ihop de röda punkterna ovan med en linje. Det ser konstigt ut som följande figur visar:\n\nplot(fev ~ height, data = FevChildren, col = \"cornflowerblue\", ylim = c(0, 7), main = \"Strange looking plot\") # Data on original scale\nlines(FevChildren$height, y_hat, type = \"p\", col = \"lightcoral\") # Prediction of data points\nlines(FevChildren$height, y_hat, type = \"l\", col = \"lightcoral\") # line\nlegend(x = \"topleft\", pch = c(1, 1), col = c(\"cornflowerblue\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\"))\n\n\n\n\nMan skulle kunna sortera datasetet i stigande ordning på height och sedan binda ihop varje punkt med en linje. Men om punkterna ligger med en bit avstånd i \\(x\\)-led så är inte det här en bra lösning, eftersom det dras en rät linje mellan punkterna och kurvan vi plottar är inte rät. En bättre lösning är att skapa ett rutnät (grid på engelska) med många punkter i \\(x\\)-led och sedan prediktera för varje punkt i rutnätet. Ett rutnät är en indelning av ett intervall \\([a,b]\\) i \\(N\\) punkter med lika stort avstånd mellan varandra. Anropet seq(a, b, length.out = N) skapar ett rutnät.\n\ngrid <- seq(0.1, 1, length.out = 10) # a = 0.1, b = 1 and N = 10.\ngrid\n\n [1] 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0\n\n\nVi kan nu skapa en dataframe som innehåller ett rutnät mellan det minsta \\(x\\)-värdet och det största \\(x\\)-värdet med säg \\(N=1000\\) punkter och prediktera responsen för dessa 1000 \\(x\\)-värden. Funktionen ‘lines()’ kommer att binda ihop dessa punkter med räta linjer emellan — men punkterna ligger så tätt att våra ögon kommer uppfatta resultatet som en fin och jämn kurva. Följande kod anpassar kurvan på sättet som beskrivits ovan och plottar den tillsammans med data och de enskilda prediktionerna vi skapade ovan.\n\nplot(fev ~ height, data = FevChildren, col = \"cornflowerblue\", ylim = c(0, 7)) # Data on original scale\nx_min <- min(FevChildren$height) # Min height\nx_max <- max(FevChildren$height) # Max height\nN <- 1000 # Number of grid points to predict\nnew_x <- data.frame(height = seq(x_min, x_max, length.out = N)) # The grid in a dataframe\nlogy_hat_grid <- predict(lm_logfev_vs_height, newdata = new_x)\nyhat_grid <- exp(logy_hat_grid) # Inverse transform\nlines(FevChildren$height, y_hat, type = \"p\", col = \"lightcoral\") # Prediction of data points\nlines(new_x$height, yhat_grid, type = \"l\", col = \"lightcoral\") # Prediction on grid\nlegend(x = \"topleft\", pch = c(1, 1, NA), lty = c(NA, NA, 1), col = c(\"cornflowerblue\", \"lightcoral\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\", \"Fitted curve\"))\n\n\n\n\n\n\n\n💪 Uppgift 3.1\nPrediktera responsen för \\(x=180\\) och \\(x=190\\) med den icke-linjära regressionen. Jämför resultaten med den linjära regressionen i Uppgift 2.1.\n\n# Write your code here\n\nSlutligen gör vi en residualanalys.\n\nresid_logfev <- residuals(lm_logfev_vs_height)\nhead(resid_logfev)\n\n          1           2           3           4           5           6 \n-0.16746509 -0.69706393 -0.03214892 -0.05408127 -0.06356935 -0.05965209 \n\nplot(FevChildren$height, resid_logfev, xlab= \"height\", ylab='Residuals', col = \"cornflowerblue\") \n\n\n\nqqnorm(resid_logfev, col = \"cornflowerblue\") # Create normal probability plot for residuals\nqqline(resid_logfev, col = \"red\") # Add a straight line to normal plot \n\n\n\n\n\n\n💪 Uppgift 3.2\nKommentera residualanalysen för den nya modellen. Jämför resultaten mot residualanalysen för den otransformerade responsen (dvs fev ~ height). Vilken modell är att föredra?\n\n\n💪 Uppgift 3.3\nAnpassa modellen \\[\\widehat{fev^{1/2}} = b_0 + b_1height.\\] och utför en liknande analys som för modellen ovan, dvs \\[\\widehat{\\log(fev)} = b_0 + b_1height.\\] Vilken utav dessa är mest lämplig för det här exemplet?\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.html#multipel-linjär-regression",
    "href": "datorlab/lab4/DatorLab4.html#multipel-linjär-regression",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "4. Multipel linjär regression",
    "text": "4. Multipel linjär regression\nTo come."
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.html#modellval-genom-korsvalidering",
    "href": "datorlab/lab4/DatorLab4.html#modellval-genom-korsvalidering",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "5. Modellval genom Korsvalidering",
    "text": "5. Modellval genom Korsvalidering\nI det här avsnittet ska vi gå igenom hur man väljer en modell med hjälp av korsvalidering.\nDatasetet Penguins.RData innehåller dykpuls (DHR) (dive_heart_rate) och tid för dykning (duration) för 125 pingviner. Vi vill modellera dykpulsen för en pingvin som en funktion av tiden för dykningen. Ett punktdiagram visar att en linjär regression inte kommer att anpassa data väl.\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab4/Penguins.RData?raw=true\"))\nplot(dive_heart_rate ~ duration, data = penguins, col = \"cornflowerblue\")\n\n\n\n\nVi befinner oss i tredje kvadranten på Tukeys cirkel och föreslår följande två modeller\n\nModell 1: \\(\\widehat{DHR^{1/2}} = b_0 + b_1duration\\).\nModell 2: \\(\\widehat{DHR^{1/2}} = b_0 + b_1duration^{1/2}\\).\n\nVi anpassar Modell 1 och plottar de predikterade värdena tillsammans med data i originalskala som vi gjorde i Avsnitt 3. Skillnaden är att när vi predikterar på originalskala så använder vi en annan inverstransformation, \\(\\left(\\widehat{y^{1/2}}\\right)^2\\) enligt tabellen ovan.\n\nlm_sqrtDHR_vs_duration <- lm(sqrt(dive_heart_rate) ~ duration, data = penguins)\nsqrty_hat <- predict(lm_sqrtDHR_vs_duration) # sqrt scale prediction\ny_hat <- sqrty_hat^2 # original scale prediction\nplot(dive_heart_rate ~ duration, data = penguins, col = \"cornflowerblue\", ylim = c(0, 140), main = \"Model 1\") # Data on original scale\nlines(penguins$duration, y_hat, type = \"p\", col = \"lightcoral\")\nlegend(x = \"topright\", pch = c(1, 1), col = c(\"cornflowerblue\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\"))\n\n\n\n\n\n\n\n\n\n\nExtra: Rita den anpassade kurvan\n\n\n\nI Avsnitt 3 lärde vi oss (extra-rutan) hur man ritar in den anpassade kurvan. Vi kan göra samma sak för Modell 1.\n\nplot(dive_heart_rate ~ duration, data = penguins, col = \"cornflowerblue\", ylim = c(0, 140), main = \"Model 1\") # Data on original scale\nx_min <- min(penguins$duration) # Min duration \nx_max <- max(penguins$duration) # Max duration\nN <- 1000 # Number of grid points to predict\nnew_x <- data.frame(duration = seq(x_min, x_max, length.out = N)) # The grid in a dataframe\nsqrty_hat_grid <- predict(lm_sqrtDHR_vs_duration, newdata = new_x)\nyhat_grid <- sqrty_hat_grid^2 # Inverse transform\nlines(penguins$duration, y_hat, type = \"p\", col = \"lightcoral\") # Prediction of data points\nlines(new_x$duration, yhat_grid, type = \"l\", col = \"lightcoral\") # Prediction on grid\nlegend(x = \"topright\", pch = c(1, 1, NA), lty = c(NA, NA, 1), col = c(\"cornflowerblue\", \"lightcoral\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\", \"Fitted curve\"))\n\n\n\n\n\n\nVi anpassar Modell 2 med följande kod. Notera att Modell 2 också transformerar den förklarande variabeln. R håller reda på det åt oss om vi anger I(sqrt(duration)) i formula-syntaxen och vi behöver inte göra något extra.\n\nlm_sqrtDHR_vs_sqrtduration <- lm(sqrt(dive_heart_rate) ~ I(sqrt(duration)), data = penguins)\nsqrty_hat <- predict(lm_sqrtDHR_vs_sqrtduration) # sqrt scale prediction\ny_hat <- sqrty_hat^2 # original scale prediction\nplot(dive_heart_rate ~ duration, data = penguins, col = \"cornflowerblue\", ylim = c(0, 140), main =\"Model 2\") # Data on original scale\nlines(penguins$duration, y_hat, type = \"p\", col = \"lightcoral\")\nlegend(x = \"topright\", pch = c(1, 1), col = c(\"cornflowerblue\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\"))\n\n\n\n\n\n\n\n\n\n\nExtra: Rita den anpassade kurvan\n\n\n\nKod som också ritar den anpassade kurvan för Modell 2.\n\nplot(dive_heart_rate ~ duration, data = penguins, col = \"cornflowerblue\", ylim = c(0, 140), main = \"Model 2\") # Data on original scale\nx_min <- min(penguins$duration) # Min duration \nx_max <- max(penguins$duration) # Max duration\nN <- 1000 # Number of grid points to predict\nnew_x <- data.frame(duration = seq(x_min, x_max, length.out = N)) # The grid in a dataframe\nsqrty_hat_grid <- predict(lm_sqrtDHR_vs_sqrtduration, newdata = new_x)\nyhat_grid <- sqrty_hat_grid^2 # Inverse transform\nlines(penguins$duration, y_hat, type = \"p\", col = \"lightcoral\") # Prediction of data points\nlines(new_x$duration, yhat_grid, type = \"l\", col = \"lightcoral\") # Prediction on grid\nlegend(x = \"topright\", pch = c(1, 1, NA), lty = c(NA, NA, 1), col = c(\"cornflowerblue\", \"lightcoral\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\", \"Fitted curve\"))\n\n\n\n\n\n\nVi ska nu välja vilken av Modell 1 eller Modell 2 är att föredra med hjälp av korsvalidering. På föreläsningen gick vi genom korsvalidering med \\(K = 4\\) folds. Här har vi 125 pingviner som är jämnt delbart med 5, så vi använder \\(K = 5\\) folds istället. Vi får då 80% träningsdata och 20% testdata för varje fold enligt figuren nedan.\n\n\n\nKorsvalidering med \\(K=5\\) folds.\n\n\nFör varje modell behöver vi anropa funktionen lm() \\(K=5\\) gånger med olika träningsdata enligt uppdelningen ovan. Funktionen lm() har ett argument subset som bestämmer vilka observationer (pingviner) som ska användes för att anpassa modellen, dvs träningsdata. När lm() har anpassats till fold \\(k\\) använder vi funktionen predict() för att prediktera testdatan för fold \\(k\\) och räkna ut dess residualkvadratsumma (SSE, sum of squared errors). Koden nedan demonstrerar proceduren för första folden, dvs \\(k=1\\), och förklaras lite mer detaljerad efter kodsnutten.\n\nn <- 125 # Number of observations\n# Fold 1:\nobs_index <- c(1:n) # Keeps track of the indices of  the dataset (1, 2, 3, ...., n = 125)\ntest_fold_index <- obs_index[c(1:25)] # Subsets indices 1:25 (test data fold 1) \ntraining_fold_index <- obs_index[-c(1:25)] # Takes out the complement\nlm_modell1_fold1 <- lm(sqrt(dive_heart_rate) ~ duration, subset = training_fold_index, data = penguins) # Estimate fold 1\ntest_data <- penguins[test_fold_index, ] # Create test data for fold\nsqrty_hat_fold1 <- predict(lm_modell1_fold1, newdata = test_data) # Predict test data in sqrt scale\ny_hat_fold1 <- (sqrty_hat_fold1)^2 # Predict test data ordinary scale\nSSE_fold1 <- sum((test_data$dive_heart_rate - y_hat_fold1)^2) \n\nNotera att datasetet penguins.RData redan ligger i slumpmässig ordning och därför kan obs_index innehålla observationerna i stigande ordning. Ett exempel på ett dataset som ligger i ordning (dvs inte slumpmässigt ordning) är FevChildren.RData där barnen i den lägsta åldersgruppen kommer först, därefter mittersta åldersgruppen följt av äldsta åldersgruppen (ni kan se det genom att klicka på datasetet i Environment-fliken). För ett dataset som ligger i ordning kan man istället definiera obs_index <- sample(c(1:n)). Då innehåller obs_index indexen \\(1, 2, \\dots, n\\) i slumpmässig ordning.\n\n💪 Uppgift 5.1\nSkriv ut test_fold_index och bekräfta att den innehåller indexen för testdata i fold 1, dvs de första 25 observationerna.\n\n# Write your code here\n\nNär vi skapar training_fold_index ovan, notera att -c(1:25) skapar en vektor med värden \\(-1, -2, \\dots, -25\\). När vi skriver obs_index[-c(1:25)] försöker vi alltså plocka ut negativa index ur vektorn obs_index! Negativ indexering i R har en speciell betydelse: Ett negativt index hämtar ut alla andra observationer förutom den som har ett negerat index (negativt index). För att illustrera detta betrakta följande exempel:\n\nmy_vector <- c(3, 2, 1, 20, 3)\nmy_vector[-4]\n\n[1] 3 2 1 3\n\nmy_vector[-2]\n\n[1]  3  1 20  3\n\nmy_vector[c(-1, -3)]\n\n[1]  2 20  3\n\n\nmy_vector[-4] hämtar ut alla observationer förutom den som är på index 4. my_vector[-2] hämtar ut alla observationer förutom den som är på index 2. my_vector[c(-1, -3)] hämtar ut alla observationer förutom de som är på index 1 och 3.\n\n\n💪 Uppgift 5.2\nVilka observationer hämtas ut om man skriver:\n\nmy_vector[-1]?\nmy_vector[-c(3, 1)]?\nmy_vector[-c(1, 2, 4, 5)]?\n\nFundera på svaret innan ni bekräftar med hjälp av kod.\n\n# Write your code here\n\nFör att tydligt illustrera vad som händer, låt oss göra en figur som innehåller:\n\nTräningsdata.\nTestdata.\nModellens anpassning (baserat på träningsdata) som inkluderar prediktion av testdata.\n\n\nplot(dive_heart_rate ~ duration, subset = training_fold_index,  data = penguins, col = \"cornflower blue\", ylim = c(0, 140), main = \"Crossvalidation Model 1: Fold 1 results\") # Training data\nlines(penguins$duration[test_fold_index], penguins$dive_heart_rate[test_fold_index], type = \"p\", col = \"lightgreen\") # Test data\nx_min <- min(penguins$duration) # Min duration \nx_max <- max(penguins$duration) # Max duration\nN <- 1000 # Number of grid points to predict\nnew_x <- data.frame(duration = seq(x_min, x_max, length.out = N)) # The grid in a dataframe\nsqrty_hat_grid_fold1 <- predict(lm_modell1_fold1, newdata = new_x)\nyhat_grid_fold1 <- sqrty_hat_grid_fold1^2 # Inverse transform\nlines(new_x$duration, yhat_grid_fold1, type = \"l\", col = \"lightcoral\") # Prediction on grid\nlegend(x = \"topright\", pch = c(1, 1, NA), lty = c(NA, NA, 1), col = c(\"cornflowerblue\", \"lightgreen\", \"lightcoral\"), legend=c(\"Training data\", \"Test data\", \"Fitted curve\"))\n\n\n\n\nVariabeln yhat_grid_fold1 innehåller prediktionerna för testdata. En sådan prediktion ges av kurvans \\(y\\)-värde för en grön punkts (testdata) \\(x\\)-värde.\n\n\n💪 Uppgift 5.3\nIdentifiera testobservationen som har störst prediktionsfel i plotten ovan.\nOvan har vi grafiskt illustrerat hur korsvalideringsproceduren fungerar inom en given fold i pedagogiskt syfte. Normalt utför man korsvalidering utan en grafisk illustration. Följande kod utför korsvalideringen för fold 2, 3, 4. Den sista folden (fold 5) lämnas som en uppgift (se nedan).\n\n# Fold 2:\ntest_fold_index <- obs_index[c(26:50)] # Subsets indices 26:50 (test data fold 2) \ntraining_fold_index <- obs_index[-c(26:50)] # Takes out the complement\nlm_modell1_fold2 <- lm(sqrt(dive_heart_rate) ~ duration, subset = training_fold_index, data = penguins) # Estimate fold 2\ntest_data <- penguins[test_fold_index, ] # Create test data for fold\nsqrty_hat_fold2 <- predict(lm_modell1_fold2, newdata = test_data) # Predict test data in sqrt scale\ny_hat_fold2 <- (sqrty_hat_fold2)^2 # Predict test data ordinary scale\nSSE_fold2 <- sum((test_data$dive_heart_rate - y_hat_fold2)^2)\n\n# Fold 3:\ntest_fold_index <- obs_index[c(51:75)] # Subsets indices 51:75 (test data fold 3) \ntraining_fold_index <- obs_index[-c(51:75)] # Takes out the complement\nlm_modell1_fold3 <- lm(sqrt(dive_heart_rate) ~ duration, subset = training_fold_index, data = penguins) # Estimate fold 3\ntest_data <- penguins[test_fold_index, ] # Create test data for fold\nsqrty_hat_fold3 <- predict(lm_modell1_fold3, newdata = test_data) # Predict test data in sqrt scale\ny_hat_fold3 <- (sqrty_hat_fold3)^2 # Predict test data ordinary scale\nSSE_fold3 <- sum((test_data$dive_heart_rate - y_hat_fold3)^2)\n\n# Fold 4:\ntest_fold_index <- obs_index[c(76:100)] # Subsets indices 76:100 (test data fold 4) \ntraining_fold_index <- obs_index[-c(76:100)] # Takes out the complement\nlm_modell1_fold4 <- lm(sqrt(dive_heart_rate) ~ duration, subset = training_fold_index, data = penguins) # Estimate fold 4\ntest_data <- penguins[test_fold_index, ] # Create test data for fold\nsqrty_hat_fold4 <- predict(lm_modell1_fold4, newdata = test_data) # Predict test data in sqrt scale\ny_hat_fold4 <- (sqrty_hat_fold4)^2 # Predict test data ordinary scale\nSSE_fold4 <- sum((test_data$dive_heart_rate - y_hat_fold4)^2)\n\n\n\n💪 Uppgift 5.4\nUtför de beräkningar som krävs att räkna ut SSE för fold 5.\n\n# Write your code here.\n\nDen korsvaliderade root mean squared error (RMSE) ges av \\[\\mathrm{RMSE}_{\\mathrm{cv}} = \\sqrt{\\frac{1}{n} \\sum_{k=1}^K \\mathrm{SSE}_k},\\] där \\(K=5\\), \\(n=125\\) (totala antalet observationer) och \\(\\mathrm{SSE}_k\\) är SSE för fold \\(k\\).\n\n\n💪 Uppgift 5.5\nBeräkna \\(\\mathrm{RMSE}_{\\mathrm{cv}}\\) för Modell 1.\n\n# Write your code here.\n\n\n\n💪 Uppgift 5.6\nUtför korsvalidering för Modell 2 och beräkna dess \\(\\mathrm{RMSE}_{\\mathrm{cv}}\\). Vilken modell är bäst?\n\n# Write your code here."
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.html#sammanfattning",
    "href": "datorlab/lab4/DatorLab4.html#sammanfattning",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "6. Sammanfattning",
    "text": "6. Sammanfattning\n\n\n\n\n\n\nI den här laborationen har du lärt dig:\n\n\n\n\nKorrelation för att beskriva ett linjärt samband mellan två numeriska variabler.\nHur man tolkar en enkel och multipel linjär regression.\nHur man använder R för att anpassa linjära och icke-linjära regressionsmodeller.\nHur man använder R för att prediktera linjära och icke-linjära regressionsmodeller.\nHur man validerar en modell via en residualanalys.\nHur man väljer modeller med hjälp av korsvalidering."
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.html#a.-appendix",
    "href": "datorlab/lab4/DatorLab4.html#a.-appendix",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "A. Appendix",
    "text": "A. Appendix\nLista över några vanliga argument i grafer\n\ncol = färg, kan markeras med siffror eller med namnet på färgen, oftast med små bokstäver. Glöm ej att texten måste ligga inom citattecken.\nmain = rubrik på plotten, detta sätts till en textsträng, alltså en text inom citattecken.\nxlab = rubrik på x-axeln, detta sätts till en textsträng, alltså en text inom citattecken.\nylab = rubrik på y-axeln, detta sätts till en textsträng, alltså en text inom citattecken.\nxlim = definitionsområde för x-axeln. Exempelvis betyder xlim = c(0, 14.3) att det lägsta värdet som ritas kommer att vara 0 och det högsta värdet kommer att vara 14.3 (på x-axeln).\nylim = definitionsområde för y-axeln. Exempelvis betyder ylim = c(-2, 20.7) att det lägsta värdet som ritas kommer att vara -2 och det högsta värdet kommer att vara 20.7 (på y-axeln).\nlwd = tjocklecken på linjer (eller prickar) i ett linjediagram (spridningsdiagram), anges med ett nummer.\nlty = typ av linje (rak, streckad, prickad etc) i ett linjediagram, anges med ett nummer.\npch = typ av prick (rund, fyrkantig + * etc), sätts till ett nummer.\nbreaks = antal staplar i ett histogram.\ncex = justering av etiketternas storlek i en figur (exempelvis cex = 0.5 i en legend() funktion minskar storleken som “legend-texten” tar upp i en figur med hälften). Finns även exempelvis cex.axis, cex.main för att justera storleken av texter på axlar respektive rubrik.\nbg = bakgrundsfärg i en figur.\ncol.main = rubrikens färg.\ncol.lab = färger för rubrikerna på axlarna.\nfont = specificerar vilken typ av text man vill ha, exempelvis ger font = 3 kursiv text."
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.html",
    "href": "datorlab/lab4/DatorLab4.html",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "",
    "text": "Varning\n\n\n\nDen här labben förutsätter att följande paket finns installerade:\n\nmosaic\ncorrplot\n\nPaket kan installeras via kommandot install.packages('packagename'), där 'packagename' är namnet på paketet, t.ex 'mosaic'."
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.html#multipel-linjär-samt-icke-linjär-regression",
    "href": "datorlab/lab4/DatorLab4.html#multipel-linjär-samt-icke-linjär-regression",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "4. Multipel linjär samt icke-linjär regression",
    "text": "4. Multipel linjär samt icke-linjär regression\nEn multipel linjär regression tillåter fler förklarande variabler. Att implementera multipel linjär regression i R kräver inte mycket mer kunskap än det vi har gått igenom ovan.\nVi analyserar återigen FevChildren.RData och inkluderar nu också smoking (som är en dummy-variabel) för att förklara fev, dvs \\[\\widehat{fev}=b_0 + b_1height + b_2smoking\\]\n\nlm_fev_vs_height_smoking <- lm(fev ~ height + smoking, data = FevChildren)\nsummary(lm_fev_vs_height_smoking)\n\n\nCall:\nlm(formula = fev ~ height + smoking, data = FevChildren)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1.76487 -0.25513  0.00027  0.23445  2.09853 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) -5.763158   0.216872 -26.574   <2e-16 ***\nheight       0.053963   0.001388  38.865   <2e-16 ***\nsmoking1    -0.025260   0.060666  -0.416    0.677    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.433 on 603 degrees of freedom\nMultiple R-squared:  0.7285,    Adjusted R-squared:  0.7276 \nF-statistic: 808.9 on 2 and 603 DF,  p-value: < 2.2e-16\n\n\nFrån utskriften kan vi utläsa att \\(b_0 = -5.763\\), \\(b_1 = 0.054\\) och \\(b_2=-0.025\\). Vidare kan vi utläsa att ca 73 av variationen i fev förklaras av height och smoking Notera att R har kallat variabeln smoking1 istället för smoking för att betona att \\(b_2\\) är effekten av gruppen som röker (vi kodade rökning som 1). I en multipel regression så tolkar vi alltid de skattade effektena av en variabel givet att alla andra variablerna hålls konstanta. Till exempel, givet barn och ungdomar av samma längd så är \\(b_2\\) förändringen (här negativt då \\(b_2 < 0\\)) i fev mellan rökare och inte rökare. Dvs, givet att längden är densamma, så tenderar rökare att ha mindre forcerad utandningsvolym jämfört med icke-rökare. Koefficienten \\(b_1\\) tolkas givet att smoking hålls konstant, dvs barn och ungdomar som är 1 cm längre tenderar att i genomsnitt ha \\(b_1=0.054\\) fler enheter forcerad utandningsvolym (än de som är 1 cm kortare) givet att de tillhör samma grupp (antingen rökare eller icke-rökare).\nI multipel regression är det vanligt att plotta residualerna mot de predikterade värdena, snarare än mot varje förklarande variabel. Detta beror på att man potentiellt kan ha många förklarande variabler och då är det mer praktiskt att istället göra residualanalysen utifrån en enda figur.\n\nresid_fev_multiplereg <- residuals(lm_fev_vs_height_smoking)\nhead(resid_fev_multiplereg)\n\n          1           2           3           4           5           6 \n-0.34166549 -1.76486977  0.01300219  0.05660280 -0.15466549 -0.26193379 \n\nplot(lm_fev_vs_height_smoking$fitted.values, resid_fev_multiplereg, xlab= \"y_hat\", ylab='Residuals', col = \"cornflowerblue\") \n\n\n\nqqnorm(resid_fev_multiplereg, col = \"cornflowerblue\") # Create normal probability plot for residuals\nqqline(resid_fev_multiplereg, col = \"red\") # Add a straight line to normal \n\n\n\n\nVi ser liknande problem med residualplottarna som i Avsnitt 2.\nAntag att vi vill prediktera den genomsnittliga forcerade utandningsvolymen för barn och ungdomar som är 164.5 cm långa och röker. Eftersom smoking är en såkallad factor variabel (Rs sätt att koda kategoriska variabler) behöver vi använda as.factor() funktionen när vi skapar new_x.\n\nnew_x <- data.frame(height = 164.5, smoking = as.factor(1))\npredict(lm_fev_vs_height_smoking, newdata = new_x)\n\n       1 \n3.088564 \n\n\nVår prediktion är att den genomsnittliga forcerade utandningsvolymen är 3.088 för rökande barn och ungdomar som är \\(164.5\\) cm långa.\n\n💪 Uppgift 4.1\nAnpassa modellen \\[\\widehat{\\log(fev)}=b_0 + b_1height + b_2smoking.\\] Tolka koefficienterna och utför en residualanalys samt gör en prediktion enligt ovan. Ser resultaten bättre ut?\n\n# Write your code here\n\n\n\n💪 Uppgift 4.2\nFilen real_estate.RData innehåller försäljningspriser SalesPrice samt förklarande variabler för 521 sålda objekt. En mäklarfirma anlitar er som statistiker med följande uppdrag.\nMäklarfirman vill att ni utvecklar en prognosmodell för försäljningspriset. För enkelhets skull ska ni anpassa en multipel linjär regression (dvs inga transformationer!) med följande förklarande variabler:\n\nSqFeet: Area i kvadratfot (enhet 1000 sqft).\nLot: Tomtarea i kvadratfot (enhet 1000 sqft).\nAir: Dummy-variabel som anger om objektet har luftkonditionering (1 kodat som ja, 0 kodat som nej).\n\nMäklarfirman undrar följande utifrån den multipla linjära regressionen:\n\nVad kan man säga om sambandet mellan SqFeet och försäljningspriset?\nVad kan man säga om sambandet mellan Lot och försäljningspriset?\nVerkar det finnas något samband försäljningspriset och Air? Hur ska sambandet tolkas?\nEn visning äger rum snart för en lägenhet som har en area på 2.311 kvadratfot, en tomtarea på 17.312 kvadratfot och luftkonditionering. Vad kan den säljas för? Kommunicera er prediktion med en tydlig tolkning.\n\nHar er modell några brister?\n\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab4/RealEstate.RData?raw=true\"))\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.knit.html",
    "href": "datorlab/lab4/DatorLab4.knit.html",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "",
    "text": "Varning\n\n\n\nDen här labben förutsätter att följande paket finns installerade:\n\nmosaic\ncorrplot\n\nPaket kan installeras via kommandot install.packages('packagename'), där 'packagename' är namnet på paketet, t.ex 'mosaic'."
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.knit.html#introduktion",
    "href": "datorlab/lab4/DatorLab4.knit.html#introduktion",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "Introduktion",
    "text": "Introduktion\n\nI den här datorlabben kommer vi att beskriva samband mellan två numeriska variabler via punktdiagram och korrelation. Vi kommer också att modellera samband via både enkel och multiple linjär regression och lära oss tolka resultaten samt modellvalidering. Vi kommer att lära oss prediktion i linjär regression och hur man kan genomföra modellval genom korsvalidering. När data inte uppvisar ett linjärt samband ska vi lära oss hur man kan transformera data och anpassa en icke-linjär regression. Icke-linjär regression är svårare att tolka, men har klart bättre prediktionsförmåga om det finns icke-linjära samband mellan variabler. För de studenterna som är intresserade så finns det ett extra avsnitt som dyker lite djupare i R.\n\n\n💪 Uppgift 0.1\nSe till att paketen ovan är installerade innan du fortsätter med resten.\n\n\n💪 Uppgift 0.2\nSkapa en mapp Lab4 i din kursmapp SDA1 (såsom ni gjorde i Lab 1). Ladda ner Quarto-filen för denna lab genom att högerklicka här och välj ‘Spara länk’ eller något likande från menyn som dyker upp. Spara filen i din nya Lab4 mapp. Öppna Quarto-filen i RStudio. Du kan nu fortsätta med denna laboration direkt i Quarto-dokumentet, där du också fyller i svaren på dina laborationsövningar. Du kan alltså lämna den här webbsidan nu och fortsätta arbetet i RStudio.\nVäl inne i RStudio med öppnat Quarto-dokument i ‘Editor’ kan ni gå över till ‘Source mode’ genom att klicka på ‘Source’ i det vänstra hörnet av din ‘Editor’. Source mode är detaljerat och bra att skriva kod i eftersom man har full kontroll på dokumentet, men det är svårt att få en översikt av dokumentet. Prova nu att gå över till ‘Visual mode’ genom att klicka på ‘Visual’ i det vänstra hörnet av din ‘Editor’. Vi rekommenderar att ni mestadels arbetar i Visual mode, men att gå över till Source mode när man verkligen vill få till någon detalj som är svår att ändra i Visual mode. ´\n\n\n💪 Uppgift 0.3\nKlicka på knappen Render i Editor-fönstret för att kompilera filen till en webbsida (html). Webbsidan kommer antingen att visas i Viewer-fönstret i RStudio eller i webbläsaren på din dator. Om din webbsida visas i webbläsaren rekommenderar vi att du ändrar inställningarna i RStudio så webbsidan visas i Viewer-fönstret. Du ställer in detta på menyn Tools/Global Options… och sen väljer du Viewer Pane vid Show output preview in:\n\n\n\n\n\n\n\n💪 Uppgift 0.4\nQuarto säkerställer att man befinner sig i korrekt arbetsmapp när koden i dokumentet exekveras. Med korrekt arbetsmapp menas den mappen ni sparade .qmd filen i. Vill du komma åt dataseten via load() kommandot måste dataseten vara sparade i samma mapp.\nEtt vanligt arbetssätt är att man jobbar i RStudio i en separat .R fil, där man kan testa att köra kod innan den kopieras över till Quarto dokumentet. Den .R filen kommer inte att ha samma ‘working directory’ som Quarto filen. Du måste då använda setwd() funktionen i .R filen för att ställa in ‘working directory’. Notera att man också välja att skriva kod i Console som finns längst ner i RStudio. Där måste du också ställa in rätt ‘working directory’. Det är inte rekommenderat att använda Console eftersom koden inte sparas där. Du kanske kommer på något jättesmart som du glömmer att kopiera över till Quarto dokumentet och kan senare inte hitta det du skrev.\n\n\n\n\n\n\nRStudios Editor ändras beroende på vilken sorts fil du har öppen\n\n\n\nNotera att ikonerna i Editor är annorlunda när du har ett Quarto-dokument öppet jämfört med tidigare när vi hade en fil med ren R-kod (dvs en .R fil) öppen.\n\n\nSkapa en ny .R som du döper till Lab4_test_code.R och sparar i din Lab 4 mapp. Ställ in ‘working directory’ till den nya mappen genom att följa anvisningarna från Lab 1.\n\n\n💪 Uppgift 0.5\nLadda ner CAPM_data.RData (här), FevChildren.RData (här), RealEstate.RData (här), och Penguins.RData (här). Filerna kommer automatiskt att sparas ner, oftast i download mappen på datorn ni sitter vid. Kopiera över filerna till Lab4 mappen ni skapade ovan.\nSom vi gick igenom i Lab 3 finns det olika sätt att läsa in .RData filer genom load() funktionen. Ett sätt är att skriva t.ex load(\"FevChildren.RData\"). Notera att om du gör detta i Lab4_test_code.R förutsätter det att FevChildren.RData ligger i den arbetsmappen man angivit genom setwd() funktionen. Ett annat sätt att ladda in en .RData fil är att läsa in den direkt från webben med en kombination av load() funktionen och url() funktionen.\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab3/FevChildren.RData?raw=true\"))\nFevChildren_from_URL <- FevChildren\n\nArgumentet till url() funktionen är en sträng som innehåller länken till kurshemsidans git repository där FevChildren.RData finns lagrad. I raden efter har vi sparat dataframen i en variabel som heter FevChildren_from_URL så att du i nästa uppgift kan jämföra mot den du läser in från din lokala fil som du sparade ovan i i Lab3 mappen.\n\n\n💪 Uppgift 0.6\nAnvänd load() funktionen (utan url() funktionen) för att läsa in FevChildren.RData lokalt från din dator. Jämför den lokalt inlästa filen med den du läste in från webben (finns sparad i FevChildren_from_URL).\n\n# Write your code here\n\n\n\n\n\n\n\nTips\n\n\n\nFör att jämföra dataseten här räcker det att använda str() och head().\n\n\nDet är viktigt att ni vet hur man läser in .RData filer lokalt. Det kan vara så att github är tillfälligt nere, eller att ni temporärt jobbar utan tillgång till internet. I resten av labben så läses filerna in från webben, men nu vet ni hur ni kan göra om webben av någon anledning skulle vara nere."
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.knit.html#samband-mellan-två-numeriska-variabler",
    "href": "datorlab/lab4/DatorLab4.knit.html#samband-mellan-två-numeriska-variabler",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "1. Samband mellan två numeriska variabler",
    "text": "1. Samband mellan två numeriska variabler\nNumeriska variabler är variabler vars utfall är numeriska värden som har betydelse. En kategorisk variabel kan visserligen vara kodad som ett numeriskt värde, men värdet är godtyckligt. Ett exempel är variabeln smoking i FevChildren.RData, där ja är kodat som 1 och nej kodat som 0. Vi skulle lika gärna ha kodat ja som 0 och nej som 1. Eller till och med ja som -1 och nej som 1. Det är således viktigt att förstå att även kategoriska variabler kan ha numeriska utfall, men de räknas inte som numeriska variabler för det.\nEtt vanligt sambandsmått mellan två numeriska variabler är korrelation. Korrelation mäter det linjära sambandet mellan variablerna. Stickprovskorrelationen räknas enligt \\[r_{xy}=\\frac{\\sum z_xz_y}{n-1},\\]\ndär \\(z_x\\) och \\(z_y\\) är z-värden för \\(x\\) och \\(y\\), respektive. Som vanligt räknas dessa som \\[z_x=\\frac{x-\\overline{x}}{s_x}\\,\\,\\text{och} \\,\\,z_y=\\frac{y-\\overline{y}}{s_y},\\] där \\(\\overline{x}\\) och \\(\\overline{y}\\) är stickprovsmedelvärden samt \\(s_x\\) och \\(s_y\\) är stickprovsstandardavvikelser. Boken använder notationen \\(r\\) istället för \\(r_{xy}\\) i ekvationen ovan. Notationen \\(r_{xy}\\) betonar att man räknar korrelationen mellan de två variablerna \\(x\\) och \\(y\\).\nI Lab 3 introducerades datasetet CAPM_data.RData, som innehåller tidsserier över månadsavkastningar för olika finansiella tillgångar samt makroekonomiska variabler. Lab 3 innehåller detaljerad information om datasetet CAPM_data.RData. Vi ska illustrera korrelationsbegreppet med hjälp av det här datasetet, men det är viktigt att förstå att korrelation är ett allmänt mått för det linjära sambandet mellan två variabler, oavsett om variablerna är tidsserier eller inte! Den enda förutsättningen för att beräkna korrelationen är att variablerna är numeriska.\nLåt oss räkna korrelationen mellan två tillgångar, till exempel IBM och CITCRP med hjälp av funktionen cor() i mosaic-paketet.\n\nsuppressMessages(library(mosaic))\n\nWarning: package 'mosaic' was built under R version 4.2.2\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab3/CAPM_data.RData?raw=true\"))\ncor(IBM ~ CITCRP, data = CAPM)\n\n[1] 0.4237027\n\n\nVi ser att korrelationen är positiv och har ett värde runt 0.43.\n\n💪 Uppgift 1.1\nBeräkna den omvända korrelationen, dvs korrelationen CITCRP och IBM. Kan du förklara varför svaret är samma som ovan?\n\n\n\n\n\n\nTips\n\n\n\nBetrakta formeln för \\(r_{xy}\\) ovan. Vad händer om man istället räknar \\(r_{yx}\\), dvs kastar om ordningen på \\(x\\) och \\(y\\)?\n\n\n\n# Write your code here\n\nEftersom korrelation endast beskriver ett linjärt samband, antas det att variablerna förhåller sig approximativt linjärt till varandra för att den ska anses vara ett lämpligt sambandsmått. Vi kan göra ett punktdiagram för att validera antagandet.\n\nplot(IBM ~ CITCRP, data = CAPM, col = \"cornflowerblue\")\n\n\n\n\nVi ser inga tydliga avvikelser från det linjära antagandet och således är korrelationen ett rimligt mått på sambandet. Figuren visar ett positivt samband mellan variablerna.\nAntag att vi vill räkna den parvisa korrelationen mellan flera variabler. Vi skulle kunna repetera koden cor(IBM ~ CITCRP, data = CAPM), där vi byter ut IBM och CITCRP mot alla parvisa kombinationer av de variablerna vi är intresserade utav. Mer elegant (och mindre tidskrävande!) så kan vi skapa en såkallad korrelationsmatris. För att illustrera korrelationsmatrisen, låt oss betrakta följande variabler: MARKET, RKFREE, WEYER, BOISE, CONED, CITCRP DATGEN, DEC,DELTA och CPI. Alla dessa förutom MARKET, RKFREE och CPI är månadsavkastningar för stora börsnoterade företag. MARKET är marknadens månadsavkastning, RKFREE är avkastningen på en riskfri tillgång (statsobligationsränta) och CPI är konsumentprisindex. Låt oss skapa en ny dataframe där vi enbart behåller variablerna av instresse.\n\nCAPM_10_variables <- CAPM[, c(\"MARKET\", \"RKFREE\", \"WEYER\", \"BOISE\", \"CONED\", \"CITCRP\", \"DATGEN\", \"DEC\", \"DELTA\", \"CPI\")]\nhead(CAPM_10_variables)\n\n  MARKET  RKFREE  WEYER  BOISE  CONED CITCRP DATGEN    DEC  DELTA   CPI\n1 -0.045 0.00487 -0.116 -0.079 -0.079 -0.115 -0.084 -0.100 -0.028 166.7\n2  0.010 0.00494 -0.135  0.013 -0.003 -0.019 -0.097 -0.063 -0.033 167.1\n3  0.050 0.00526  0.084  0.070  0.022  0.059  0.063  0.010  0.070 167.5\n4  0.063 0.00491  0.144  0.120 -0.005  0.127  0.179  0.165  0.150 168.2\n5  0.067 0.00513 -0.031  0.071 -0.014  0.005  0.052  0.038 -0.031 169.2\n6  0.007 0.00527  0.005 -0.098  0.034  0.007 -0.023 -0.021  0.023 170.1\n\n\nVi kan nu skapa och spara korrelationsmatrisen i en variabel correlation_matrix_CAPM genom cor(). Notera att input till funktionen är den nya dataframen vi har skapat och att ingen formula-syntax används.\n\ncorrelation_matrix_CAPM <- cor(CAPM_10_variables)\nround(correlation_matrix_CAPM, 3)\n\n       MARKET RKFREE  WEYER  BOISE CONED CITCRP DATGEN    DEC  DELTA    CPI\nMARKET  1.000 -0.100  0.656  0.652 0.124  0.564  0.551  0.581  0.349 -0.060\nRKFREE -0.100  1.000 -0.142 -0.176 0.057  0.001 -0.102 -0.139  0.007 -0.456\nWEYER   0.656 -0.142  1.000  0.751 0.158  0.540  0.481  0.590  0.490  0.067\nBOISE   0.652 -0.176  0.751  1.000 0.209  0.590  0.534  0.552  0.454  0.059\nCONED   0.124  0.057  0.158  0.209 1.000  0.269  0.096  0.108  0.092  0.054\nCITCRP  0.564  0.001  0.540  0.590 0.269  1.000  0.533  0.489  0.397  0.090\nDATGEN  0.551 -0.102  0.481  0.534 0.096  0.533  1.000  0.576  0.330 -0.048\nDEC     0.581 -0.139  0.590  0.552 0.108  0.489  0.576  1.000  0.429  0.029\nDELTA   0.349  0.007  0.490  0.454 0.092  0.397  0.330  0.429  1.000 -0.034\nCPI    -0.060 -0.456  0.067  0.059 0.054  0.090 -0.048  0.029 -0.034  1.000\n\n\nOvan har round() funktionen använts för avrunda till tre decimaler så att utskriften blir tydligare. Korrelationsmatrisen anger korrelationen för alla parvisa kombinationer av variabeln. Exempelvis, om vi kollar på rad 4 och kolumn 7 så återfinns korrelationen mellan BOISE och DATGEN i den cellen, som har värdet 0.534. Korrelationsmatrisen är symmetrisk: om vi kollar på rad 7 och kolumn 4 hittar vi också värdet 0.534, eftersom korrelationen inte tar hänsyn till ordningen.\n\n\n💪 Uppgift 1.2\nVarför är diagonalelementen i korrelationsmatrisen 1?\n\n\n💪 Uppgift 1.3\nAnvänd cor() med formula-syntax för att beräkna korrelationen mellan DELTA och DEC. Stäm av att resultatet är densamma som korrelationsmatrisen visar (tänk på att vi avrundade, så resultaten kommer inte stämma exakt).\n\n# Write your code here\n\nInformationen i en korrelationsmatris kan vara svår att utläsa pga alltför många siffror. En korrelationsplot illustrerar korrelationerna med färgskalor och är mycket enklare att utläsa. Funktionen corrplot() från corrplot-paketet tar en korrelationsmatris som argument för att skapa plotten. Vi skapade korrelationsmatrisen ovan (correlation_matrix_CAPM).\n\nsuppressMessages(library(corrplot))\n\nWarning: package 'corrplot' was built under R version 4.2.2\n\ncorrplot(correlation_matrix_CAPM)\n\n\n\n\n\n\n💪 Uppgift 1.4\nSvara på följande frågor:\n\nHitta två variabler som har en svag negativ korrelation på ungefär -0.2. Använd plot() för att plotta variablerna mot varandra.\nHitta två variabler som har en svag positiv korrelation på ungefär 0.2. Använd plot() för att plotta variablerna mot varandra.\nHitta de två variabler som har starkast negativ korrelation. Är det rimligt att dessa variabler är negativt korrelerade?\n\n\n# Write your code here\n\nBara för att en korrelation mellan två variabler är nära noll betyder det inte att det inte finns något samband. Låt oss illustrera detta med ett exempel där vi använder slumptal för att skapa två variabler \\(x\\) och \\(y\\) som har ett icke-linjärt samband, men en korrelation som är nära noll. Simulering av slumptal tas upp i andra delen av kursen. Ni behöver inte förstå koden nu, men det är viktigt att ni förstår slutsatsen som snart att presenteras.\n\nset.seed(10) # Same random numbers generated every run\nx <- rnorm(n = 1000, sd = 1) # Simulate a normal variable with standard deviation 1\ny <- -5*x^2 + rnorm(n = 1000)\nplot(x, y, col = \"cornflowerblue\")\n\n\n\n\nDet finns ett uppenbart kvadratiskt samband \\(y\\) och \\(x\\). Låt oss beräkna korrelationen.\n\ncor(x, y)\n\n[1] -0.003297157\n\n\nKorrelationen är nästan noll! Slutsatsen är att om vi bara hade hade fokuserat på korrelationen, utan att plotta \\(y\\) mot \\(x\\), så hade vi alltså missat detta uppenbara samband.\nI korrelationsplotten ovan är det många korrelationer som är nära noll och vi måste försäkra oss om att vi inte har missat några uppenbara icke-linjära samband. Vi kan plotta alla parvisa kombinationer av de variablerna vi är intresserade utav med hjälp av plot() funktionen. Mer elegant (och mindre tidskrävande!) så kan vi använda funktionen pairs() som gör punktdiagram av alla parvisa kombinationer av variablerna i en dataframe.\n\npairs(CAPM_10_variables, col = \"cornflowerblue\")\n\n\n\n\n\n\n💪 Uppgift 1.5\nFinns det uppenbara icke-linjära samband för de variablerna som hade nära noll korrelation enligt korrelationsplotten?\n\n\n💪 Uppgift 1.6\nStudera plottarna för variablerna som var korrelerade enligt korrelationsplotten. Kan ni utläsa tecknena på korrelationerna (positiva eller negativa) utifrån punktdiagrammen?"
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.knit.html#enkel-linjär-regression",
    "href": "datorlab/lab4/DatorLab4.knit.html#enkel-linjär-regression",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "2. Enkel linjär regression",
    "text": "2. Enkel linjär regression\nEn linjär regression är användbar för att beskriva det linjära sambandet mellan en responsvariabel \\(y\\) och en förklarande variabel \\(x\\). Med en anpassad linjär regressionsmodell kan man, likt Avsnitt 1, beräkna korrelationen mellan \\(y\\) och \\(x\\). Men en linjär regressionsmodell erbjuder mer än så. Vi kan t.ex kvantifiera hur en förändring i \\(x\\) är associerad med en förändring i \\(y\\). Och kanske viktigast (och roligast!) av allt: vi kan givet ett nytt \\(x\\) prediktera det genomsnittliga värdet på \\(y\\).\nLåt oss illustrera enkel linjär regression med hjälp av datasetet FevChildren.RData som illustrerades i Lab 3. Vi anpassar en enkel linjär regression med responsvariabel utandningsvolymen (fev) och förklarande variabel längd (height) med hjälp av funktionen lm() som står för linear model och sparar resultatet i en variabel vi döper till lm_fev_vs_height.\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab3/FevChildren.RData?raw=true\"))\nlm_fev_vs_height <- lm(fev ~ height, data = FevChildren)\n\nVi ser ovan att lm() funktionen använder samma alternativa formula-syntax som plot() funktionen, dvs av typen y ~ x.\n\n\n\n\n\n\nExtra material för de nyfikna studenterna (detta avsnitt kan skippas)\n\n\n\nFunktionen lm() returnerar ett objekt som är en instans (en realiserad kopia) av klass lm. En klass är enkelt beskrivet en abstrakt kodmall där det anges vilka variabler som lagras i objektet, så kallade attribut, och vilka funktioner som går att använda på objektet. Vi kan se klasstypen genom att anropa class() funktionen.\n\nclass(lm_fev_vs_height)\n\n[1] \"lm\"\n\n\nInnehållet i objektet kan visas med anropet str(lm_fev_vs_height), som visar objektets struktur på ett kompakt sätt.\n\n💪 Extra Uppgift 1\nAnvänd str() enligt ovan för att få en översikt av innehållet i objektet lm_fev_vs_height. Känner du igen några av namnen (som följer efter $-tecknet) från föreläsningarna?\n\n# Write your code here\n\nVi har stött på $-tecknet i samband med att vi hämtade ut en variabel från en dataframe i Lab 3: Om my_data är en dataframe som innehåller en variabel x kommer vi åt den via my_data$x. Vi återkommer snart till $-tecknet, men låt oss först dyka lite djupare i R.\nVi nämnde inte det i Lab 3, men my_data är också ett objekt! Den är en instans av klassen dataframe. I själva verket är allt i R objekt! R är vad man kallar ett objektorienterat programmeringsspråk. Allt vi skapar i R, vare sig det är en variabel, funktion eller till och med en tabell, är objekt, dvs instanser av olika klasser.\n\nx <- -3\nclass(x)\n\n[1] \"numeric\"\n\nf <- function(x) {x^2} # Simple function that squares a number.\nclass(f)\n\n[1] \"function\"\n\nt <- tally(age.group ~ smoking, data = FevChildren)\nclass(t)\n\n[1] \"table\"\n\n\n\n\n💪 Extra Uppgift 2\nAnvänd funktionen ‘f()’ ovan för att räkna ut \\(3^2\\) och spara resultatet i en variabel y. Vilken klass är objektet y en instans av? Fundera på svaret innan ni tar reda på det med hjälp av funktionen class().\n\n# Write your code here\n\nDet går att dyka djupare i Rs objektorienterade värld, men vi låter bli och hänvisar istället till institutionens Introduktionskurs i R-programmering.\nÅter till användandet av $-tecknet. Vi använder $-tecknet för att hämta ett objekts attribut (en variabel som lagras i objektet). Funktionen attributes() listar namnen på de olika attributen.\n\nattributes(lm_fev_vs_height)\n\n$names\n [1] \"coefficients\"  \"residuals\"     \"effects\"       \"rank\"         \n [5] \"fitted.values\" \"assign\"        \"qr\"            \"df.residual\"  \n [9] \"xlevels\"       \"call\"          \"terms\"         \"model\"        \n\n$class\n[1] \"lm\"\n\n\nExempelvis så lagras minsta kvadratskattningarna i attributet coefficients.\n\nlm_fev_vs_height$coefficients\n\n(Intercept)      height \n-5.74145229  0.05380877 \n\n\n\n\n💪 Extra Uppgift 3\nGör ett histogram för residualerna för den anpassade modellen ovan.\n\n# Write your code here.\n\n\n\n\nFunktionen lm() returnerar ett såkallat objekt (som vi sparat i variabeln lm_fev_vs_height) av klass lm som förklaras i extra materialet ovan. Vi behöver inte veta detaljerna, men en viktig sak att veta är att det finns många användbara funktioner vi kan applicera på vårt objekt. En sådan funktion är summary() som skriver ut resultaten från regressionen i ett snyggt format.\n\nsummary(lm_fev_vs_height)\n\n\nCall:\nlm(formula = fev ~ height, data = FevChildren)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1.76006 -0.25417  0.00064  0.23903  2.10393 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) -5.741452   0.210370  -27.29   <2e-16 ***\nheight       0.053809   0.001337   40.25   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.4327 on 604 degrees of freedom\nMultiple R-squared:  0.7284,    Adjusted R-squared:  0.7279 \nF-statistic:  1620 on 1 and 604 DF,  p-value: < 2.2e-16\n\n\nEfter Del 2 av kursen kommer ni känna igen i princip allt i utskriften ovan. Det vi har gått på Del 1 är:\n\nResiduals: Visar fördelningsmåtten för residualerna, samt minsta och största värde.\nCoefficients: Estimate kolumnen visar minsta kvadratskattningarna. Intercept och height betecknar vi med, respektive, \\(b_0\\) och \\(b_1\\) på föreläsningarna.\nResidual standard error: Residualernas standardavvikelse som vi betecknar med \\(s_e\\) på föreläsningarna.\nMultiple R-squared: R-kvadrat som vi betecknar med \\(R^2\\) på föreläsningarna.\nAdjusted R-squared: Justerat R-kvadrat som vi betecknar med \\(R_{\\mathrm{adj}}^2\\) på föreläsningarna.\n\nLåt oss tolka resultaten ovan. 72.84% av variationen i forcerad utadningsvolym förklaras av variabeln längd. Minsta kvadratanpassningen är \\[\\widehat{fev} = b_0 + b_1height =-5.741 + 0.054height.\\] Tolkningen för \\(b_0=-5.741\\) är den predikterade genomsnittliga forcerade utandningsvolymen för barn och ungdomar som är 0 cm långa, vilket inte är meningsfullt. Vi kan inte göra en kausal tolkning för \\(b_1\\) eftersom det inte är så att längden medför bättre eller sämre lugnkapacitet. Istället säger vi att barn och ungdomar som är 1 cm längre tenderar att i genomsnitt ha \\(b_1=0.054\\) fler enheter forcerad utandningsvolym (än de som är 1 cm kortare). Vi kan också använda oss av \\(b_1\\) för att till exempel säga att barn och ungdomar som är 10 cm längre tenderar att ha \\(10\\cdot b_1 = 0.54\\) fler enheter forcerad utandningsvolym (än de som är 10 cm kortare).\nVårt dataset innehåller forcerad utandningsvolym och längd hos 606 individuella barn och ungdomar. Vår anpassade modell ger oss 606 prediktioner av de genomsnittliga forcerade utandningsvolymerna, dvs en prediktion \\(\\hat{y}_i\\) (fev) för varje \\(x_i\\) (height) i datasetet. Dessa kan fås genom funktionen predict(). Låt oss plotta data tillsammans med de predikterade värden i samma figur med hjälp av funktionen lines() som användes i Lab 3. Vi använder också funktionen abline() som ritar den räta linjen (minsta kvadratanpassningen).\n\nplot(fev ~ height, data = FevChildren, col = \"cornflowerblue\", ylim = c(0, 7))\ny_hat <- predict(lm_fev_vs_height)\nhead(y_hat)\n\n       1        2        3        4        5        6 \n2.048981 3.484061 1.707295 1.502284 2.048981 2.595678 \n\nlines(FevChildren$height, y_hat, type = \"p\", col = \"lightcoral\")\nabline(lm_fev_vs_height, col = \"lightcoral\")\nlegend(x = \"topleft\", pch = c(1, 1, NA), lty = c(NA, NA, 1), col = c(\"cornflowerblue\", \"lightcoral\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\", \"Fitted line\"))\n\n\n\n\nDet enda argumentet ni inte har stött på tidigare är pch = c(1, 1, NA) som anger att de två första ska vara cirkelsymboler i legendtexten och anger ingen cirkelsymbol för den sista. Argumentet lty = c(NA, NA, 1) anger en linje för den sista men ingen linje för de två första.\nAntag att vi vill prediktera genomsnittliga forcerade utandningsvolymen för längder som inte finns med bland de 606 observationerna, exempelvis \\(x=150\\) och \\(x=160\\). Vi kan använda predict() funktionens argument newdata som är en dataframe med samma variabelnamn som vi använde när vi anpassade modellen (height) i vårt fall. Följande kod skapar dataframen i en variabel vi väljer att kalla new_x och predikterar de genomsnittliga forcerade utandningsvolymerna för de nya \\(x\\) värden ovan.\n\nnew_x <- data.frame(height = c(160, 170))\npredict(lm_fev_vs_height, newdata = new_x)\n\n       1        2 \n2.867951 3.406038 \n\n\nExempelvis ser vi att ett barn (eller en ungdom) på 170 cm har i genomsnitt ett fev-värde på ca 3.4.\n\n💪 Uppgift 2.1\nPrediktera responsen för \\(x=180\\) och \\(x=190\\). Tolka resultaten.\n\n# Write your code here\n\nFör att kolla modellens rimlighet kan vi göra en residualanalys. Följande tre kriterier är viktiga:\n\nResidualerna ska bete sig slumpmässigt, dvs de ska inte uppvisa ett mönster.\nResidualernas varians ska vara konstant, dvs inte bero på \\(x\\).\nResidualerna ska vara approximativt normalfördelade.\n\nDe två senare kriterierna blir viktiga när vi gör inferens i regressionsmodellen (Del 2) av kursen. När första kriterier inte är uppfyllt betyder det ofta att sambandet i data är icke-linjärt.\nResidualerna kan fås genom funktionen residuals():\n\nresid <- residuals(lm_fev_vs_height)\nhead(resid)\n\n          1           2           3           4           5           6 \n-0.34098108 -1.76006091  0.01270459  0.05571600 -0.15398108 -0.25967816 \n\n\nFöljande kod gör residualanalysen.\n\nplot(FevChildren$height, resid, xlab= \"height\", ylab='Residuals', col = \"cornflowerblue\") \n\n\n\nqqnorm(resid, col = \"cornflowerblue\") # Create normal probability plot for residuals\nqqline(resid, col = \"red\") # Add a straight line to normal probability plot \n\n\n\n\nFörsta plotten visar att residualerna inte ter sig slumpmässigt — de visar ett, om än svagt, kvadratiskt samband. Plotten visar också en tydlig indikation på att residualernas varians inte är konstant, eftersom de varierar mer ju större height blir.\nDessa resultat är inte överraskande om vi noga betraktar punktdiagrammet fev mot height igen samt den anpasssade linjen.\n\nplot(fev ~ height, data = FevChildren, col = \"cornflowerblue\")\nabline(lm_fev_vs_height, col = \"lightcoral\")\n\n\n\n\nResidualerna beräknas som avståndet mellan observationerna och dess predikterade värden (som ligger på linjen). Större avvikelser förekommer för större värden på height jämfört med mindre värden, därav en högre residualvarians. Data verkar inte heller följa den räta linjen eftersom en liten grad av icke-linjaritet verkar finnas. I Avsnitt 3 går vi i igenom hur vi kan anpassa en icke-linjär regression för att få bättre resultat.\n\n\n💪 Uppgift 2.2\nExemplet ovan visar hur man anpassar en enkel linjär regression, tolkar resultaten, predikterar responsen för nya \\(x\\) värden och slutligen hur man validerar modellen. Gör en regressionsanalys med responsvariabel IBM och förklarande variabel MARKET i CAPM_data.RData som inkluderar dessa steg. För prediktion, antag att vi vill förutspå vad som händer med IBM aktien om det sker en börskrasch och marknadsportföljen faller med 15% under en månad. Vad kan man förutsäga om IBM aktiens månadsavkastning i ett sådant scenario?\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.knit.html#enkel-icke-linjär-regression",
    "href": "datorlab/lab4/DatorLab4.knit.html#enkel-icke-linjär-regression",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "3. Enkel icke-linjär regression",
    "text": "3. Enkel icke-linjär regression\nI Avsnitt 2 såg vi att regressionslinjen \\[\\widehat{fev} = b_0 + b_1height\\] inte var tillräcklig. Vi kan använda icke-linjär regression för att få en bättre anpassning till data. Icke-linjär regression transformerar data så att sambandet blir linjärt efter att transformering. Tranformationerna syfte är alltså att “räta ut” data och vi kan visuellt inspektera om så är fallet. Ett annat syfte med transformationer är att de ibland gör antagandet om konstant residualvarians mer troligt, vilket också kan studeras visuellt.\nVi använder oss av den så kallade ladder of powers (stege av potenstransformationer) för att “räta ut” data med hjälp av potenstransformationer. Stegen av potenstransformationer visas nedan.\n\nPotenstransformationer för \\(y\\) och \\(x\\).\n\n\nStegnivå\n\\(y\\)\n\\(x\\)\n\n\n\n\n1\n\\(y^2\\)\n\\(x^2\\)\n\n\n2\n\\(y\\)\n\\(x\\)\n\n\n3\n\\(y^{1/2}\\)\n\\(x^{1/2}\\)\n\n\n4\n\\(\\log(y)\\)\n\\(\\log(x)\\)\n\n\n5\n\\(-y^{-1/2}\\)\n\\(-x^{-1/2}\\)\n\n\n6\n\\(-y^{-1}\\)\n\\(-x^{-1}\\)\n\n\n\nTukeys cirkel är en tumregel för hur vi flyttar oss upp och ner i stegen.\n\n\n\nTukeys cirkel.\n\n\nVi börjar med att både \\(y\\) och \\(x\\) befinner sig på stegnivå 2 och flyttar sig sedan uppåt eller nedåt beroende på var i Tukeys cirkel vi befinner oss. Plotten fev mot height indikerar att vi befinner oss i fjärde kvadranten i Tukeys cirkel. Vi ska alltså gå ner i stegen för \\(y\\) och/eller upp i stegen för \\(x\\) tills förhållandet ser mer linjärt ut. Och/eller här betyder att man “flyttar båda”/“flyttar enbart en”. Notera också att en av variablerna kan stanna i stegen medan man flyttar den andra uppåt eller nedåt fler än ett steg.\n\nplot(fev ~ height, data = FevChildren, col = \"cornflowerblue\")  # Starting point: Both y and x  untransformed (Step 2 in the ladder of powers) \n\n\n\nplot(sqrt(fev) ~ height, data = FevChildren, col = \"cornflowerblue\") # y down in the ladder of powers\n\n\n\nplot(fev ~ I(height^2), data = FevChildren, col = \"cornflowerblue\") # x up in the ladder of powers\n\n\n\nplot(sqrt(fev) ~ I(height^2), data = FevChildren, col = \"cornflowerblue\") # y down and x up in the ladder of powers\n\n\n\nplot(log(fev) ~ I(height), data = FevChildren, col = \"cornflowerblue\") # y down two steps\n\n\n\n\nVi kommenterar den mystiska funktionen I() som dyker upp i högerledet på formula-syntaxen y ~ I(x^2) i rutan nedan. Man kan hoppa över rutan, det enda viktiga är att veta att funktionen I() behöver användas i högerledet av formula-syntax om man vill transformera x för att inga misstolkningar ska ske.\n\n\n\n\n\n\nExtra förklaring för de nyfikna studenterna (detta avsnitt kan skippas)\n\n\n\nFormula-syntaxen tillåter att man applicerar en transformation i vänsterledet utan att använda I(), dvs vi kan skriva till exempel sqrt(y) ~ x istället för I(sqrt(y)) ~ x. Detsamma gäller inte högerledet eftersom i formula-syntax så har vissa operationer en annan betydelse när de utförs på den förklarande variabeln. Till exempel anpassar lm(y ~ x*z) en linjär regression med så kallade interakationseffekter1 mellan de förklarande variablerna \\(x\\) och \\(z\\), vilket har formen \\[\\hat{y} = b_0 + b_1x + b_2 z  + b_3xz.\\] När man använder funktionen I() i högerledet undgår man att formula-syntax tolkar fel.\n\n\nVi skulle kunna utvärdera vilken av transformationerna är att föredra med korsvalidering (se Avsnitt 5). Här nöjer vi oss med en utvärdering baserad på grafernas utseende. Vi ser att alla transformationerna resulterar i ett mer linjärt förhållande jämfört med ursprungsdatan (innan transformationerna). Visuellt konstaterar vi att de två sista transformationerna verkar rätar ut data bäst. Vi väljer den sista transformationen eftersom den verkar uppnå en jämnare spridning runt linjen, vilket kommer resultera i residualer med en mer konstant varians.\nDen anpassade linjen har formen \\[\\widehat{\\log(fev)} = b_0 + b_1height,\\] där vi snart ska använda lm() för att beräkna koefficienterna \\(b_0\\) och \\(b_1\\). Men först en viktig varning.\n\n\n\n\n\n\nVarning\n\n\n\nI linjär regression tolkade vi \\(b_1\\) som förändringen i responsvariablen \\(y\\) som är associerad med en en-enhets förändring i den förklarande variabeln \\(x\\).\nNär man transformerar \\(x\\) så finns det inga enkla tolkningar av \\(b_1\\), oavsett om \\(y\\) är transformerad eller inte!\nNär man enbart transformerar \\(y\\) men inte \\(x\\) är tolkningen i den transformerade skalan. I vårt exempel är \\(b_1\\) den förändringen i \\(\\log(y)\\) som är associerad med en en-enhets förändring i den förklarande variabeln \\(x\\). Man kan ibland, beroende på transformationen av \\(y\\), använda \\(b_1\\) för att få en enkel tolkning även i den originala skalan. Vi går inte igenom sådana tolkningar av \\(b_1\\) för icke-linjär regression i den här kursen2.\n\n\nÄr det ens värt att anpassa en modell där koefficienterna inte går att tolka på ett enkelt sätt? Om målet med modellen är att prediktera bättre (jämfört med en linjär regression) så är svaret definitivt ja3.\nPrecis som i Avsnitt 2 kan vi använda minsta kvadratmetoden (genom lm()) för att anpassa modellen på de transformerade data. När vi använder prediktion måste vi tänka på att vi har transformerat variablerna. I det här specifika exemplet med tranformationen log(fev) kommer funktionen predict() att prediktera den genomsnittliga \\(\\log(fev)\\) nivån. Vi vill prediktera i originalskala, dvs responsvariabeln \\(y\\) (fev) och inte \\(\\log(y)\\) (log(fev)). Men vi kan använda prediktionen för \\(\\log(y)\\) och “reversera transformationen”, dvs få transformationen ogjord, för att beräkna prediktionen för \\(y\\). En funktion som reverserar en transformation kallas för en inverstransformation. Tabellen nedan anger inversetransformationerna (kolumnen till höger) vi kan använda oss av när vi predikterar i originalskala. Transformationerna motsvarar de i ladder of powers.\n\nPrediktion i originalskala (kolumn till höger) för olika transformerade responser (kolumn till vänster).\n\n\nTransformation av responsen\nPrediktion i \\(y\\)-skala (\\(\\widehat{y}\\))\n\n\n\n\n\\(y^2\\)\n\\(\\left(\\widehat{y^2}\\right)^{1/2}\\)\n\n\n\\(y\\)\n\\(\\widehat{y}\\)\n\n\n\\(y^{1/2}\\)\n\\(\\left(\\widehat{y^{1/2}}\\right)^2\\)\n\n\n\\(\\log(y)\\)\n\\(\\exp\\left(\\widehat{\\log(y)}\\right)\\)\n\n\n\\(-y^{-1/2}\\)\n\\(\\left(\\widehat{-y^{-1/2}}\\right)^2\\)\n\n\n\\(-y^{-1}\\)\n\\(-\\left(\\widehat{-y^{-1}}\\right)^{-1}\\)\n\n\n\n\n\n\n\n\n\nExtra förklaring för de nyfikna studenterna (detta avsnitt kan skippas)\n\n\n\nLåt transformationen av \\(y\\) betecknas \\(\\tilde{y}\\). Vi kan härleda den inversa transformationen genom att lösa för \\(y\\) i ekvationen \\(\\tilde{y}=g(y)\\) där \\(g()\\) är transformationen.\nLåt oss härleda den inversa transformationen av log-transformationen. Eftersom \\(\\tilde{y}=\\log(y)\\) så är \\[\\exp\\left( \\tilde{y} \\right) = \\exp(\\log(y)) \\implies y = \\exp\\left( \\tilde{y} \\right),\\] dvs exponential-funktionen är den inversa transformen.\nNotera att när vi predikterar \\(y\\) (responsen i originalskala) så sker det i två steg. I det första steget använder vi regressionen för att prediktera \\(\\tilde{y}\\) (responsen i transformed skala, log-skala i exemplet ovan), vilket ger prediktionen \\(\\widehat{\\tilde{y}}\\) (\\(\\widehat{\\log(y)}\\) i exemplet ovan). I andra steget applicerar vi den inversa transformen (\\(\\exp()\\) för log-transformationen) på \\(\\widehat{\\tilde{y}}\\) för att få \\(\\widehat{y}\\) (\\(\\exp\\left(\\widehat{\\log(y)}\\right)\\) i exemplet ovan) som är prediktionen av \\(y\\) (originalskala).\n\n💪 Extra Uppgift 4\nHärled alla de övriga (eller så många du orkar) inversa transformationerna i tabellen ovan.\n\n\n\nVi är nu redo att anpassa den nya regressionen \\[\\widehat{\\log(fev)} = b_0 + b_1height,\\] samt prediktera och genomföra en residualanalys.\n\nlm_logfev_vs_height <- lm(log(fev) ~ height, data = FevChildren)\nsummary(lm_logfev_vs_height)\n\n\nCall:\nlm(formula = log(fev) ~ height, data = FevChildren)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.69706 -0.09037  0.01058  0.08988  0.43795 \n\nCoefficients:\n              Estimate Std. Error t value Pr(>|t|)    \n(Intercept) -2.2227934  0.0717623  -30.97   <2e-16 ***\nheight       0.0202071  0.0004561   44.31   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1476 on 604 degrees of freedom\nMultiple R-squared:  0.7647,    Adjusted R-squared:  0.7643 \nF-statistic:  1963 on 1 and 604 DF,  p-value: < 2.2e-16\n\n\nMinsta kvadratskattningarna är nu \\(b_0=-2.222\\) och \\(b_1=0.020\\). \\(R^2=0.76145\\) betyder att ca 76% av variationen i log(fev) (observera log i tolkningen!) förklaras av height.\n\nlogy_hat <- predict(lm_logfev_vs_height) # log scale prediction\ny_hat <- exp(logy_hat) # original scale prediction\nhead(logy_hat)\n\n        1         2         3         4         5         6 \n0.7027882 1.2417111 0.5744732 0.4974842 0.7027882 0.9080922 \n\nhead(y_hat)\n\n       1        2        3        4        5        6 \n2.019375 3.461531 1.776195 1.644579 2.019375 2.479587 \n\nplot(fev ~ height, data = FevChildren, col = \"cornflowerblue\", ylim = c(0, 7)) # Data on original scale\nlines(FevChildren$height, y_hat, type = \"p\", col = \"lightcoral\")\nlegend(x = \"topleft\", pch = c(1, 1), col = c(\"cornflowerblue\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\"))\n\n\n\n\nNotera att till skillnad från när vi anpassade fev ~ height så använder vi här inte abline() (som ritar en rät linje), eftersom regressionen är icke-linjär. Vi nöjer oss med att markera ut de enskilda prediktionsvärden, men se rutan nedanför på hur man kan göra om man vill rita en kurva.\n\n\n\n\n\n\nExtra: Rita den anpassade kurvan i icke-linjär regression\n\n\n\nNotera att eftersom observationerna inte ligger i ordning för \\(x\\) variabeln så kan vi inte binda ihop de röda punkterna ovan med en linje. Det ser konstigt ut som följande figur visar:\n\nplot(fev ~ height, data = FevChildren, col = \"cornflowerblue\", ylim = c(0, 7), main = \"Strange looking plot\") # Data on original scale\nlines(FevChildren$height, y_hat, type = \"p\", col = \"lightcoral\") # Prediction of data points\nlines(FevChildren$height, y_hat, type = \"l\", col = \"lightcoral\") # line\nlegend(x = \"topleft\", pch = c(1, 1), col = c(\"cornflowerblue\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\"))\n\n\n\n\nMan skulle kunna sortera datasetet i stigande ordning på height och sedan binda ihop varje punkt med en linje. Men om punkterna ligger med en bit avstånd i \\(x\\)-led så är inte det här en bra lösning, eftersom det dras en rät linje mellan punkterna och kurvan vi plottar är inte rät. En bättre lösning är att skapa ett rutnät (grid på engelska) med många punkter i \\(x\\)-led och sedan prediktera för varje punkt i rutnätet. Ett rutnät är en indelning av ett intervall \\([a,b]\\) i \\(N\\) punkter med lika stort avstånd mellan varandra. Anropet seq(a, b, length.out = N) skapar ett rutnät.\n\ngrid <- seq(0.1, 1, length.out = 10) # a = 0.1, b = 1 and N = 10.\ngrid\n\n [1] 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0\n\n\nVi kan nu skapa en dataframe som innehåller ett rutnät mellan det minsta \\(x\\)-värdet och det största \\(x\\)-värdet med säg \\(N=1000\\) punkter och prediktera responsen för dessa 1000 \\(x\\)-värden. Funktionen ‘lines()’ kommer att binda ihop dessa punkter med räta linjer emellan — men punkterna ligger så tätt att våra ögon kommer uppfatta resultatet som en fin och jämn kurva. Följande kod anpassar kurvan på sättet som beskrivits ovan och plottar den tillsammans med data och de enskilda prediktionerna vi skapade ovan.\n\nplot(fev ~ height, data = FevChildren, col = \"cornflowerblue\", ylim = c(0, 7)) # Data on original scale\nx_min <- min(FevChildren$height) # Min height\nx_max <- max(FevChildren$height) # Max height\nN <- 1000 # Number of grid points to predict\nnew_x <- data.frame(height = seq(x_min, x_max, length.out = N)) # The grid in a dataframe\nlogy_hat_grid <- predict(lm_logfev_vs_height, newdata = new_x)\nyhat_grid <- exp(logy_hat_grid) # Inverse transform\nlines(FevChildren$height, y_hat, type = \"p\", col = \"lightcoral\") # Prediction of data points\nlines(new_x$height, yhat_grid, type = \"l\", col = \"lightcoral\") # Prediction on grid\nlegend(x = \"topleft\", pch = c(1, 1, NA), lty = c(NA, NA, 1), col = c(\"cornflowerblue\", \"lightcoral\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\", \"Fitted curve\"))\n\n\n\n\n\n\n\n💪 Uppgift 3.1\nPrediktera responsen för \\(x=180\\) och \\(x=190\\) med den icke-linjära regressionen. Jämför resultaten med den linjära regressionen i Uppgift 2.1.\n\n# Write your code here\n\nSlutligen gör vi en residualanalys.\n\nresid_logfev <- residuals(lm_logfev_vs_height)\nhead(resid_logfev)\n\n          1           2           3           4           5           6 \n-0.16746509 -0.69706393 -0.03214892 -0.05408127 -0.06356935 -0.05965209 \n\nplot(FevChildren$height, resid_logfev, xlab= \"height\", ylab='Residuals', col = \"cornflowerblue\") \n\n\n\nqqnorm(resid_logfev, col = \"cornflowerblue\") # Create normal probability plot for residuals\nqqline(resid_logfev, col = \"red\") # Add a straight line to normal plot \n\n\n\n\n\n\n💪 Uppgift 3.2\nKommentera residualanalysen för den nya modellen. Jämför resultaten mot residualanalysen för den otransformerade responsen (dvs fev ~ height). Vilken modell är att föredra?\n\n\n💪 Uppgift 3.3\nAnpassa modellen \\[\\widehat{fev^{1/2}} = b_0 + b_1height.\\] och utför en liknande analys som för modellen ovan, dvs \\[\\widehat{\\log(fev)} = b_0 + b_1height.\\] Vilken utav dessa är mest lämplig för det här exemplet?\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.knit.html#multipel-linjär-samt-icke-linjär-regression",
    "href": "datorlab/lab4/DatorLab4.knit.html#multipel-linjär-samt-icke-linjär-regression",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "4. Multipel linjär samt icke-linjär regression",
    "text": "4. Multipel linjär samt icke-linjär regression\nEn multipel linjär regression tillåter fler förklarande variabler. Att implementera multipel linjär regression i R kräver inte mycket mer kunskap än det vi har gått igenom ovan.\nVi analyserar återigen FevChildren.RData och inkluderar nu också smoking (som är en dummy-variabel) för att förklara fev, dvs \\[\\widehat{fev}=b_0 + b_1height + b_2smoking\\]\n\nlm_fev_vs_height_smoking <- lm(fev ~ height + smoking, data = FevChildren)\nsummary(lm_fev_vs_height_smoking)\n\n\nCall:\nlm(formula = fev ~ height + smoking, data = FevChildren)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1.76487 -0.25513  0.00027  0.23445  2.09853 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) -5.763158   0.216872 -26.574   <2e-16 ***\nheight       0.053963   0.001388  38.865   <2e-16 ***\nsmoking1    -0.025260   0.060666  -0.416    0.677    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.433 on 603 degrees of freedom\nMultiple R-squared:  0.7285,    Adjusted R-squared:  0.7276 \nF-statistic: 808.9 on 2 and 603 DF,  p-value: < 2.2e-16\n\n\nFrån utskriften kan vi utläsa att \\(b_0 = -5.763\\), \\(b_1 = 0.054\\) och \\(b_2=-0.025\\). Vidare kan vi utläsa att ca 73 av variationen i fev förklaras av height och smoking Notera att R har kallat variabeln smoking1 istället för smoking för att betona att \\(b_2\\) är effekten av gruppen som röker (vi kodade rökning som 1). I en multipel regression så tolkar vi alltid de skattade effektena av en variabel givet att alla andra variablerna hålls konstanta. Till exempel, givet barn och ungdomar av samma längd så är \\(b_2\\) förändringen (här negativt då \\(b_2 < 0\\)) i fev mellan rökare och inte rökare. Dvs, givet att längden är densamma, så tenderar rökare att ha mindre forcerad utandningsvolym jämfört med icke-rökare. Koefficienten \\(b_1\\) tolkas givet att smoking hålls konstant, dvs barn och ungdomar som är 1 cm längre tenderar att i genomsnitt ha \\(b_1=0.054\\) fler enheter forcerad utandningsvolym (än de som är 1 cm kortare) givet att de tillhör samma grupp (antingen rökare eller icke-rökare).\nI multipel regression är det vanligt att plotta residualerna mot de predikterade värdena, snarare än mot varje förklarande variabel. Detta beror på att man potentiellt kan ha många förklarande variabler och då är det mer praktiskt att istället göra residualanalysen utifrån en enda figur.\n\nresid_fev_multiplereg <- residuals(lm_fev_vs_height_smoking)\nhead(resid_fev_multiplereg)\n\n          1           2           3           4           5           6 \n-0.34166549 -1.76486977  0.01300219  0.05660280 -0.15466549 -0.26193379 \n\nplot(lm_fev_vs_height_smoking$fitted.values, resid_fev_multiplereg, xlab= \"y_hat\", ylab='Residuals', col = \"cornflowerblue\") \n\n\n\nqqnorm(resid_fev_multiplereg, col = \"cornflowerblue\") # Create normal probability plot for residuals\nqqline(resid_fev_multiplereg, col = \"red\") # Add a straight line to normal \n\n\n\n\nVi ser liknande problem med residualplottarna som i Avsnitt 2.\nAntag att vi vill prediktera den genomsnittliga forcerade utandningsvolymen för barn och ungdomar som är 164.5 cm långa och röker. Eftersom smoking är en såkallad factor variabel (Rs sätt att koda kategoriska variabler) behöver vi använda as.factor() funktionen när vi skapar new_x.\n\nnew_x <- data.frame(height = 164.5, smoking = as.factor(1))\npredict(lm_fev_vs_height_smoking, newdata = new_x)\n\n       1 \n3.088564 \n\n\nVår prediktion är att den genomsnittliga forcerade utandningsvolymen är 3.088 för rökande barn och ungdomar som är \\(164.5\\) cm långa.\n\n💪 Uppgift 4.1\nAnpassa modellen \\[\\widehat{\\log(fev)}=b_0 + b_1height + b_2smoking.\\] Tolka koefficienterna och utför en residualanalys samt gör en prediktion enligt ovan. Ser resultaten bättre ut?\n\n# Write your code here\n\n\n\n💪 Uppgift 4.2\nFilen real_estate.RData innehåller försäljningspriser SalesPrice samt förklarande variabler för 521 sålda objekt. En mäklarfirma anlitar er som statistiker med följande uppdrag.\nMäklarfirman vill att ni utvecklar en prognosmodell för försäljningspriset. För enkelhets skull ska ni anpassa en multipel linjär regression (dvs inga transformationer!) med följande förklarande variabler:\n\nSqFeet: Area i kvadratfot (enhet 1000 sqft).\nLot: Tomtarea i kvadratfot (enhet 1000 sqft).\nAir: Dummy-variabel som anger om objektet har luftkonditionering (1 kodat som ja, 0 kodat som nej).\n\nMäklarfirman undrar följande utifrån den multipla linjära regressionen:\n\nVad kan man säga om sambandet mellan SqFeet och försäljningspriset?\nVad kan man säga om sambandet mellan Lot och försäljningspriset?\nVerkar det finnas något samband försäljningspriset och Air? Hur ska sambandet tolkas?\nEn visning äger rum snart för en lägenhet som har en area på 2.311 kvadratfot, en tomtarea på 17.312 kvadratfot och luftkonditionering. Vad kan den säljas för? Kommunicera er prediktion med en tydlig tolkning.\n\nHar er modell några brister?\n\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab4/RealEstate.RData?raw=true\"))\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.knit.html#modellval-genom-korsvalidering",
    "href": "datorlab/lab4/DatorLab4.knit.html#modellval-genom-korsvalidering",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "5. Modellval genom Korsvalidering",
    "text": "5. Modellval genom Korsvalidering\nI det här avsnittet ska vi gå igenom hur man väljer en modell med hjälp av korsvalidering.\nDatasetet Penguins.RData innehåller dykpuls (DHR) (dive_heart_rate) och tid för dykning (duration) för 125 pingviner. Vi vill modellera dykpulsen för en pingvin som en funktion av tiden för dykningen. Ett punktdiagram visar att en linjär regression inte kommer att anpassa data väl.\n\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/datorlab/lab4/Penguins.RData?raw=true\"))\nplot(dive_heart_rate ~ duration, data = penguins, col = \"cornflowerblue\")\n\n\n\n\nVi befinner oss i tredje kvadranten på Tukeys cirkel och föreslår följande två modeller\n\nModell 1: \\(\\widehat{DHR^{1/2}} = b_0 + b_1duration\\).\nModell 2: \\(\\widehat{DHR^{1/2}} = b_0 + b_1duration^{1/2}\\).\n\nVi anpassar Modell 1 och plottar de predikterade värdena tillsammans med data i originalskala som vi gjorde i Avsnitt 3. Skillnaden är att när vi predikterar på originalskala så använder vi en annan inverstransformation, \\(\\left(\\widehat{y^{1/2}}\\right)^2\\) enligt tabellen ovan.\n\nlm_sqrtDHR_vs_duration <- lm(sqrt(dive_heart_rate) ~ duration, data = penguins)\nsqrty_hat <- predict(lm_sqrtDHR_vs_duration) # sqrt scale prediction\ny_hat <- sqrty_hat^2 # original scale prediction\nplot(dive_heart_rate ~ duration, data = penguins, col = \"cornflowerblue\", ylim = c(0, 140), main = \"Model 1\") # Data on original scale\nlines(penguins$duration, y_hat, type = \"p\", col = \"lightcoral\")\nlegend(x = \"topright\", pch = c(1, 1), col = c(\"cornflowerblue\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\"))\n\n\n\n\n\n\n\n\n\n\nExtra: Rita den anpassade kurvan\n\n\n\nI Avsnitt 3 lärde vi oss (extra-rutan) hur man ritar in den anpassade kurvan. Vi kan göra samma sak för Modell 1.\n\nplot(dive_heart_rate ~ duration, data = penguins, col = \"cornflowerblue\", ylim = c(0, 140), main = \"Model 1\") # Data on original scale\nx_min <- min(penguins$duration) # Min duration \nx_max <- max(penguins$duration) # Max duration\nN <- 1000 # Number of grid points to predict\nnew_x <- data.frame(duration = seq(x_min, x_max, length.out = N)) # The grid in a dataframe\nsqrty_hat_grid <- predict(lm_sqrtDHR_vs_duration, newdata = new_x)\nyhat_grid <- sqrty_hat_grid^2 # Inverse transform\nlines(penguins$duration, y_hat, type = \"p\", col = \"lightcoral\") # Prediction of data points\nlines(new_x$duration, yhat_grid, type = \"l\", col = \"lightcoral\") # Prediction on grid\nlegend(x = \"topright\", pch = c(1, 1, NA), lty = c(NA, NA, 1), col = c(\"cornflowerblue\", \"lightcoral\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\", \"Fitted curve\"))\n\n\n\n\n\n\nVi anpassar Modell 2 med följande kod. Notera att Modell 2 också transformerar den förklarande variabeln. R håller reda på det åt oss om vi anger I(sqrt(duration)) i formula-syntaxen och vi behöver inte göra något extra.\n\nlm_sqrtDHR_vs_sqrtduration <- lm(sqrt(dive_heart_rate) ~ I(sqrt(duration)), data = penguins)\nsqrty_hat <- predict(lm_sqrtDHR_vs_sqrtduration) # sqrt scale prediction\ny_hat <- sqrty_hat^2 # original scale prediction\nplot(dive_heart_rate ~ duration, data = penguins, col = \"cornflowerblue\", ylim = c(0, 140), main =\"Model 2\") # Data on original scale\nlines(penguins$duration, y_hat, type = \"p\", col = \"lightcoral\")\nlegend(x = \"topright\", pch = c(1, 1), col = c(\"cornflowerblue\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\"))\n\n\n\n\n\n\n\n\n\n\nExtra: Rita den anpassade kurvan\n\n\n\nKod som också ritar den anpassade kurvan för Modell 2.\n\nplot(dive_heart_rate ~ duration, data = penguins, col = \"cornflowerblue\", ylim = c(0, 140), main = \"Model 2\") # Data on original scale\nx_min <- min(penguins$duration) # Min duration \nx_max <- max(penguins$duration) # Max duration\nN <- 1000 # Number of grid points to predict\nnew_x <- data.frame(duration = seq(x_min, x_max, length.out = N)) # The grid in a dataframe\nsqrty_hat_grid <- predict(lm_sqrtDHR_vs_sqrtduration, newdata = new_x)\nyhat_grid <- sqrty_hat_grid^2 # Inverse transform\nlines(penguins$duration, y_hat, type = \"p\", col = \"lightcoral\") # Prediction of data points\nlines(new_x$duration, yhat_grid, type = \"l\", col = \"lightcoral\") # Prediction on grid\nlegend(x = \"topright\", pch = c(1, 1, NA), lty = c(NA, NA, 1), col = c(\"cornflowerblue\", \"lightcoral\", \"lightcoral\"), legend=c(\"Data\", \"Predicted\", \"Fitted curve\"))\n\n\n\n\n\n\nVi ska nu välja vilken av Modell 1 eller Modell 2 är att föredra med hjälp av korsvalidering. På föreläsningen gick vi genom korsvalidering med \\(K = 4\\) folds. Här har vi 125 pingviner som är jämnt delbart med 5, så vi använder \\(K = 5\\) folds istället. Vi får då 80% träningsdata och 20% testdata för varje fold enligt figuren nedan.\n\n\n\nKorsvalidering med \\(K=5\\) folds.\n\n\nFör varje modell behöver vi anropa funktionen lm() \\(K=5\\) gånger med olika träningsdata enligt uppdelningen ovan. Funktionen lm() har ett argument subset som bestämmer vilka observationer (pingviner) som ska användes för att anpassa modellen, dvs träningsdata. När lm() har anpassats till fold \\(k\\) använder vi funktionen predict() för att prediktera testdatan för fold \\(k\\) och räkna ut dess residualkvadratsumma (SSE, sum of squared errors). Koden nedan demonstrerar proceduren för första folden, dvs \\(k=1\\), och förklaras lite mer detaljerad efter kodsnutten.\n\nn <- 125 # Number of observations\n# Fold 1:\nobs_index <- c(1:n) # Keeps track of the indices of  the dataset (1, 2, 3, ...., n = 125)\ntest_fold_index <- obs_index[c(1:25)] # Subsets indices 1:25 (test data fold 1) \ntraining_fold_index <- obs_index[-c(1:25)] # Takes out the complement\nlm_modell1_fold1 <- lm(sqrt(dive_heart_rate) ~ duration, subset = training_fold_index, data = penguins) # Estimate fold 1\ntest_data <- penguins[test_fold_index, ] # Create test data for fold\nsqrty_hat_fold1 <- predict(lm_modell1_fold1, newdata = test_data) # Predict test data in sqrt scale\ny_hat_fold1 <- (sqrty_hat_fold1)^2 # Predict test data ordinary scale\nSSE_fold1 <- sum((test_data$dive_heart_rate - y_hat_fold1)^2) \n\nNotera att datasetet penguins.RData redan ligger i slumpmässig ordning och därför kan obs_index innehålla observationerna i stigande ordning. Ett exempel på ett dataset som ligger i ordning (dvs inte slumpmässigt ordning) är FevChildren.RData där barnen i den lägsta åldersgruppen kommer först, därefter mittersta åldersgruppen följt av äldsta åldersgruppen (ni kan se det genom att klicka på datasetet i Environment-fliken). För ett dataset som ligger i ordning kan man istället definiera obs_index <- sample(c(1:n)). Då innehåller obs_index indexen \\(1, 2, \\dots, n\\) i slumpmässig ordning.\n\n💪 Uppgift 5.1\nSkriv ut test_fold_index och bekräfta att den innehåller indexen för testdata i fold 1, dvs de första 25 observationerna.\n\n# Write your code here\n\nNär vi skapar training_fold_index ovan, notera att -c(1:25) skapar en vektor med värden \\(-1, -2, \\dots, -25\\). När vi skriver obs_index[-c(1:25)] försöker vi alltså plocka ut negativa index ur vektorn obs_index! Negativ indexering i R har en speciell betydelse: Ett negativt index hämtar ut alla andra observationer förutom den som har ett negerat index (negativt index). För att illustrera detta betrakta följande exempel:\n\nmy_vector <- c(3, 2, 1, 20, 3)\nmy_vector[-4]\n\n[1] 3 2 1 3\n\nmy_vector[-2]\n\n[1]  3  1 20  3\n\nmy_vector[c(-1, -3)]\n\n[1]  2 20  3\n\n\nmy_vector[-4] hämtar ut alla observationer förutom den som är på index 4. my_vector[-2] hämtar ut alla observationer förutom den som är på index 2. my_vector[c(-1, -3)] hämtar ut alla observationer förutom de som är på index 1 och 3.\n\n\n💪 Uppgift 5.2\nVilka observationer hämtas ut om man skriver:\n\nmy_vector[-1]?\nmy_vector[-c(3, 1)]?\nmy_vector[-c(1, 2, 4, 5)]?\n\nFundera på svaret innan ni bekräftar med hjälp av kod.\n\n# Write your code here\n\nFör att tydligt illustrera vad som händer, låt oss göra en figur som innehåller:\n\nTräningsdata.\nTestdata.\nModellens anpassning (baserat på träningsdata) som inkluderar prediktion av testdata.\n\n\nplot(dive_heart_rate ~ duration, subset = training_fold_index,  data = penguins, col = \"cornflower blue\", ylim = c(0, 140), main = \"Crossvalidation Model 1: Fold 1 results\") # Training data\nlines(penguins$duration[test_fold_index], penguins$dive_heart_rate[test_fold_index], type = \"p\", col = \"lightgreen\") # Test data\nx_min <- min(penguins$duration) # Min duration \nx_max <- max(penguins$duration) # Max duration\nN <- 1000 # Number of grid points to predict\nnew_x <- data.frame(duration = seq(x_min, x_max, length.out = N)) # The grid in a dataframe\nsqrty_hat_grid_fold1 <- predict(lm_modell1_fold1, newdata = new_x)\nyhat_grid_fold1 <- sqrty_hat_grid_fold1^2 # Inverse transform\nlines(new_x$duration, yhat_grid_fold1, type = \"l\", col = \"lightcoral\") # Prediction on grid\nlegend(x = \"topright\", pch = c(1, 1, NA), lty = c(NA, NA, 1), col = c(\"cornflowerblue\", \"lightgreen\", \"lightcoral\"), legend=c(\"Training data\", \"Test data\", \"Fitted curve\"))\n\n\n\n\nVariabeln yhat_grid_fold1 innehåller prediktionerna för testdata. En sådan prediktion ges av kurvans \\(y\\)-värde för en grön punkts (testdata) \\(x\\)-värde.\n\n\n💪 Uppgift 5.3\nIdentifiera testobservationen som har störst prediktionsfel i plotten ovan.\nOvan har vi grafiskt illustrerat hur korsvalideringsproceduren fungerar inom en given fold i pedagogiskt syfte. Normalt utför man korsvalidering utan en grafisk illustration. Följande kod utför korsvalideringen för fold 2, 3, 4. Den sista folden (fold 5) lämnas som en uppgift (se nedan).\n\n# Fold 2:\ntest_fold_index <- obs_index[c(26:50)] # Subsets indices 26:50 (test data fold 2) \ntraining_fold_index <- obs_index[-c(26:50)] # Takes out the complement\nlm_modell1_fold2 <- lm(sqrt(dive_heart_rate) ~ duration, subset = training_fold_index, data = penguins) # Estimate fold 2\ntest_data <- penguins[test_fold_index, ] # Create test data for fold\nsqrty_hat_fold2 <- predict(lm_modell1_fold2, newdata = test_data) # Predict test data in sqrt scale\ny_hat_fold2 <- (sqrty_hat_fold2)^2 # Predict test data ordinary scale\nSSE_fold2 <- sum((test_data$dive_heart_rate - y_hat_fold2)^2)\n\n# Fold 3:\ntest_fold_index <- obs_index[c(51:75)] # Subsets indices 51:75 (test data fold 3) \ntraining_fold_index <- obs_index[-c(51:75)] # Takes out the complement\nlm_modell1_fold3 <- lm(sqrt(dive_heart_rate) ~ duration, subset = training_fold_index, data = penguins) # Estimate fold 3\ntest_data <- penguins[test_fold_index, ] # Create test data for fold\nsqrty_hat_fold3 <- predict(lm_modell1_fold3, newdata = test_data) # Predict test data in sqrt scale\ny_hat_fold3 <- (sqrty_hat_fold3)^2 # Predict test data ordinary scale\nSSE_fold3 <- sum((test_data$dive_heart_rate - y_hat_fold3)^2)\n\n# Fold 4:\ntest_fold_index <- obs_index[c(76:100)] # Subsets indices 76:100 (test data fold 4) \ntraining_fold_index <- obs_index[-c(76:100)] # Takes out the complement\nlm_modell1_fold4 <- lm(sqrt(dive_heart_rate) ~ duration, subset = training_fold_index, data = penguins) # Estimate fold 4\ntest_data <- penguins[test_fold_index, ] # Create test data for fold\nsqrty_hat_fold4 <- predict(lm_modell1_fold4, newdata = test_data) # Predict test data in sqrt scale\ny_hat_fold4 <- (sqrty_hat_fold4)^2 # Predict test data ordinary scale\nSSE_fold4 <- sum((test_data$dive_heart_rate - y_hat_fold4)^2)\n\n\n\n💪 Uppgift 5.4\nUtför de beräkningar som krävs att räkna ut SSE för fold 5.\n\n# Write your code here.\n\nDen korsvaliderade root mean squared error (RMSE) ges av \\[\\mathrm{RMSE}_{\\mathrm{cv}} = \\sqrt{\\frac{1}{n} \\sum_{k=1}^K \\mathrm{SSE}_k},\\] där \\(K=5\\), \\(n=125\\) (totala antalet observationer) och \\(\\mathrm{SSE}_k\\) är SSE för fold \\(k\\).\n\n\n💪 Uppgift 5.5\nBeräkna \\(\\mathrm{RMSE}_{\\mathrm{cv}}\\) för Modell 1.\n\n# Write your code here.\n\n\n\n💪 Uppgift 5.6\nUtför korsvalidering för Modell 2 och beräkna dess \\(\\mathrm{RMSE}_{\\mathrm{cv}}\\). Vilken modell är bäst?\n\n# Write your code here."
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.knit.html#sammanfattning",
    "href": "datorlab/lab4/DatorLab4.knit.html#sammanfattning",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "6. Sammanfattning",
    "text": "6. Sammanfattning\n\n\n\n\n\n\nI den här laborationen har du lärt dig:\n\n\n\n\nKorrelation för att beskriva ett linjärt samband mellan två numeriska variabler.\nHur man tolkar en enkel och multipel linjär regression.\nHur man använder R för att anpassa linjära och icke-linjära regressionsmodeller.\nHur man använder R för att prediktera linjära och icke-linjära regressionsmodeller.\nHur man validerar en modell via en residualanalys.\nHur man väljer modeller med hjälp av korsvalidering."
  },
  {
    "objectID": "datorlab/lab4/DatorLab4.knit.html#a.-appendix",
    "href": "datorlab/lab4/DatorLab4.knit.html#a.-appendix",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "A. Appendix",
    "text": "A. Appendix\nLista över några vanliga argument i grafer\n\ncol = färg, kan markeras med siffror eller med namnet på färgen, oftast med små bokstäver. Glöm ej att texten måste ligga inom citattecken.\nmain = rubrik på plotten, detta sätts till en textsträng, alltså en text inom citattecken.\nxlab = rubrik på x-axeln, detta sätts till en textsträng, alltså en text inom citattecken.\nylab = rubrik på y-axeln, detta sätts till en textsträng, alltså en text inom citattecken.\nxlim = definitionsområde för x-axeln. Exempelvis betyder xlim = c(0, 14.3) att det lägsta värdet som ritas kommer att vara 0 och det högsta värdet kommer att vara 14.3 (på x-axeln).\nylim = definitionsområde för y-axeln. Exempelvis betyder ylim = c(-2, 20.7) att det lägsta värdet som ritas kommer att vara -2 och det högsta värdet kommer att vara 20.7 (på y-axeln).\nlwd = tjocklecken på linjer (eller prickar) i ett linjediagram (spridningsdiagram), anges med ett nummer.\nlty = typ av linje (rak, streckad, prickad etc) i ett linjediagram, anges med ett nummer.\npch = typ av prick (rund, fyrkantig + * etc), sätts till ett nummer.\nbreaks = antal staplar i ett histogram.\ncex = justering av etiketternas storlek i en figur (exempelvis cex = 0.5 i en legend() funktion minskar storleken som “legend-texten” tar upp i en figur med hälften). Finns även exempelvis cex.axis, cex.main för att justera storleken av texter på axlar respektive rubrik.\nbg = bakgrundsfärg i en figur.\ncol.main = rubrikens färg.\ncol.lab = färger för rubrikerna på axlarna.\nfont = specificerar vilken typ av text man vill ha, exempelvis ger font = 3 kursiv text."
  },
  {
    "objectID": "observable/bayestheorem.html",
    "href": "observable/bayestheorem.html",
    "title": "Bayes sats",
    "section": "",
    "text": "Den här widgeten låter dig undersöka hur tillförlitliga hemtest för Covid är genom att beräkna den betingade sannolikheten P(covid | positivt test) med hjälp av Bayes sats. Du kan också använda widgeten till andra problem, genom att ge händelserna covid och pos andra namn."
  },
  {
    "objectID": "observable/storatalenslag.html#medelvärdet-stabiliseras-kring-mu",
    "href": "observable/storatalenslag.html#medelvärdet-stabiliseras-kring-mu",
    "title": "Stora talens lag - normalfördelning",
    "section": "Medelvärdet stabiliseras kring \\(\\mu\\)",
    "text": "Medelvärdet stabiliseras kring \\(\\mu\\)"
  },
  {
    "objectID": "observable/storatalenslag.html#samplingfördelningen-koncentreras-kring-mu",
    "href": "observable/storatalenslag.html#samplingfördelningen-koncentreras-kring-mu",
    "title": "Stora talens lag - normalfördelning",
    "section": "Samplingfördelningen koncentreras kring \\(\\mu\\)",
    "text": "Samplingfördelningen koncentreras kring \\(\\mu\\)"
  },
  {
    "objectID": "formel_tabell_samlingar/tabellsamling_print.html#normalfördelning",
    "href": "formel_tabell_samlingar/tabellsamling_print.html#normalfördelning",
    "title": "Tabellsamling - Statistik och Dataanalys I",
    "section": "Normalfördelning",
    "text": "Normalfördelning\nTabellen ger sannolikheten \\(\\Phi(z) = P(Z\\leq z)\\) för olika \\(z\\) där \\(Z\\) är standardnormal, \\(Z\\sim N(0,1)\\).\nSannolikheter i den vänstra svansen fås genom symmetri: \\(P(Z\\leq \\textminus z) = 1-P(Z\\leq z)\\).\n\n                                                                 \n\n\nAndra decimalen i \\(z\\)\n\n\n\n\n\n \n  \n      \n    0.00 \n    0.01 \n    0.02 \n    0.03 \n    0.04 \n    0.05 \n    0.06 \n    0.07 \n    0.08 \n    0.09 \n  \n \n\n  \n    0.0 \n    0.5000 \n    0.5040 \n    0.5080 \n    0.5120 \n    0.5160 \n    0.5199 \n    0.5239 \n    0.5279 \n    0.5319 \n    0.5359 \n  \n  \n    0.1 \n    0.5398 \n    0.5438 \n    0.5478 \n    0.5517 \n    0.5557 \n    0.5596 \n    0.5636 \n    0.5675 \n    0.5714 \n    0.5753 \n  \n  \n    0.2 \n    0.5793 \n    0.5832 \n    0.5871 \n    0.5910 \n    0.5948 \n    0.5987 \n    0.6026 \n    0.6064 \n    0.6103 \n    0.6141 \n  \n  \n    0.3 \n    0.6179 \n    0.6217 \n    0.6255 \n    0.6293 \n    0.6331 \n    0.6368 \n    0.6406 \n    0.6443 \n    0.6480 \n    0.6517 \n  \n  \n    0.4 \n    0.6554 \n    0.6591 \n    0.6628 \n    0.6664 \n    0.6700 \n    0.6736 \n    0.6772 \n    0.6808 \n    0.6844 \n    0.6879 \n  \n  \n    0.5 \n    0.6915 \n    0.6950 \n    0.6985 \n    0.7019 \n    0.7054 \n    0.7088 \n    0.7123 \n    0.7157 \n    0.7190 \n    0.7224 \n  \n  \n    0.6 \n    0.7257 \n    0.7291 \n    0.7324 \n    0.7357 \n    0.7389 \n    0.7422 \n    0.7454 \n    0.7486 \n    0.7517 \n    0.7549 \n  \n  \n    0.7 \n    0.7580 \n    0.7611 \n    0.7642 \n    0.7673 \n    0.7704 \n    0.7734 \n    0.7764 \n    0.7794 \n    0.7823 \n    0.7852 \n  \n  \n    0.8 \n    0.7881 \n    0.7910 \n    0.7939 \n    0.7967 \n    0.7995 \n    0.8023 \n    0.8051 \n    0.8078 \n    0.8106 \n    0.8133 \n  \n  \n    0.9 \n    0.8159 \n    0.8186 \n    0.8212 \n    0.8238 \n    0.8264 \n    0.8289 \n    0.8315 \n    0.8340 \n    0.8365 \n    0.8389 \n  \n  \n    1.0 \n    0.8413 \n    0.8438 \n    0.8461 \n    0.8485 \n    0.8508 \n    0.8531 \n    0.8554 \n    0.8577 \n    0.8599 \n    0.8621 \n  \n  \n    1.1 \n    0.8643 \n    0.8665 \n    0.8686 \n    0.8708 \n    0.8729 \n    0.8749 \n    0.8770 \n    0.8790 \n    0.8810 \n    0.8830 \n  \n  \n    1.2 \n    0.8849 \n    0.8869 \n    0.8888 \n    0.8907 \n    0.8925 \n    0.8944 \n    0.8962 \n    0.8980 \n    0.8997 \n    0.9015 \n  \n  \n    1.3 \n    0.9032 \n    0.9049 \n    0.9066 \n    0.9082 \n    0.9099 \n    0.9115 \n    0.9131 \n    0.9147 \n    0.9162 \n    0.9177 \n  \n  \n    1.4 \n    0.9192 \n    0.9207 \n    0.9222 \n    0.9236 \n    0.9251 \n    0.9265 \n    0.9279 \n    0.9292 \n    0.9306 \n    0.9319 \n  \n  \n    1.5 \n    0.9332 \n    0.9345 \n    0.9357 \n    0.9370 \n    0.9382 \n    0.9394 \n    0.9406 \n    0.9418 \n    0.9429 \n    0.9441 \n  \n  \n    1.6 \n    0.9452 \n    0.9463 \n    0.9474 \n    0.9484 \n    0.9495 \n    0.9505 \n    0.9515 \n    0.9525 \n    0.9535 \n    0.9545 \n  \n  \n    1.7 \n    0.9554 \n    0.9564 \n    0.9573 \n    0.9582 \n    0.9591 \n    0.9599 \n    0.9608 \n    0.9616 \n    0.9625 \n    0.9633 \n  \n  \n    1.8 \n    0.9641 \n    0.9649 \n    0.9656 \n    0.9664 \n    0.9671 \n    0.9678 \n    0.9686 \n    0.9693 \n    0.9699 \n    0.9706 \n  \n  \n    1.9 \n    0.9713 \n    0.9719 \n    0.9726 \n    0.9732 \n    0.9738 \n    0.9744 \n    0.9750 \n    0.9756 \n    0.9761 \n    0.9767 \n  \n  \n    2.0 \n    0.9772 \n    0.9778 \n    0.9783 \n    0.9788 \n    0.9793 \n    0.9798 \n    0.9803 \n    0.9808 \n    0.9812 \n    0.9817 \n  \n  \n    2.1 \n    0.9821 \n    0.9826 \n    0.9830 \n    0.9834 \n    0.9838 \n    0.9842 \n    0.9846 \n    0.9850 \n    0.9854 \n    0.9857 \n  \n  \n    2.2 \n    0.9861 \n    0.9864 \n    0.9868 \n    0.9871 \n    0.9875 \n    0.9878 \n    0.9881 \n    0.9884 \n    0.9887 \n    0.9890 \n  \n  \n    2.3 \n    0.9893 \n    0.9896 \n    0.9898 \n    0.9901 \n    0.9904 \n    0.9906 \n    0.9909 \n    0.9911 \n    0.9913 \n    0.9916 \n  \n  \n    2.4 \n    0.9918 \n    0.9920 \n    0.9922 \n    0.9925 \n    0.9927 \n    0.9929 \n    0.9931 \n    0.9932 \n    0.9934 \n    0.9936 \n  \n  \n    2.5 \n    0.9938 \n    0.9940 \n    0.9941 \n    0.9943 \n    0.9945 \n    0.9946 \n    0.9948 \n    0.9949 \n    0.9951 \n    0.9952 \n  \n  \n    2.6 \n    0.9953 \n    0.9955 \n    0.9956 \n    0.9957 \n    0.9959 \n    0.9960 \n    0.9961 \n    0.9962 \n    0.9963 \n    0.9964 \n  \n  \n    2.7 \n    0.9965 \n    0.9966 \n    0.9967 \n    0.9968 \n    0.9969 \n    0.9970 \n    0.9971 \n    0.9972 \n    0.9973 \n    0.9974 \n  \n  \n    2.8 \n    0.9974 \n    0.9975 \n    0.9976 \n    0.9977 \n    0.9977 \n    0.9978 \n    0.9979 \n    0.9979 \n    0.9980 \n    0.9981 \n  \n  \n    2.9 \n    0.9981 \n    0.9982 \n    0.9982 \n    0.9983 \n    0.9984 \n    0.9984 \n    0.9985 \n    0.9985 \n    0.9986 \n    0.9986"
  },
  {
    "objectID": "formel_tabell_samlingar/tabellsamling_print.html#student-t-fördelning",
    "href": "formel_tabell_samlingar/tabellsamling_print.html#student-t-fördelning",
    "title": "Tabellsamling - Statistik och Dataanalys I",
    "section": "Student-\\(t\\) fördelning",
    "text": "Student-\\(t\\) fördelning\n\n\n      \n\n\n\n\n\n\n\nKonfidensnivå: \n 80%\n 90%\n 95%\n 98%\n 99%\n\n\nTvåsidig sannolikhet: \n0.200\n0.100\n0.050\n0.020\n0.010\n\n\nEnsidig sannolikhet: \n0.100\n0.050\n0.025\n0.010\n0.005\n\n\ndf \n\n\n\n\n\n\n\n\n  \n    1 \n    3.078 \n    6.314 \n    12.706 \n    31.821 \n    63.657 \n  \n  \n    2 \n    1.886 \n    2.920 \n    4.303 \n    6.965 \n    9.925 \n  \n  \n    3 \n    1.638 \n    2.353 \n    3.182 \n    4.541 \n    5.841 \n  \n  \n    4 \n    1.533 \n    2.132 \n    2.776 \n    3.747 \n    4.604 \n  \n  \n    5 \n    1.476 \n    2.015 \n    2.571 \n    3.365 \n    4.032 \n  \n  \n    6 \n    1.440 \n    1.943 \n    2.447 \n    3.143 \n    3.707 \n  \n  \n    7 \n    1.415 \n    1.895 \n    2.365 \n    2.998 \n    3.499 \n  \n  \n    8 \n    1.397 \n    1.860 \n    2.306 \n    2.896 \n    3.355 \n  \n  \n    9 \n    1.383 \n    1.833 \n    2.262 \n    2.821 \n    3.250 \n  \n  \n    10 \n    1.372 \n    1.812 \n    2.228 \n    2.764 \n    3.169 \n  \n  \n    11 \n    1.363 \n    1.796 \n    2.201 \n    2.718 \n    3.106 \n  \n  \n    12 \n    1.356 \n    1.782 \n    2.179 \n    2.681 \n    3.055 \n  \n  \n    13 \n    1.350 \n    1.771 \n    2.160 \n    2.650 \n    3.012 \n  \n  \n    14 \n    1.345 \n    1.761 \n    2.145 \n    2.624 \n    2.977 \n  \n  \n    15 \n    1.341 \n    1.753 \n    2.131 \n    2.602 \n    2.947 \n  \n  \n    16 \n    1.337 \n    1.746 \n    2.120 \n    2.583 \n    2.921 \n  \n  \n    17 \n    1.333 \n    1.740 \n    2.110 \n    2.567 \n    2.898 \n  \n  \n    18 \n    1.330 \n    1.734 \n    2.101 \n    2.552 \n    2.878 \n  \n  \n    19 \n    1.328 \n    1.729 \n    2.093 \n    2.539 \n    2.861 \n  \n  \n    20 \n    1.325 \n    1.725 \n    2.086 \n    2.528 \n    2.845 \n  \n  \n    21 \n    1.323 \n    1.721 \n    2.080 \n    2.518 \n    2.831 \n  \n  \n    22 \n    1.321 \n    1.717 \n    2.074 \n    2.508 \n    2.819 \n  \n  \n    23 \n    1.319 \n    1.714 \n    2.069 \n    2.500 \n    2.807 \n  \n  \n    24 \n    1.318 \n    1.711 \n    2.064 \n    2.492 \n    2.797 \n  \n  \n    25 \n    1.316 \n    1.708 \n    2.060 \n    2.485 \n    2.787 \n  \n  \n    26 \n    1.315 \n    1.706 \n    2.056 \n    2.479 \n    2.779 \n  \n  \n    27 \n    1.314 \n    1.703 \n    2.052 \n    2.473 \n    2.771 \n  \n  \n    28 \n    1.313 \n    1.701 \n    2.048 \n    2.467 \n    2.763 \n  \n  \n    29 \n    1.311 \n    1.699 \n    2.045 \n    2.462 \n    2.756 \n  \n  \n    30 \n    1.310 \n    1.697 \n    2.042 \n    2.457 \n    2.750 \n  \n  \n    32 \n    1.309 \n    1.694 \n    2.037 \n    2.449 \n    2.738 \n  \n  \n    35 \n    1.306 \n    1.690 \n    2.030 \n    2.438 \n    2.724 \n  \n  \n    40 \n    1.303 \n    1.684 \n    2.021 \n    2.423 \n    2.704 \n  \n  \n    45 \n    1.301 \n    1.679 \n    2.014 \n    2.412 \n    2.690 \n  \n  \n    50 \n    1.299 \n    1.676 \n    2.009 \n    2.403 \n    2.678 \n  \n  \n    60 \n    1.296 \n    1.671 \n    2.000 \n    2.390 \n    2.660 \n  \n  \n    75 \n    1.293 \n    1.665 \n    1.992 \n    2.377 \n    2.643 \n  \n  \n    100 \n    1.290 \n    1.660 \n    1.984 \n    2.364 \n    2.626 \n  \n  \n    120 \n    1.289 \n    1.658 \n    1.980 \n    2.358 \n    2.617 \n  \n  \n    140 \n    1.288 \n    1.656 \n    1.977 \n    2.353 \n    2.611 \n  \n  \n    180 \n    1.286 \n    1.653 \n    1.973 \n    2.347 \n    2.603 \n  \n  \n    250 \n    1.285 \n    1.651 \n    1.969 \n    2.341 \n    2.596 \n  \n  \n    400 \n    1.284 \n    1.649 \n    1.966 \n    2.336 \n    2.588 \n  \n  \n    1000 \n    1.282 \n    1.646 \n    1.962 \n    2.330 \n    2.581 \n  \n  \n    oändligt \n    1.282 \n    1.645 \n    1.960 \n    2.326 \n    2.576"
  },
  {
    "objectID": "formel_tabell_samlingar/tabellsamling_print.html#chi2-fördelning",
    "href": "formel_tabell_samlingar/tabellsamling_print.html#chi2-fördelning",
    "title": "Tabellsamling - Statistik och Dataanalys I",
    "section": "\\(\\chi^2\\)-fördelning",
    "text": "\\(\\chi^2\\)-fördelning\n\n\n  \n\n\n\n\n\n\n\nSannolikhet i höger svans: \n0.100\n0.050\n0.025\n0.010\n0.005\n\n\ndf \n\n\n\n\n\n\n\n\n  \n    1 \n    2.706 \n    3.841 \n    5.024 \n    6.635 \n    7.879 \n  \n  \n    2 \n    4.605 \n    5.991 \n    7.378 \n    9.210 \n    10.597 \n  \n  \n    3 \n    6.251 \n    7.815 \n    9.348 \n    11.345 \n    12.838 \n  \n  \n    4 \n    7.779 \n    9.488 \n    11.143 \n    13.277 \n    14.860 \n  \n  \n    5 \n    9.236 \n    11.070 \n    12.833 \n    15.086 \n    16.750 \n  \n  \n    6 \n    10.645 \n    12.592 \n    14.449 \n    16.812 \n    18.548 \n  \n  \n    7 \n    12.017 \n    14.067 \n    16.013 \n    18.475 \n    20.278 \n  \n  \n    8 \n    13.362 \n    15.507 \n    17.535 \n    20.090 \n    21.955 \n  \n  \n    9 \n    14.684 \n    16.919 \n    19.023 \n    21.666 \n    23.589 \n  \n  \n    10 \n    15.987 \n    18.307 \n    20.483 \n    23.209 \n    25.188 \n  \n  \n    11 \n    17.275 \n    19.675 \n    21.920 \n    24.725 \n    26.757 \n  \n  \n    12 \n    18.549 \n    21.026 \n    23.337 \n    26.217 \n    28.300 \n  \n  \n    13 \n    19.812 \n    22.362 \n    24.736 \n    27.688 \n    29.819 \n  \n  \n    14 \n    21.064 \n    23.685 \n    26.119 \n    29.141 \n    31.319 \n  \n  \n    15 \n    22.307 \n    24.996 \n    27.488 \n    30.578 \n    32.801 \n  \n  \n    16 \n    23.542 \n    26.296 \n    28.845 \n    32.000 \n    34.267 \n  \n  \n    17 \n    24.769 \n    27.587 \n    30.191 \n    33.409 \n    35.718 \n  \n  \n    18 \n    25.989 \n    28.869 \n    31.526 \n    34.805 \n    37.156 \n  \n  \n    19 \n    27.204 \n    30.144 \n    32.852 \n    36.191 \n    38.582 \n  \n  \n    20 \n    28.412 \n    31.410 \n    34.170 \n    37.566 \n    39.997 \n  \n  \n    21 \n    29.615 \n    32.671 \n    35.479 \n    38.932 \n    41.401 \n  \n  \n    22 \n    30.813 \n    33.924 \n    36.781 \n    40.289 \n    42.796 \n  \n  \n    23 \n    32.007 \n    35.172 \n    38.076 \n    41.638 \n    44.181 \n  \n  \n    24 \n    33.196 \n    36.415 \n    39.364 \n    42.980 \n    45.559 \n  \n  \n    25 \n    34.382 \n    37.652 \n    40.646 \n    44.314 \n    46.928 \n  \n  \n    26 \n    35.563 \n    38.885 \n    41.923 \n    45.642 \n    48.290 \n  \n  \n    27 \n    36.741 \n    40.113 \n    43.195 \n    46.963 \n    49.645 \n  \n  \n    28 \n    37.916 \n    41.337 \n    44.461 \n    48.278 \n    50.993 \n  \n  \n    29 \n    39.087 \n    42.557 \n    45.722 \n    49.588 \n    52.336 \n  \n  \n    30 \n    40.256 \n    43.773 \n    46.979 \n    50.892 \n    53.672 \n  \n  \n    40 \n    51.805 \n    55.758 \n    59.342 \n    63.691 \n    66.766 \n  \n  \n    50 \n    63.167 \n    67.505 \n    71.420 \n    76.154 \n    79.490 \n  \n  \n    60 \n    74.397 \n    79.082 \n    83.298 \n    88.379 \n    91.952 \n  \n  \n    70 \n    85.527 \n    90.531 \n    95.023 \n    100.425 \n    104.215 \n  \n  \n    80 \n    96.578 \n    101.879 \n    106.629 \n    112.329 \n    116.321 \n  \n  \n    90 \n    107.565 \n    113.145 \n    118.136 \n    124.116 \n    128.299 \n  \n  \n    100 \n    118.498 \n    124.342 \n    129.561 \n    135.807 \n    140.169"
  },
  {
    "objectID": "formel_tabell_samlingar/tabellsamling_print.html#f-fördelning",
    "href": "formel_tabell_samlingar/tabellsamling_print.html#f-fördelning",
    "title": "Tabellsamling - Statistik och Dataanalys I",
    "section": "\\(F\\)-fördelning",
    "text": "\\(F\\)-fördelning\n\n\\(\\alpha = 0.01\\)\\(\\alpha = 0.05\\)\\(\\alpha = 0.10\\)\n\n\n\n\n  \n\nKolumnerna är frihetsgraderna i täljaren.\nRaderna är frihetsgraderna i nämnaren.\n\n\n\n\n \n\n\nFrihetsgrader i täljaren\n\n  \n      \n     1 \n     2 \n     3 \n     4 \n     5 \n     6 \n     7 \n     8 \n     9 \n    10 \n    11 \n    12 \n    13 \n    14 \n    15 \n    16 \n    17 \n    18 \n    19 \n    20 \n    21 \n    22 \n  \n \n\n  \n    1 \n    4052.18 \n    4999.50 \n    5403.35 \n    5624.58 \n    5763.65 \n    5858.99 \n    5928.36 \n    5981.07 \n    6022.47 \n    6055.85 \n    6083.32 \n    6106.32 \n    6125.86 \n    6142.67 \n    6157.28 \n    6170.10 \n    6181.43 \n    6191.53 \n    6200.58 \n    6208.73 \n    6216.12 \n    6222.84 \n  \n  \n    2 \n    98.50 \n    99.00 \n    99.17 \n    99.25 \n    99.30 \n    99.33 \n    99.36 \n    99.37 \n    99.39 \n    99.40 \n    99.41 \n    99.42 \n    99.42 \n    99.43 \n    99.43 \n    99.44 \n    99.44 \n    99.44 \n    99.45 \n    99.45 \n    99.45 \n    99.45 \n  \n  \n    3 \n    34.12 \n    30.82 \n    29.46 \n    28.71 \n    28.24 \n    27.91 \n    27.67 \n    27.49 \n    27.35 \n    27.23 \n    27.13 \n    27.05 \n    26.98 \n    26.92 \n    26.87 \n    26.83 \n    26.79 \n    26.75 \n    26.72 \n    26.69 \n    26.66 \n    26.64 \n  \n  \n    4 \n    21.20 \n    18.00 \n    16.69 \n    15.98 \n    15.52 \n    15.21 \n    14.98 \n    14.80 \n    14.66 \n    14.55 \n    14.45 \n    14.37 \n    14.31 \n    14.25 \n    14.20 \n    14.15 \n    14.11 \n    14.08 \n    14.05 \n    14.02 \n    13.99 \n    13.97 \n  \n  \n    5 \n    16.26 \n    13.27 \n    12.06 \n    11.39 \n    10.97 \n    10.67 \n    10.46 \n    10.29 \n    10.16 \n    10.05 \n    9.96 \n    9.89 \n    9.82 \n    9.77 \n    9.72 \n    9.68 \n    9.64 \n    9.61 \n    9.58 \n    9.55 \n    9.53 \n    9.51 \n  \n  \n    6 \n    13.75 \n    10.92 \n    9.78 \n    9.15 \n    8.75 \n    8.47 \n    8.26 \n    8.10 \n    7.98 \n    7.87 \n    7.79 \n    7.72 \n    7.66 \n    7.60 \n    7.56 \n    7.52 \n    7.48 \n    7.45 \n    7.42 \n    7.40 \n    7.37 \n    7.35 \n  \n  \n    7 \n    12.25 \n    9.55 \n    8.45 \n    7.85 \n    7.46 \n    7.19 \n    6.99 \n    6.84 \n    6.72 \n    6.62 \n    6.54 \n    6.47 \n    6.41 \n    6.36 \n    6.31 \n    6.28 \n    6.24 \n    6.21 \n    6.18 \n    6.16 \n    6.13 \n    6.11 \n  \n  \n    8 \n    11.26 \n    8.65 \n    7.59 \n    7.01 \n    6.63 \n    6.37 \n    6.18 \n    6.03 \n    5.91 \n    5.81 \n    5.73 \n    5.67 \n    5.61 \n    5.56 \n    5.52 \n    5.48 \n    5.44 \n    5.41 \n    5.38 \n    5.36 \n    5.34 \n    5.32 \n  \n  \n    9 \n    10.56 \n    8.02 \n    6.99 \n    6.42 \n    6.06 \n    5.80 \n    5.61 \n    5.47 \n    5.35 \n    5.26 \n    5.18 \n    5.11 \n    5.05 \n    5.01 \n    4.96 \n    4.92 \n    4.89 \n    4.86 \n    4.83 \n    4.81 \n    4.79 \n    4.77 \n  \n  \n    10 \n    10.04 \n    7.56 \n    6.55 \n    5.99 \n    5.64 \n    5.39 \n    5.20 \n    5.06 \n    4.94 \n    4.85 \n    4.77 \n    4.71 \n    4.65 \n    4.60 \n    4.56 \n    4.52 \n    4.49 \n    4.46 \n    4.43 \n    4.41 \n    4.38 \n    4.36 \n  \n  \n    11 \n    9.65 \n    7.21 \n    6.22 \n    5.67 \n    5.32 \n    5.07 \n    4.89 \n    4.74 \n    4.63 \n    4.54 \n    4.46 \n    4.40 \n    4.34 \n    4.29 \n    4.25 \n    4.21 \n    4.18 \n    4.15 \n    4.12 \n    4.10 \n    4.08 \n    4.06 \n  \n  \n    12 \n    9.33 \n    6.93 \n    5.95 \n    5.41 \n    5.06 \n    4.82 \n    4.64 \n    4.50 \n    4.39 \n    4.30 \n    4.22 \n    4.16 \n    4.10 \n    4.05 \n    4.01 \n    3.97 \n    3.94 \n    3.91 \n    3.88 \n    3.86 \n    3.84 \n    3.82 \n  \n  \n    13 \n    9.07 \n    6.70 \n    5.74 \n    5.21 \n    4.86 \n    4.62 \n    4.44 \n    4.30 \n    4.19 \n    4.10 \n    4.02 \n    3.96 \n    3.91 \n    3.86 \n    3.82 \n    3.78 \n    3.75 \n    3.72 \n    3.69 \n    3.66 \n    3.64 \n    3.62 \n  \n  \n    14 \n    8.86 \n    6.51 \n    5.56 \n    5.04 \n    4.69 \n    4.46 \n    4.28 \n    4.14 \n    4.03 \n    3.94 \n    3.86 \n    3.80 \n    3.75 \n    3.70 \n    3.66 \n    3.62 \n    3.59 \n    3.56 \n    3.53 \n    3.51 \n    3.48 \n    3.46 \n  \n  \n    15 \n    8.68 \n    6.36 \n    5.42 \n    4.89 \n    4.56 \n    4.32 \n    4.14 \n    4.00 \n    3.89 \n    3.80 \n    3.73 \n    3.67 \n    3.61 \n    3.56 \n    3.52 \n    3.49 \n    3.45 \n    3.42 \n    3.40 \n    3.37 \n    3.35 \n    3.33 \n  \n  \n    16 \n    8.53 \n    6.23 \n    5.29 \n    4.77 \n    4.44 \n    4.20 \n    4.03 \n    3.89 \n    3.78 \n    3.69 \n    3.62 \n    3.55 \n    3.50 \n    3.45 \n    3.41 \n    3.37 \n    3.34 \n    3.31 \n    3.28 \n    3.26 \n    3.24 \n    3.22 \n  \n  \n    17 \n    8.40 \n    6.11 \n    5.18 \n    4.67 \n    4.34 \n    4.10 \n    3.93 \n    3.79 \n    3.68 \n    3.59 \n    3.52 \n    3.46 \n    3.40 \n    3.35 \n    3.31 \n    3.27 \n    3.24 \n    3.21 \n    3.19 \n    3.16 \n    3.14 \n    3.12 \n  \n  \n    18 \n    8.29 \n    6.01 \n    5.09 \n    4.58 \n    4.25 \n    4.01 \n    3.84 \n    3.71 \n    3.60 \n    3.51 \n    3.43 \n    3.37 \n    3.32 \n    3.27 \n    3.23 \n    3.19 \n    3.16 \n    3.13 \n    3.10 \n    3.08 \n    3.05 \n    3.03 \n  \n  \n    19 \n    8.18 \n    5.93 \n    5.01 \n    4.50 \n    4.17 \n    3.94 \n    3.77 \n    3.63 \n    3.52 \n    3.43 \n    3.36 \n    3.30 \n    3.24 \n    3.19 \n    3.15 \n    3.12 \n    3.08 \n    3.05 \n    3.03 \n    3.00 \n    2.98 \n    2.96 \n  \n  \n    20 \n    8.10 \n    5.85 \n    4.94 \n    4.43 \n    4.10 \n    3.87 \n    3.70 \n    3.56 \n    3.46 \n    3.37 \n    3.29 \n    3.23 \n    3.18 \n    3.13 \n    3.09 \n    3.05 \n    3.02 \n    2.99 \n    2.96 \n    2.94 \n    2.92 \n    2.90 \n  \n  \n    21 \n    8.02 \n    5.78 \n    4.87 \n    4.37 \n    4.04 \n    3.81 \n    3.64 \n    3.51 \n    3.40 \n    3.31 \n    3.24 \n    3.17 \n    3.12 \n    3.07 \n    3.03 \n    2.99 \n    2.96 \n    2.93 \n    2.90 \n    2.88 \n    2.86 \n    2.84 \n  \n  \n    22 \n    7.95 \n    5.72 \n    4.82 \n    4.31 \n    3.99 \n    3.76 \n    3.59 \n    3.45 \n    3.35 \n    3.26 \n    3.18 \n    3.12 \n    3.07 \n    3.02 \n    2.98 \n    2.94 \n    2.91 \n    2.88 \n    2.85 \n    2.83 \n    2.81 \n    2.78 \n  \n  \n    23 \n    7.88 \n    5.66 \n    4.76 \n    4.26 \n    3.94 \n    3.71 \n    3.54 \n    3.41 \n    3.30 \n    3.21 \n    3.14 \n    3.07 \n    3.02 \n    2.97 \n    2.93 \n    2.89 \n    2.86 \n    2.83 \n    2.80 \n    2.78 \n    2.76 \n    2.74 \n  \n  \n    24 \n    7.82 \n    5.61 \n    4.72 \n    4.22 \n    3.90 \n    3.67 \n    3.50 \n    3.36 \n    3.26 \n    3.17 \n    3.09 \n    3.03 \n    2.98 \n    2.93 \n    2.89 \n    2.85 \n    2.82 \n    2.79 \n    2.76 \n    2.74 \n    2.72 \n    2.70 \n  \n  \n    25 \n    7.77 \n    5.57 \n    4.68 \n    4.18 \n    3.85 \n    3.63 \n    3.46 \n    3.32 \n    3.22 \n    3.13 \n    3.06 \n    2.99 \n    2.94 \n    2.89 \n    2.85 \n    2.81 \n    2.78 \n    2.75 \n    2.72 \n    2.70 \n    2.68 \n    2.66 \n  \n  \n    26 \n    7.72 \n    5.53 \n    4.64 \n    4.14 \n    3.82 \n    3.59 \n    3.42 \n    3.29 \n    3.18 \n    3.09 \n    3.02 \n    2.96 \n    2.90 \n    2.86 \n    2.81 \n    2.78 \n    2.75 \n    2.72 \n    2.69 \n    2.66 \n    2.64 \n    2.62 \n  \n  \n    27 \n    7.68 \n    5.49 \n    4.60 \n    4.11 \n    3.78 \n    3.56 \n    3.39 \n    3.26 \n    3.15 \n    3.06 \n    2.99 \n    2.93 \n    2.87 \n    2.82 \n    2.78 \n    2.75 \n    2.71 \n    2.68 \n    2.66 \n    2.63 \n    2.61 \n    2.59 \n  \n  \n    28 \n    7.64 \n    5.45 \n    4.57 \n    4.07 \n    3.75 \n    3.53 \n    3.36 \n    3.23 \n    3.12 \n    3.03 \n    2.96 \n    2.90 \n    2.84 \n    2.79 \n    2.75 \n    2.72 \n    2.68 \n    2.65 \n    2.63 \n    2.60 \n    2.58 \n    2.56 \n  \n  \n    29 \n    7.60 \n    5.42 \n    4.54 \n    4.04 \n    3.73 \n    3.50 \n    3.33 \n    3.20 \n    3.09 \n    3.00 \n    2.93 \n    2.87 \n    2.81 \n    2.77 \n    2.73 \n    2.69 \n    2.66 \n    2.63 \n    2.60 \n    2.57 \n    2.55 \n    2.53 \n  \n  \n    30 \n    7.56 \n    5.39 \n    4.51 \n    4.02 \n    3.70 \n    3.47 \n    3.30 \n    3.17 \n    3.07 \n    2.98 \n    2.91 \n    2.84 \n    2.79 \n    2.74 \n    2.70 \n    2.66 \n    2.63 \n    2.60 \n    2.57 \n    2.55 \n    2.53 \n    2.51 \n  \n  \n    35 \n    7.42 \n    5.27 \n    4.40 \n    3.91 \n    3.59 \n    3.37 \n    3.20 \n    3.07 \n    2.96 \n    2.88 \n    2.80 \n    2.74 \n    2.69 \n    2.64 \n    2.60 \n    2.56 \n    2.53 \n    2.50 \n    2.47 \n    2.44 \n    2.42 \n    2.40 \n  \n  \n    40 \n    7.31 \n    5.18 \n    4.31 \n    3.83 \n    3.51 \n    3.29 \n    3.12 \n    2.99 \n    2.89 \n    2.80 \n    2.73 \n    2.66 \n    2.61 \n    2.56 \n    2.52 \n    2.48 \n    2.45 \n    2.42 \n    2.39 \n    2.37 \n    2.35 \n    2.33 \n  \n  \n    45 \n    7.23 \n    5.11 \n    4.25 \n    3.77 \n    3.45 \n    3.23 \n    3.07 \n    2.94 \n    2.83 \n    2.74 \n    2.67 \n    2.61 \n    2.55 \n    2.51 \n    2.46 \n    2.43 \n    2.39 \n    2.36 \n    2.34 \n    2.31 \n    2.29 \n    2.27 \n  \n  \n    50 \n    7.17 \n    5.06 \n    4.20 \n    3.72 \n    3.41 \n    3.19 \n    3.02 \n    2.89 \n    2.78 \n    2.70 \n    2.63 \n    2.56 \n    2.51 \n    2.46 \n    2.42 \n    2.38 \n    2.35 \n    2.32 \n    2.29 \n    2.27 \n    2.24 \n    2.22 \n  \n  \n    60 \n    7.08 \n    4.98 \n    4.13 \n    3.65 \n    3.34 \n    3.12 \n    2.95 \n    2.82 \n    2.72 \n    2.63 \n    2.56 \n    2.50 \n    2.44 \n    2.39 \n    2.35 \n    2.31 \n    2.28 \n    2.25 \n    2.22 \n    2.20 \n    2.17 \n    2.15 \n  \n  \n    75 \n    6.99 \n    4.90 \n    4.05 \n    3.58 \n    3.27 \n    3.05 \n    2.89 \n    2.76 \n    2.65 \n    2.57 \n    2.49 \n    2.43 \n    2.38 \n    2.33 \n    2.29 \n    2.25 \n    2.22 \n    2.18 \n    2.16 \n    2.13 \n    2.11 \n    2.09 \n  \n  \n    100 \n    6.90 \n    4.82 \n    3.98 \n    3.51 \n    3.21 \n    2.99 \n    2.82 \n    2.69 \n    2.59 \n    2.50 \n    2.43 \n    2.37 \n    2.31 \n    2.27 \n    2.22 \n    2.19 \n    2.15 \n    2.12 \n    2.09 \n    2.07 \n    2.04 \n    2.02 \n  \n  \n    120 \n    6.85 \n    4.79 \n    3.95 \n    3.48 \n    3.17 \n    2.96 \n    2.79 \n    2.66 \n    2.56 \n    2.47 \n    2.40 \n    2.34 \n    2.28 \n    2.23 \n    2.19 \n    2.15 \n    2.12 \n    2.09 \n    2.06 \n    2.03 \n    2.01 \n    1.99 \n  \n  \n    140 \n    6.82 \n    4.76 \n    3.92 \n    3.46 \n    3.15 \n    2.93 \n    2.77 \n    2.64 \n    2.54 \n    2.45 \n    2.38 \n    2.31 \n    2.26 \n    2.21 \n    2.17 \n    2.13 \n    2.10 \n    2.07 \n    2.04 \n    2.01 \n    1.99 \n    1.97 \n  \n  \n    180 \n    6.78 \n    4.73 \n    3.89 \n    3.43 \n    3.12 \n    2.90 \n    2.74 \n    2.61 \n    2.51 \n    2.42 \n    2.35 \n    2.28 \n    2.23 \n    2.18 \n    2.14 \n    2.10 \n    2.07 \n    2.04 \n    2.01 \n    1.98 \n    1.96 \n    1.94 \n  \n  \n    250 \n    6.74 \n    4.69 \n    3.86 \n    3.40 \n    3.09 \n    2.87 \n    2.71 \n    2.58 \n    2.48 \n    2.39 \n    2.32 \n    2.26 \n    2.20 \n    2.15 \n    2.11 \n    2.07 \n    2.04 \n    2.01 \n    1.98 \n    1.95 \n    1.93 \n    1.91 \n  \n  \n    400 \n    6.70 \n    4.66 \n    3.83 \n    3.37 \n    3.06 \n    2.85 \n    2.68 \n    2.56 \n    2.45 \n    2.37 \n    2.29 \n    2.23 \n    2.17 \n    2.13 \n    2.08 \n    2.05 \n    2.01 \n    1.98 \n    1.95 \n    1.92 \n    1.90 \n    1.88 \n  \n  \n    1000 \n    6.66 \n    4.63 \n    3.80 \n    3.34 \n    3.04 \n    2.82 \n    2.66 \n    2.53 \n    2.43 \n    2.34 \n    2.27 \n    2.20 \n    2.15 \n    2.10 \n    2.06 \n    2.02 \n    1.98 \n    1.95 \n    1.92 \n    1.90 \n    1.87 \n    1.85 \n  \n\n\n\n\n\n\n\n\n\n\n\n  \n\nKolumnerna är frihetsgraderna i täljaren.\nRaderna är frihetsgraderna i nämnaren.\n\n\n\n\n \n\n\nFrihetsgrader i täljaren\n\n  \n      \n     1 \n     2 \n     3 \n     4 \n     5 \n     6 \n     7 \n     8 \n     9 \n    10 \n    11 \n    12 \n    13 \n    14 \n    15 \n    16 \n    17 \n    18 \n    19 \n    20 \n    21 \n    22 \n  \n \n\n  \n    1 \n    161.45 \n    199.50 \n    215.71 \n    224.58 \n    230.16 \n    233.99 \n    236.77 \n    238.88 \n    240.54 \n    241.88 \n    242.98 \n    243.91 \n    244.69 \n    245.36 \n    245.95 \n    246.46 \n    246.92 \n    247.32 \n    247.69 \n    248.01 \n    248.31 \n    248.58 \n  \n  \n    2 \n    18.51 \n    19.00 \n    19.16 \n    19.25 \n    19.30 \n    19.33 \n    19.35 \n    19.37 \n    19.38 \n    19.40 \n    19.40 \n    19.41 \n    19.42 \n    19.42 \n    19.43 \n    19.43 \n    19.44 \n    19.44 \n    19.44 \n    19.45 \n    19.45 \n    19.45 \n  \n  \n    3 \n    10.13 \n    9.55 \n    9.28 \n    9.12 \n    9.01 \n    8.94 \n    8.89 \n    8.85 \n    8.81 \n    8.79 \n    8.76 \n    8.74 \n    8.73 \n    8.71 \n    8.70 \n    8.69 \n    8.68 \n    8.67 \n    8.67 \n    8.66 \n    8.65 \n    8.65 \n  \n  \n    4 \n    7.71 \n    6.94 \n    6.59 \n    6.39 \n    6.26 \n    6.16 \n    6.09 \n    6.04 \n    6.00 \n    5.96 \n    5.94 \n    5.91 \n    5.89 \n    5.87 \n    5.86 \n    5.84 \n    5.83 \n    5.82 \n    5.81 \n    5.80 \n    5.79 \n    5.79 \n  \n  \n    5 \n    6.61 \n    5.79 \n    5.41 \n    5.19 \n    5.05 \n    4.95 \n    4.88 \n    4.82 \n    4.77 \n    4.74 \n    4.70 \n    4.68 \n    4.66 \n    4.64 \n    4.62 \n    4.60 \n    4.59 \n    4.58 \n    4.57 \n    4.56 \n    4.55 \n    4.54 \n  \n  \n    6 \n    5.99 \n    5.14 \n    4.76 \n    4.53 \n    4.39 \n    4.28 \n    4.21 \n    4.15 \n    4.10 \n    4.06 \n    4.03 \n    4.00 \n    3.98 \n    3.96 \n    3.94 \n    3.92 \n    3.91 \n    3.90 \n    3.88 \n    3.87 \n    3.86 \n    3.86 \n  \n  \n    7 \n    5.59 \n    4.74 \n    4.35 \n    4.12 \n    3.97 \n    3.87 \n    3.79 \n    3.73 \n    3.68 \n    3.64 \n    3.60 \n    3.57 \n    3.55 \n    3.53 \n    3.51 \n    3.49 \n    3.48 \n    3.47 \n    3.46 \n    3.44 \n    3.43 \n    3.43 \n  \n  \n    8 \n    5.32 \n    4.46 \n    4.07 \n    3.84 \n    3.69 \n    3.58 \n    3.50 \n    3.44 \n    3.39 \n    3.35 \n    3.31 \n    3.28 \n    3.26 \n    3.24 \n    3.22 \n    3.20 \n    3.19 \n    3.17 \n    3.16 \n    3.15 \n    3.14 \n    3.13 \n  \n  \n    9 \n    5.12 \n    4.26 \n    3.86 \n    3.63 \n    3.48 \n    3.37 \n    3.29 \n    3.23 \n    3.18 \n    3.14 \n    3.10 \n    3.07 \n    3.05 \n    3.03 \n    3.01 \n    2.99 \n    2.97 \n    2.96 \n    2.95 \n    2.94 \n    2.93 \n    2.92 \n  \n  \n    10 \n    4.96 \n    4.10 \n    3.71 \n    3.48 \n    3.33 \n    3.22 \n    3.14 \n    3.07 \n    3.02 \n    2.98 \n    2.94 \n    2.91 \n    2.89 \n    2.86 \n    2.85 \n    2.83 \n    2.81 \n    2.80 \n    2.79 \n    2.77 \n    2.76 \n    2.75 \n  \n  \n    11 \n    4.84 \n    3.98 \n    3.59 \n    3.36 \n    3.20 \n    3.09 \n    3.01 \n    2.95 \n    2.90 \n    2.85 \n    2.82 \n    2.79 \n    2.76 \n    2.74 \n    2.72 \n    2.70 \n    2.69 \n    2.67 \n    2.66 \n    2.65 \n    2.64 \n    2.63 \n  \n  \n    12 \n    4.75 \n    3.89 \n    3.49 \n    3.26 \n    3.11 \n    3.00 \n    2.91 \n    2.85 \n    2.80 \n    2.75 \n    2.72 \n    2.69 \n    2.66 \n    2.64 \n    2.62 \n    2.60 \n    2.58 \n    2.57 \n    2.56 \n    2.54 \n    2.53 \n    2.52 \n  \n  \n    13 \n    4.67 \n    3.81 \n    3.41 \n    3.18 \n    3.03 \n    2.92 \n    2.83 \n    2.77 \n    2.71 \n    2.67 \n    2.63 \n    2.60 \n    2.58 \n    2.55 \n    2.53 \n    2.51 \n    2.50 \n    2.48 \n    2.47 \n    2.46 \n    2.45 \n    2.44 \n  \n  \n    14 \n    4.60 \n    3.74 \n    3.34 \n    3.11 \n    2.96 \n    2.85 \n    2.76 \n    2.70 \n    2.65 \n    2.60 \n    2.57 \n    2.53 \n    2.51 \n    2.48 \n    2.46 \n    2.44 \n    2.43 \n    2.41 \n    2.40 \n    2.39 \n    2.38 \n    2.37 \n  \n  \n    15 \n    4.54 \n    3.68 \n    3.29 \n    3.06 \n    2.90 \n    2.79 \n    2.71 \n    2.64 \n    2.59 \n    2.54 \n    2.51 \n    2.48 \n    2.45 \n    2.42 \n    2.40 \n    2.38 \n    2.37 \n    2.35 \n    2.34 \n    2.33 \n    2.32 \n    2.31 \n  \n  \n    16 \n    4.49 \n    3.63 \n    3.24 \n    3.01 \n    2.85 \n    2.74 \n    2.66 \n    2.59 \n    2.54 \n    2.49 \n    2.46 \n    2.42 \n    2.40 \n    2.37 \n    2.35 \n    2.33 \n    2.32 \n    2.30 \n    2.29 \n    2.28 \n    2.26 \n    2.25 \n  \n  \n    17 \n    4.45 \n    3.59 \n    3.20 \n    2.96 \n    2.81 \n    2.70 \n    2.61 \n    2.55 \n    2.49 \n    2.45 \n    2.41 \n    2.38 \n    2.35 \n    2.33 \n    2.31 \n    2.29 \n    2.27 \n    2.26 \n    2.24 \n    2.23 \n    2.22 \n    2.21 \n  \n  \n    18 \n    4.41 \n    3.55 \n    3.16 \n    2.93 \n    2.77 \n    2.66 \n    2.58 \n    2.51 \n    2.46 \n    2.41 \n    2.37 \n    2.34 \n    2.31 \n    2.29 \n    2.27 \n    2.25 \n    2.23 \n    2.22 \n    2.20 \n    2.19 \n    2.18 \n    2.17 \n  \n  \n    19 \n    4.38 \n    3.52 \n    3.13 \n    2.90 \n    2.74 \n    2.63 \n    2.54 \n    2.48 \n    2.42 \n    2.38 \n    2.34 \n    2.31 \n    2.28 \n    2.26 \n    2.23 \n    2.21 \n    2.20 \n    2.18 \n    2.17 \n    2.16 \n    2.14 \n    2.13 \n  \n  \n    20 \n    4.35 \n    3.49 \n    3.10 \n    2.87 \n    2.71 \n    2.60 \n    2.51 \n    2.45 \n    2.39 \n    2.35 \n    2.31 \n    2.28 \n    2.25 \n    2.22 \n    2.20 \n    2.18 \n    2.17 \n    2.15 \n    2.14 \n    2.12 \n    2.11 \n    2.10 \n  \n  \n    21 \n    4.32 \n    3.47 \n    3.07 \n    2.84 \n    2.68 \n    2.57 \n    2.49 \n    2.42 \n    2.37 \n    2.32 \n    2.28 \n    2.25 \n    2.22 \n    2.20 \n    2.18 \n    2.16 \n    2.14 \n    2.12 \n    2.11 \n    2.10 \n    2.08 \n    2.07 \n  \n  \n    22 \n    4.30 \n    3.44 \n    3.05 \n    2.82 \n    2.66 \n    2.55 \n    2.46 \n    2.40 \n    2.34 \n    2.30 \n    2.26 \n    2.23 \n    2.20 \n    2.17 \n    2.15 \n    2.13 \n    2.11 \n    2.10 \n    2.08 \n    2.07 \n    2.06 \n    2.05 \n  \n  \n    23 \n    4.28 \n    3.42 \n    3.03 \n    2.80 \n    2.64 \n    2.53 \n    2.44 \n    2.37 \n    2.32 \n    2.27 \n    2.24 \n    2.20 \n    2.18 \n    2.15 \n    2.13 \n    2.11 \n    2.09 \n    2.08 \n    2.06 \n    2.05 \n    2.04 \n    2.02 \n  \n  \n    24 \n    4.26 \n    3.40 \n    3.01 \n    2.78 \n    2.62 \n    2.51 \n    2.42 \n    2.36 \n    2.30 \n    2.25 \n    2.22 \n    2.18 \n    2.15 \n    2.13 \n    2.11 \n    2.09 \n    2.07 \n    2.05 \n    2.04 \n    2.03 \n    2.01 \n    2.00 \n  \n  \n    25 \n    4.24 \n    3.39 \n    2.99 \n    2.76 \n    2.60 \n    2.49 \n    2.40 \n    2.34 \n    2.28 \n    2.24 \n    2.20 \n    2.16 \n    2.14 \n    2.11 \n    2.09 \n    2.07 \n    2.05 \n    2.04 \n    2.02 \n    2.01 \n    2.00 \n    1.98 \n  \n  \n    26 \n    4.23 \n    3.37 \n    2.98 \n    2.74 \n    2.59 \n    2.47 \n    2.39 \n    2.32 \n    2.27 \n    2.22 \n    2.18 \n    2.15 \n    2.12 \n    2.09 \n    2.07 \n    2.05 \n    2.03 \n    2.02 \n    2.00 \n    1.99 \n    1.98 \n    1.97 \n  \n  \n    27 \n    4.21 \n    3.35 \n    2.96 \n    2.73 \n    2.57 \n    2.46 \n    2.37 \n    2.31 \n    2.25 \n    2.20 \n    2.17 \n    2.13 \n    2.10 \n    2.08 \n    2.06 \n    2.04 \n    2.02 \n    2.00 \n    1.99 \n    1.97 \n    1.96 \n    1.95 \n  \n  \n    28 \n    4.20 \n    3.34 \n    2.95 \n    2.71 \n    2.56 \n    2.45 \n    2.36 \n    2.29 \n    2.24 \n    2.19 \n    2.15 \n    2.12 \n    2.09 \n    2.06 \n    2.04 \n    2.02 \n    2.00 \n    1.99 \n    1.97 \n    1.96 \n    1.95 \n    1.93 \n  \n  \n    29 \n    4.18 \n    3.33 \n    2.93 \n    2.70 \n    2.55 \n    2.43 \n    2.35 \n    2.28 \n    2.22 \n    2.18 \n    2.14 \n    2.10 \n    2.08 \n    2.05 \n    2.03 \n    2.01 \n    1.99 \n    1.97 \n    1.96 \n    1.94 \n    1.93 \n    1.92 \n  \n  \n    30 \n    4.17 \n    3.32 \n    2.92 \n    2.69 \n    2.53 \n    2.42 \n    2.33 \n    2.27 \n    2.21 \n    2.16 \n    2.13 \n    2.09 \n    2.06 \n    2.04 \n    2.01 \n    1.99 \n    1.98 \n    1.96 \n    1.95 \n    1.93 \n    1.92 \n    1.91 \n  \n  \n    35 \n    4.12 \n    3.27 \n    2.87 \n    2.64 \n    2.49 \n    2.37 \n    2.29 \n    2.22 \n    2.16 \n    2.11 \n    2.07 \n    2.04 \n    2.01 \n    1.99 \n    1.96 \n    1.94 \n    1.92 \n    1.91 \n    1.89 \n    1.88 \n    1.87 \n    1.85 \n  \n  \n    40 \n    4.08 \n    3.23 \n    2.84 \n    2.61 \n    2.45 \n    2.34 \n    2.25 \n    2.18 \n    2.12 \n    2.08 \n    2.04 \n    2.00 \n    1.97 \n    1.95 \n    1.92 \n    1.90 \n    1.89 \n    1.87 \n    1.85 \n    1.84 \n    1.83 \n    1.81 \n  \n  \n    45 \n    4.06 \n    3.20 \n    2.81 \n    2.58 \n    2.42 \n    2.31 \n    2.22 \n    2.15 \n    2.10 \n    2.05 \n    2.01 \n    1.97 \n    1.94 \n    1.92 \n    1.89 \n    1.87 \n    1.86 \n    1.84 \n    1.82 \n    1.81 \n    1.80 \n    1.78 \n  \n  \n    50 \n    4.03 \n    3.18 \n    2.79 \n    2.56 \n    2.40 \n    2.29 \n    2.20 \n    2.13 \n    2.07 \n    2.03 \n    1.99 \n    1.95 \n    1.92 \n    1.89 \n    1.87 \n    1.85 \n    1.83 \n    1.81 \n    1.80 \n    1.78 \n    1.77 \n    1.76 \n  \n  \n    60 \n    4.00 \n    3.15 \n    2.76 \n    2.53 \n    2.37 \n    2.25 \n    2.17 \n    2.10 \n    2.04 \n    1.99 \n    1.95 \n    1.92 \n    1.89 \n    1.86 \n    1.84 \n    1.82 \n    1.80 \n    1.78 \n    1.76 \n    1.75 \n    1.73 \n    1.72 \n  \n  \n    75 \n    3.97 \n    3.12 \n    2.73 \n    2.49 \n    2.34 \n    2.22 \n    2.13 \n    2.06 \n    2.01 \n    1.96 \n    1.92 \n    1.88 \n    1.85 \n    1.83 \n    1.80 \n    1.78 \n    1.76 \n    1.74 \n    1.73 \n    1.71 \n    1.70 \n    1.69 \n  \n  \n    100 \n    3.94 \n    3.09 \n    2.70 \n    2.46 \n    2.31 \n    2.19 \n    2.10 \n    2.03 \n    1.97 \n    1.93 \n    1.89 \n    1.85 \n    1.82 \n    1.79 \n    1.77 \n    1.75 \n    1.73 \n    1.71 \n    1.69 \n    1.68 \n    1.66 \n    1.65 \n  \n  \n    120 \n    3.92 \n    3.07 \n    2.68 \n    2.45 \n    2.29 \n    2.18 \n    2.09 \n    2.02 \n    1.96 \n    1.91 \n    1.87 \n    1.83 \n    1.80 \n    1.78 \n    1.75 \n    1.73 \n    1.71 \n    1.69 \n    1.67 \n    1.66 \n    1.64 \n    1.63 \n  \n  \n    140 \n    3.91 \n    3.06 \n    2.67 \n    2.44 \n    2.28 \n    2.16 \n    2.08 \n    2.01 \n    1.95 \n    1.90 \n    1.86 \n    1.82 \n    1.79 \n    1.76 \n    1.74 \n    1.72 \n    1.70 \n    1.68 \n    1.66 \n    1.65 \n    1.63 \n    1.62 \n  \n  \n    180 \n    3.89 \n    3.05 \n    2.65 \n    2.42 \n    2.26 \n    2.15 \n    2.06 \n    1.99 \n    1.93 \n    1.88 \n    1.84 \n    1.81 \n    1.77 \n    1.75 \n    1.72 \n    1.70 \n    1.68 \n    1.66 \n    1.64 \n    1.63 \n    1.61 \n    1.60 \n  \n  \n    250 \n    3.88 \n    3.03 \n    2.64 \n    2.41 \n    2.25 \n    2.13 \n    2.05 \n    1.98 \n    1.92 \n    1.87 \n    1.83 \n    1.79 \n    1.76 \n    1.73 \n    1.71 \n    1.68 \n    1.66 \n    1.65 \n    1.63 \n    1.61 \n    1.60 \n    1.58 \n  \n  \n    400 \n    3.86 \n    3.02 \n    2.63 \n    2.39 \n    2.24 \n    2.12 \n    2.03 \n    1.96 \n    1.90 \n    1.85 \n    1.81 \n    1.78 \n    1.74 \n    1.72 \n    1.69 \n    1.67 \n    1.65 \n    1.63 \n    1.61 \n    1.60 \n    1.58 \n    1.57 \n  \n  \n    1000 \n    3.85 \n    3.00 \n    2.61 \n    2.38 \n    2.22 \n    2.11 \n    2.02 \n    1.95 \n    1.89 \n    1.84 \n    1.80 \n    1.76 \n    1.73 \n    1.70 \n    1.68 \n    1.65 \n    1.63 \n    1.61 \n    1.60 \n    1.58 \n    1.57 \n    1.55 \n  \n\n\n\n\n\n\n\n\n\n\n\n  \n\nKolumnerna är frihetsgraderna i täljaren.\nRaderna är frihetsgraderna i nämnaren.\n\n\n\n\n \n\n\nFrihetsgrader i täljaren\n\n  \n      \n     1 \n     2 \n     3 \n     4 \n     5 \n     6 \n     7 \n     8 \n     9 \n    10 \n    11 \n    12 \n    13 \n    14 \n    15 \n    16 \n    17 \n    18 \n    19 \n    20 \n    21 \n    22 \n  \n \n\n  \n    1 \n    39.86 \n    49.50 \n    53.59 \n    55.83 \n    57.24 \n    58.20 \n    58.91 \n    59.44 \n    59.86 \n    60.19 \n    60.47 \n    60.71 \n    60.90 \n    61.07 \n    61.22 \n    61.35 \n    61.46 \n    61.57 \n    61.66 \n    61.74 \n    61.81 \n    61.88 \n  \n  \n    2 \n    8.53 \n    9.00 \n    9.16 \n    9.24 \n    9.29 \n    9.33 \n    9.35 \n    9.37 \n    9.38 \n    9.39 \n    9.40 \n    9.41 \n    9.41 \n    9.42 \n    9.42 \n    9.43 \n    9.43 \n    9.44 \n    9.44 \n    9.44 \n    9.44 \n    9.45 \n  \n  \n    3 \n    5.54 \n    5.46 \n    5.39 \n    5.34 \n    5.31 \n    5.28 \n    5.27 \n    5.25 \n    5.24 \n    5.23 \n    5.22 \n    5.22 \n    5.21 \n    5.20 \n    5.20 \n    5.20 \n    5.19 \n    5.19 \n    5.19 \n    5.18 \n    5.18 \n    5.18 \n  \n  \n    4 \n    4.54 \n    4.32 \n    4.19 \n    4.11 \n    4.05 \n    4.01 \n    3.98 \n    3.95 \n    3.94 \n    3.92 \n    3.91 \n    3.90 \n    3.89 \n    3.88 \n    3.87 \n    3.86 \n    3.86 \n    3.85 \n    3.85 \n    3.84 \n    3.84 \n    3.84 \n  \n  \n    5 \n    4.06 \n    3.78 \n    3.62 \n    3.52 \n    3.45 \n    3.40 \n    3.37 \n    3.34 \n    3.32 \n    3.30 \n    3.28 \n    3.27 \n    3.26 \n    3.25 \n    3.24 \n    3.23 \n    3.22 \n    3.22 \n    3.21 \n    3.21 \n    3.20 \n    3.20 \n  \n  \n    6 \n    3.78 \n    3.46 \n    3.29 \n    3.18 \n    3.11 \n    3.05 \n    3.01 \n    2.98 \n    2.96 \n    2.94 \n    2.92 \n    2.90 \n    2.89 \n    2.88 \n    2.87 \n    2.86 \n    2.85 \n    2.85 \n    2.84 \n    2.84 \n    2.83 \n    2.83 \n  \n  \n    7 \n    3.59 \n    3.26 \n    3.07 \n    2.96 \n    2.88 \n    2.83 \n    2.78 \n    2.75 \n    2.72 \n    2.70 \n    2.68 \n    2.67 \n    2.65 \n    2.64 \n    2.63 \n    2.62 \n    2.61 \n    2.61 \n    2.60 \n    2.59 \n    2.59 \n    2.58 \n  \n  \n    8 \n    3.46 \n    3.11 \n    2.92 \n    2.81 \n    2.73 \n    2.67 \n    2.62 \n    2.59 \n    2.56 \n    2.54 \n    2.52 \n    2.50 \n    2.49 \n    2.48 \n    2.46 \n    2.45 \n    2.45 \n    2.44 \n    2.43 \n    2.42 \n    2.42 \n    2.41 \n  \n  \n    9 \n    3.36 \n    3.01 \n    2.81 \n    2.69 \n    2.61 \n    2.55 \n    2.51 \n    2.47 \n    2.44 \n    2.42 \n    2.40 \n    2.38 \n    2.36 \n    2.35 \n    2.34 \n    2.33 \n    2.32 \n    2.31 \n    2.30 \n    2.30 \n    2.29 \n    2.29 \n  \n  \n    10 \n    3.29 \n    2.92 \n    2.73 \n    2.61 \n    2.52 \n    2.46 \n    2.41 \n    2.38 \n    2.35 \n    2.32 \n    2.30 \n    2.28 \n    2.27 \n    2.26 \n    2.24 \n    2.23 \n    2.22 \n    2.22 \n    2.21 \n    2.20 \n    2.19 \n    2.19 \n  \n  \n    11 \n    3.23 \n    2.86 \n    2.66 \n    2.54 \n    2.45 \n    2.39 \n    2.34 \n    2.30 \n    2.27 \n    2.25 \n    2.23 \n    2.21 \n    2.19 \n    2.18 \n    2.17 \n    2.16 \n    2.15 \n    2.14 \n    2.13 \n    2.12 \n    2.12 \n    2.11 \n  \n  \n    12 \n    3.18 \n    2.81 \n    2.61 \n    2.48 \n    2.39 \n    2.33 \n    2.28 \n    2.24 \n    2.21 \n    2.19 \n    2.17 \n    2.15 \n    2.13 \n    2.12 \n    2.10 \n    2.09 \n    2.08 \n    2.08 \n    2.07 \n    2.06 \n    2.05 \n    2.05 \n  \n  \n    13 \n    3.14 \n    2.76 \n    2.56 \n    2.43 \n    2.35 \n    2.28 \n    2.23 \n    2.20 \n    2.16 \n    2.14 \n    2.12 \n    2.10 \n    2.08 \n    2.07 \n    2.05 \n    2.04 \n    2.03 \n    2.02 \n    2.01 \n    2.01 \n    2.00 \n    1.99 \n  \n  \n    14 \n    3.10 \n    2.73 \n    2.52 \n    2.39 \n    2.31 \n    2.24 \n    2.19 \n    2.15 \n    2.12 \n    2.10 \n    2.07 \n    2.05 \n    2.04 \n    2.02 \n    2.01 \n    2.00 \n    1.99 \n    1.98 \n    1.97 \n    1.96 \n    1.96 \n    1.95 \n  \n  \n    15 \n    3.07 \n    2.70 \n    2.49 \n    2.36 \n    2.27 \n    2.21 \n    2.16 \n    2.12 \n    2.09 \n    2.06 \n    2.04 \n    2.02 \n    2.00 \n    1.99 \n    1.97 \n    1.96 \n    1.95 \n    1.94 \n    1.93 \n    1.92 \n    1.92 \n    1.91 \n  \n  \n    16 \n    3.05 \n    2.67 \n    2.46 \n    2.33 \n    2.24 \n    2.18 \n    2.13 \n    2.09 \n    2.06 \n    2.03 \n    2.01 \n    1.99 \n    1.97 \n    1.95 \n    1.94 \n    1.93 \n    1.92 \n    1.91 \n    1.90 \n    1.89 \n    1.88 \n    1.88 \n  \n  \n    17 \n    3.03 \n    2.64 \n    2.44 \n    2.31 \n    2.22 \n    2.15 \n    2.10 \n    2.06 \n    2.03 \n    2.00 \n    1.98 \n    1.96 \n    1.94 \n    1.93 \n    1.91 \n    1.90 \n    1.89 \n    1.88 \n    1.87 \n    1.86 \n    1.86 \n    1.85 \n  \n  \n    18 \n    3.01 \n    2.62 \n    2.42 \n    2.29 \n    2.20 \n    2.13 \n    2.08 \n    2.04 \n    2.00 \n    1.98 \n    1.95 \n    1.93 \n    1.92 \n    1.90 \n    1.89 \n    1.87 \n    1.86 \n    1.85 \n    1.84 \n    1.84 \n    1.83 \n    1.82 \n  \n  \n    19 \n    2.99 \n    2.61 \n    2.40 \n    2.27 \n    2.18 \n    2.11 \n    2.06 \n    2.02 \n    1.98 \n    1.96 \n    1.93 \n    1.91 \n    1.89 \n    1.88 \n    1.86 \n    1.85 \n    1.84 \n    1.83 \n    1.82 \n    1.81 \n    1.81 \n    1.80 \n  \n  \n    20 \n    2.97 \n    2.59 \n    2.38 \n    2.25 \n    2.16 \n    2.09 \n    2.04 \n    2.00 \n    1.96 \n    1.94 \n    1.91 \n    1.89 \n    1.87 \n    1.86 \n    1.84 \n    1.83 \n    1.82 \n    1.81 \n    1.80 \n    1.79 \n    1.79 \n    1.78 \n  \n  \n    21 \n    2.96 \n    2.57 \n    2.36 \n    2.23 \n    2.14 \n    2.08 \n    2.02 \n    1.98 \n    1.95 \n    1.92 \n    1.90 \n    1.87 \n    1.86 \n    1.84 \n    1.83 \n    1.81 \n    1.80 \n    1.79 \n    1.78 \n    1.78 \n    1.77 \n    1.76 \n  \n  \n    22 \n    2.95 \n    2.56 \n    2.35 \n    2.22 \n    2.13 \n    2.06 \n    2.01 \n    1.97 \n    1.93 \n    1.90 \n    1.88 \n    1.86 \n    1.84 \n    1.83 \n    1.81 \n    1.80 \n    1.79 \n    1.78 \n    1.77 \n    1.76 \n    1.75 \n    1.74 \n  \n  \n    23 \n    2.94 \n    2.55 \n    2.34 \n    2.21 \n    2.11 \n    2.05 \n    1.99 \n    1.95 \n    1.92 \n    1.89 \n    1.87 \n    1.84 \n    1.83 \n    1.81 \n    1.80 \n    1.78 \n    1.77 \n    1.76 \n    1.75 \n    1.74 \n    1.74 \n    1.73 \n  \n  \n    24 \n    2.93 \n    2.54 \n    2.33 \n    2.19 \n    2.10 \n    2.04 \n    1.98 \n    1.94 \n    1.91 \n    1.88 \n    1.85 \n    1.83 \n    1.81 \n    1.80 \n    1.78 \n    1.77 \n    1.76 \n    1.75 \n    1.74 \n    1.73 \n    1.72 \n    1.71 \n  \n  \n    25 \n    2.92 \n    2.53 \n    2.32 \n    2.18 \n    2.09 \n    2.02 \n    1.97 \n    1.93 \n    1.89 \n    1.87 \n    1.84 \n    1.82 \n    1.80 \n    1.79 \n    1.77 \n    1.76 \n    1.75 \n    1.74 \n    1.73 \n    1.72 \n    1.71 \n    1.70 \n  \n  \n    26 \n    2.91 \n    2.52 \n    2.31 \n    2.17 \n    2.08 \n    2.01 \n    1.96 \n    1.92 \n    1.88 \n    1.86 \n    1.83 \n    1.81 \n    1.79 \n    1.77 \n    1.76 \n    1.75 \n    1.73 \n    1.72 \n    1.71 \n    1.71 \n    1.70 \n    1.69 \n  \n  \n    27 \n    2.90 \n    2.51 \n    2.30 \n    2.17 \n    2.07 \n    2.00 \n    1.95 \n    1.91 \n    1.87 \n    1.85 \n    1.82 \n    1.80 \n    1.78 \n    1.76 \n    1.75 \n    1.74 \n    1.72 \n    1.71 \n    1.70 \n    1.70 \n    1.69 \n    1.68 \n  \n  \n    28 \n    2.89 \n    2.50 \n    2.29 \n    2.16 \n    2.06 \n    2.00 \n    1.94 \n    1.90 \n    1.87 \n    1.84 \n    1.81 \n    1.79 \n    1.77 \n    1.75 \n    1.74 \n    1.73 \n    1.71 \n    1.70 \n    1.69 \n    1.69 \n    1.68 \n    1.67 \n  \n  \n    29 \n    2.89 \n    2.50 \n    2.28 \n    2.15 \n    2.06 \n    1.99 \n    1.93 \n    1.89 \n    1.86 \n    1.83 \n    1.80 \n    1.78 \n    1.76 \n    1.75 \n    1.73 \n    1.72 \n    1.71 \n    1.69 \n    1.68 \n    1.68 \n    1.67 \n    1.66 \n  \n  \n    30 \n    2.88 \n    2.49 \n    2.28 \n    2.14 \n    2.05 \n    1.98 \n    1.93 \n    1.88 \n    1.85 \n    1.82 \n    1.79 \n    1.77 \n    1.75 \n    1.74 \n    1.72 \n    1.71 \n    1.70 \n    1.69 \n    1.68 \n    1.67 \n    1.66 \n    1.65 \n  \n  \n    35 \n    2.85 \n    2.46 \n    2.25 \n    2.11 \n    2.02 \n    1.95 \n    1.90 \n    1.85 \n    1.82 \n    1.79 \n    1.76 \n    1.74 \n    1.72 \n    1.70 \n    1.69 \n    1.67 \n    1.66 \n    1.65 \n    1.64 \n    1.63 \n    1.62 \n    1.62 \n  \n  \n    40 \n    2.84 \n    2.44 \n    2.23 \n    2.09 \n    2.00 \n    1.93 \n    1.87 \n    1.83 \n    1.79 \n    1.76 \n    1.74 \n    1.71 \n    1.70 \n    1.68 \n    1.66 \n    1.65 \n    1.64 \n    1.62 \n    1.61 \n    1.61 \n    1.60 \n    1.59 \n  \n  \n    45 \n    2.82 \n    2.42 \n    2.21 \n    2.07 \n    1.98 \n    1.91 \n    1.85 \n    1.81 \n    1.77 \n    1.74 \n    1.72 \n    1.70 \n    1.68 \n    1.66 \n    1.64 \n    1.63 \n    1.62 \n    1.60 \n    1.59 \n    1.58 \n    1.58 \n    1.57 \n  \n  \n    50 \n    2.81 \n    2.41 \n    2.20 \n    2.06 \n    1.97 \n    1.90 \n    1.84 \n    1.80 \n    1.76 \n    1.73 \n    1.70 \n    1.68 \n    1.66 \n    1.64 \n    1.63 \n    1.61 \n    1.60 \n    1.59 \n    1.58 \n    1.57 \n    1.56 \n    1.55 \n  \n  \n    60 \n    2.79 \n    2.39 \n    2.18 \n    2.04 \n    1.95 \n    1.87 \n    1.82 \n    1.77 \n    1.74 \n    1.71 \n    1.68 \n    1.66 \n    1.64 \n    1.62 \n    1.60 \n    1.59 \n    1.58 \n    1.56 \n    1.55 \n    1.54 \n    1.53 \n    1.53 \n  \n  \n    75 \n    2.77 \n    2.37 \n    2.16 \n    2.02 \n    1.93 \n    1.85 \n    1.80 \n    1.75 \n    1.72 \n    1.69 \n    1.66 \n    1.63 \n    1.61 \n    1.60 \n    1.58 \n    1.57 \n    1.55 \n    1.54 \n    1.53 \n    1.52 \n    1.51 \n    1.50 \n  \n  \n    100 \n    2.76 \n    2.36 \n    2.14 \n    2.00 \n    1.91 \n    1.83 \n    1.78 \n    1.73 \n    1.69 \n    1.66 \n    1.64 \n    1.61 \n    1.59 \n    1.57 \n    1.56 \n    1.54 \n    1.53 \n    1.52 \n    1.50 \n    1.49 \n    1.48 \n    1.48 \n  \n  \n    120 \n    2.75 \n    2.35 \n    2.13 \n    1.99 \n    1.90 \n    1.82 \n    1.77 \n    1.72 \n    1.68 \n    1.65 \n    1.63 \n    1.60 \n    1.58 \n    1.56 \n    1.55 \n    1.53 \n    1.52 \n    1.50 \n    1.49 \n    1.48 \n    1.47 \n    1.46 \n  \n  \n    140 \n    2.74 \n    2.34 \n    2.12 \n    1.99 \n    1.89 \n    1.82 \n    1.76 \n    1.71 \n    1.68 \n    1.64 \n    1.62 \n    1.59 \n    1.57 \n    1.55 \n    1.54 \n    1.52 \n    1.51 \n    1.50 \n    1.48 \n    1.47 \n    1.46 \n    1.45 \n  \n  \n    180 \n    2.73 \n    2.33 \n    2.11 \n    1.98 \n    1.88 \n    1.81 \n    1.75 \n    1.70 \n    1.67 \n    1.63 \n    1.61 \n    1.58 \n    1.56 \n    1.54 \n    1.53 \n    1.51 \n    1.50 \n    1.48 \n    1.47 \n    1.46 \n    1.45 \n    1.44 \n  \n  \n    250 \n    2.73 \n    2.32 \n    2.11 \n    1.97 \n    1.87 \n    1.80 \n    1.74 \n    1.69 \n    1.66 \n    1.62 \n    1.60 \n    1.57 \n    1.55 \n    1.53 \n    1.51 \n    1.50 \n    1.49 \n    1.47 \n    1.46 \n    1.45 \n    1.44 \n    1.43 \n  \n  \n    400 \n    2.72 \n    2.32 \n    2.10 \n    1.96 \n    1.86 \n    1.79 \n    1.73 \n    1.69 \n    1.65 \n    1.61 \n    1.59 \n    1.56 \n    1.54 \n    1.52 \n    1.50 \n    1.49 \n    1.47 \n    1.46 \n    1.45 \n    1.44 \n    1.43 \n    1.42 \n  \n  \n    1000 \n    2.71 \n    2.31 \n    2.09 \n    1.95 \n    1.85 \n    1.78 \n    1.72 \n    1.68 \n    1.64 \n    1.61 \n    1.58 \n    1.55 \n    1.53 \n    1.51 \n    1.49 \n    1.48 \n    1.46 \n    1.45 \n    1.44 \n    1.43 \n    1.42 \n    1.41"
  },
  {
    "objectID": "formel_tabell_samlingar/tabellsamling_print.html",
    "href": "formel_tabell_samlingar/tabellsamling_print.html",
    "title": "Tabellsamling - Statistik och Dataanalys I",
    "section": "",
    "text": "Warning: package 'dplyr' was built under R version 4.2.2\n\n\nWarning: package 'kableExtra' was built under R version 4.2.2"
  },
  {
    "objectID": "assignments/assignment2/Assignment2.html",
    "href": "assignments/assignment2/Assignment2.html",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "",
    "text": "Installation av nödvändiga paket\n\n\n\nDen här inlämningsuppgiften förutsätter att följande paket finns installerade:\n\nmosaic\n\nPaket kan installeras via kommandot install.packages('packagename'), där 'packagename' är namnet på paketet, t.ex 'mosaic'."
  },
  {
    "objectID": "assignments/assignment2/Assignment2.html#introduktion",
    "href": "assignments/assignment2/Assignment2.html#introduktion",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "Introduktion",
    "text": "Introduktion\nI den första inlämningsuppgiften ska ni självständigt i grupper om tre analysera ett dataset i programmeringsspråket R. Till skillnad från datorlaborationerna finns det minimalt med kodexempel. Datorlaborationerna går igenom de flesta momenten som behandlas i inlämningsuppgiften, så se till att göra klart dessa innan.\n\n\n\n\n\n\n\nInstruktioner\n\n\n\nI denna inlämningsuppgift ska ni analysera ett datamaterial … Följande variabler finns i datasetet boston_census_data.Rdata (ladda ner) …\n\ntown: Stadsdel.\nlongitude: Longitud koordinat..\nlower_stat_pct: Procentandel underklass definerad som en av två: (i) andel vuxna utan gymnasieutbildning eller (ii) andel män som genomför okvalificerat arbete.\n\nROADMAP\nInlämningsuppgiften ska lämnas in i form av ett html dokument genererat av Quarto. Kontrollera noga att du inte har några felmeddelande och att dokumentet kompileras utan problem. Använd tydliga figurer och namnge axlarna med tydliga variabelnamn. Glöm inte att skriva era namn ovanför istället för Namn 1, Namn 2 och Namn 3."
  },
  {
    "objectID": "assignments/assignment2/Assignment2.html#ladda-in-data",
    "href": "assignments/assignment2/Assignment2.html#ladda-in-data",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "0. Ladda in data",
    "text": "0. Ladda in data\n\n💪 Uppgift 0.1\nLadda in dataseten Boston_census_data.Rdata och Boston_districts_to_predict.Rdata (länkar för att ladda ner data finns i Instruktioner avsnittet ovan).\n\n\n\n\n\n\nUppgift 0.1 - Svar\n\n\n\n\n# Write your code here\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/assignments/assignment1/Boston_census_data.RData?raw=true\"))"
  },
  {
    "objectID": "assignments/assignment2/Assignment2.html#kriminalitet-i-boston",
    "href": "assignments/assignment2/Assignment2.html#kriminalitet-i-boston",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "1. Kriminalitet i Boston",
    "text": "1. Kriminalitet i Boston\nI detta avsnitt ska ni analysera kriminaliteten i Boston med hjälp av variabeln crime_rate.\n\n💪 Uppgift 1.1\nVad kan man generellt säga om kriminaliteten i censusdistrikten? Använd lämpliga figurer samt fördelningsmått som underlag.\n\n\n\n\n\n\nUppgift 1.1 - Svar\n\n\n\nSkriv svaret här. Vid behov skrivs matematiska symboler inom dollartecken, till exempel \\(\\overline{y} = \\sum^{n}_{i=1} y_i\\). Koden skrivs i R-rutan nedanför.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 1.2\nVarierar brottsligheten i Boston beroende på den kategoriska variabeln town? Det finns 88 olika utfall av town (dvs 88 olika stadsdelar). Välj ut Boston East Boston, Boston Downtown,Cambridge, samt två valfria stadsdelar för att besvara frågan. Frågan besvaras med hjälp av lämpligt valda figurer och statistiska mått.\n\n\n\n\n\n\nTips\n\n\n\nSkapa en ny data frame som filtrerar Boston_census_data (till exempel genom filter() funktionen) utefter de stadsdelarna ni är intresserade utav innan ni påbörjar analysen.\n\n\n\n\n\n\n\n\nUppgift 1.2 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here\n\n\n\n\n\n💪 Uppgift 1.3\nVilka tre variabler i datasetet Boston_census_data korrelerar mest med brottslighet? Beskriv det parvisa sambandet mellan brottslighet och vardera av dessa tre variabler.\n\n\n\n\n\n\nTips\n\n\n\nKom ihåg att korrelation är ett beroendemått för numeriska variabler.\n\n\n\n\n\n\n\n\nUppgift 1.3 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here"
  },
  {
    "objectID": "assignments/assignment2/Assignment2.html#fastighetsskatt-i-boston",
    "href": "assignments/assignment2/Assignment2.html#fastighetsskatt-i-boston",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "2. Fastighetsskatt i Boston",
    "text": "2. Fastighetsskatt i Boston\nI detta avsnitt ska ni analysera fastighetsskatten i Boston med hjälp av variabeln tax_rate.\n\n💪 Uppgift 2.1\nVad kan man generellt säga om fastighetsskatten i censusdistrikten? Använd lämpliga figurer samt fördelningsmått som underlag.\n\n\n\n\n\n\nUppgift 2.1 - Svar\n\n\n\nSkriv svaret här.\n\n# Write your code here"
  },
  {
    "objectID": "datorlab/lab5/DatorLab5.html",
    "href": "datorlab/lab5/DatorLab5.html",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "",
    "text": "Varning\n\n\n\nDen här labben förutsätter att följande paket finns installerade:\n\nmosaic\ncorrplot\n\nPaket kan installeras via kommandot install.packages('packagename'), där 'packagename' är namnet på paketet, t.ex 'mosaic'."
  },
  {
    "objectID": "datorlab/lab5/DatorLab5.html#introduktion",
    "href": "datorlab/lab5/DatorLab5.html#introduktion",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "Introduktion",
    "text": "Introduktion\n\nI den här datorlabben kommer vi att beskriva samband mellan två numeriska variabler via punktdiagram och korrelation. Vi kommer också att modellera samband via både enkel och multiple linjär regression och lära oss tolka resultaten samt modellvalidering. Vi kommer att lära oss prediktion i linjär regression och hur man kan genomföra modellval genom korsvalidering. När data inte uppvisar ett linjärt samband ska vi lära oss hur man kan transformera data och anpassa en icke-linjär regression. Icke-linjär regression är svårare att tolka, men har klart bättre prediktionsförmåga om det finns icke-linjära samband mellan variabler. För de studenterna som är intresserade så finns det ett extra avsnitt som dyker lite djupare i R.\n\n\n💪 Uppgift 0.1\nSe till att paketen ovan är installerade innan du fortsätter med resten.\n\n\n💪 Uppgift 0.2\nSkapa en mapp Lab4 i din kursmapp SDA1 (såsom ni gjorde i Lab 1). Ladda ner Quarto-filen för denna lab genom att högerklicka här och välj ‘Spara länk’ eller något likande från menyn som dyker upp. Spara filen i din nya Lab4 mapp. Öppna Quarto-filen i RStudio. Du kan nu fortsätta med denna laboration direkt i Quarto-dokumentet, där du också fyller i svaren på dina laborationsövningar. Du kan alltså lämna den här webbsidan nu och fortsätta arbetet i RStudio.\nVäl inne i RStudio med öppnat Quarto-dokument i ‘Editor’ kan ni gå över till ‘Source mode’ genom att klicka på ‘Source’ i det vänstra hörnet av din ‘Editor’. Source mode är detaljerat och bra att skriva kod i eftersom man har full kontroll på dokumentet, men det är svårt att få en översikt av dokumentet. Prova nu att gå över till ‘Visual mode’ genom att klicka på ‘Visual’ i det vänstra hörnet av din ‘Editor’. Vi rekommenderar att ni mestadels arbetar i Visual mode, men att gå över till Source mode när man verkligen vill få till någon detalj som är svår att ändra i Visual mode. ´\n\n\n💪 Uppgift 0.3\nKlicka på knappen Render i Editor-fönstret för att kompilera filen till en webbsida (html). Webbsidan kommer antingen att visas i Viewer-fönstret i RStudio eller i webbläsaren på din dator. Om din webbsida visas i webbläsaren rekommenderar vi att du ändrar inställningarna i RStudio så webbsidan visas i Viewer-fönstret. Du ställer in detta på menyn Tools/Global Options… och sen väljer du Viewer Pane vid Show output preview in:\n\n\n\n\n\n\n\n💪 Uppgift 0.4\nQuarto säkerställer att man befinner sig i korrekt arbetsmapp när koden i dokumentet exekveras. Med korrekt arbetsmapp menas den mappen ni sparade .qmd filen i. Vill du komma åt dataseten via load() kommandot måste dataseten vara sparade i samma mapp.\nEtt vanligt arbetssätt är att man jobbar i RStudio i en separat .R fil, där man kan testa att köra kod innan den kopieras över till Quarto dokumentet. Den .R filen kommer inte att ha samma ‘working directory’ som Quarto filen. Du måste då använda setwd() funktionen i .R filen för att ställa in ‘working directory’. Notera att man också välja att skriva kod i Console som finns längst ner i RStudio. Där måste du också ställa in rätt ‘working directory’. Det är inte rekommenderat att använda Console eftersom koden inte sparas där. Du kanske kommer på något jättesmart som du glömmer att kopiera över till Quarto dokumentet och kan senare inte hitta det du skrev.\n\n\n\n\n\n\nRStudios Editor ändras beroende på vilken sorts fil du har öppen\n\n\n\nNotera att ikonerna i Editor är annorlunda när du har ett Quarto-dokument öppet jämfört med tidigare när vi hade en fil med ren R-kod (dvs en .R fil) öppen."
  },
  {
    "objectID": "assignments/assignment2/Assignment2.html#läsa-in-data",
    "href": "assignments/assignment2/Assignment2.html#läsa-in-data",
    "title": "Statistik och dataanalys I, 15 hp",
    "section": "0. Läsa in data",
    "text": "0. Läsa in data\n\n💪 Uppgift 0.1\nLadda in dataseten Boston_census_data.Rdata och Boston_districts_to_predict.Rdata (länkar för att ladda ner data finns i Instruktioner avsnittet ovan).\n\n\n\n\n\n\nUppgift 0.1 - Svar\n\n\n\n\n# Write your code here\nload(file = url(\"https://github.com/StatisticsSU/SDA1/blob/main/assignments/assignment1/Boston_census_data.RData?raw=true\"))"
  }
]